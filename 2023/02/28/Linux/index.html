<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Linux 基础使用命令设置主机名 12hostnamectl set-hostname xxxcat &#x2F;etc&#x2F;hostname  Linux 常用命令帮助类清屏​		clear	CTRL+L		reset（彻底清屏） ​		清空文件内容：echo “” &gt; sources.list man​		帮助命令：man [命令] help​		帮助命令：help [命令] 文件目录类pwd：显示">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://example.com/2023/02/28/Linux/index.html">
<meta property="og:site_name" content="MineTing">
<meta property="og:description" content="Linux 基础使用命令设置主机名 12hostnamectl set-hostname xxxcat &#x2F;etc&#x2F;hostname  Linux 常用命令帮助类清屏​		clear	CTRL+L		reset（彻底清屏） ​		清空文件内容：echo “” &gt; sources.list man​		帮助命令：man [命令] help​		帮助命令：help [命令] 文件目录类pwd：显示">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/02/28/Linux/Java/Document/Linux/Linux%20%E5%9F%BA%E7%A1%80.assets/image-20220922225327132.png">
<meta property="og:image" content="http://example.com/2023/02/28/Linux/Java/Document/Linux/Linux%20%E5%9F%BA%E7%A1%80.assets/image-20220922230454021.png">
<meta property="og:image" content="http://example.com/2023/02/28/Linux/Java/Document/Linux/Linux%20%E5%9F%BA%E7%A1%80.assets/image-20220922231330161.png">
<meta property="article:published_time" content="2023-02-27T16:00:00.000Z">
<meta property="article:modified_time" content="2023-02-28T10:30:47.976Z">
<meta property="article:author" content="Fei">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/02/28/Linux/Java/Document/Linux/Linux%20%E5%9F%BA%E7%A1%80.assets/image-20220922225327132.png">

<link rel="canonical" href="http://example.com/2023/02/28/Linux/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux | MineTing</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MineTing</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-02-28 00:00:00 / Modified: 18:30:47" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Linux-基础"><a href="#Linux-基础" class="headerlink" title="Linux 基础"></a>Linux 基础</h1><p>使用命令设置主机名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname xxx</span><br><span class="line">cat /etc/hostname</span><br></pre></td></tr></table></figure>

<h1 id="Linux-常用命令"><a href="#Linux-常用命令" class="headerlink" title="Linux 常用命令"></a>Linux 常用命令</h1><h2 id="帮助类"><a href="#帮助类" class="headerlink" title="帮助类"></a>帮助类</h2><h3 id="清屏"><a href="#清屏" class="headerlink" title="清屏"></a>清屏</h3><p>​		clear	CTRL+L		reset（彻底清屏）</p>
<p>​		<strong>清空文件内容：echo “” &gt; sources.list</strong></p>
<h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><p>​		帮助命令：man [命令]</p>
<h3 id="help"><a href="#help" class="headerlink" title="help"></a>help</h3><p>​		帮助命令：help [命令]</p>
<h2 id="文件目录类"><a href="#文件目录类" class="headerlink" title="文件目录类"></a>文件目录类</h2><h3 id="pwd：显示当前目录"><a href="#pwd：显示当前目录" class="headerlink" title="pwd：显示当前目录"></a>pwd：显示当前目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root ~]# pwd</span><br><span class="line">/root</span><br></pre></td></tr></table></figure>

<h3 id="ls：列出目录内容"><a href="#ls：列出目录内容" class="headerlink" title="ls：列出目录内容"></a>ls：列出目录内容</h3><p>基本语法：ls 	[选项] 	[目录或是文件]</p>
<p>常用选项</p>
<p>-a ：显示当前目录所有的文件和目录，包括隐藏的文件</p>
<p>-l ：以列表的方式显示信息。（等价于 ll ）</p>
<p><strong>-h：human人性化，可以查看文件大小。</strong></p>
<p><strong>-R：显示所有文件。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@root ~]# ls -lah</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件类型与权限 链接数 文件属主 文件属组 文件大小用byte来表示 建立或最近修改的时间 名字</span></span><br><span class="line">dr-xr-x---. 16 root root 4.0K 4月  24 22:17 .</span><br><span class="line">dr-xr-xr-x. 17 root root  224 4月   9 18:25 ..</span><br><span class="line">-rw-------.  1 root root 1.8K 4月   9 18:26 anaconda-ks.cfg</span><br><span class="line">drwxr-xr-x.  3 root root   53 4月  24 17:57 archive</span><br><span class="line">-rw-------.  1 root root  11K 4月  24 22:17 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">drwx------. 15 root root 4.0K 4月   9 18:51 .cache</span><br><span class="line">drwxr-xr-x. 14 root root  261 4月   9 18:44 .config</span><br></pre></td></tr></table></figure>

<h3 id="cd：切换目录"><a href="#cd：切换目录" class="headerlink" title="cd：切换目录"></a>cd：切换目录</h3><p>cd：Change Directory 切换路径</p>
<p>cd ~ 或 cd 回到自己家目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# pwd</span><br><span class="line">/opt/shell</span><br><span class="line">[root@root shell]# cd</span><br><span class="line">[root@root ~]# cd /opt/shell</span><br><span class="line">[root@root shell]# cd ~</span><br></pre></td></tr></table></figure>

<h3 id="mkdir：创建目录"><a href="#mkdir：创建目录" class="headerlink" title="mkdir：创建目录"></a>mkdir：创建目录</h3><p>mkdir [选项] 要创建的目录</p>
<p>参数：-p  创建多级目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root opt]# mkdir ./linux/dir</span><br><span class="line">mkdir: 无法创建目录&quot;./linux/dir&quot;: 没有那个文件或目录</span><br><span class="line">[root@root opt]# mkdir ./linux/dir -p</span><br><span class="line">[root@root opt]# ls</span><br><span class="line">linux  rh</span><br></pre></td></tr></table></figure>

<h3 id="rmdir：删除空目录"><a href="#rmdir：删除空目录" class="headerlink" title="rmdir：删除空目录"></a>rmdir：删除空目录</h3><p>注意：<strong>如果需要删除非空目录，需要使用 rm -rf 要删除的目录。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root opt]# rmdir ./linux</span><br><span class="line">rmdir: 删除 &quot;./linux&quot; 失败: 目录非空</span><br><span class="line">[root@root opt]# rm -rf ./linux</span><br><span class="line">[root@root opt]# ls</span><br><span class="line">rh</span><br></pre></td></tr></table></figure>

<h3 id="touch：创建一个或多个空文件"><a href="#touch：创建一个或多个空文件" class="headerlink" title="touch：创建一个或多个空文件"></a>touch：创建一个或多个空文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root dir]# touch test test2 &amp;&amp; ls</span><br><span class="line">test test2</span><br></pre></td></tr></table></figure>

<h3 id="cp-：拷贝文件或文件夹"><a href="#cp-：拷贝文件或文件夹" class="headerlink" title="cp ：拷贝文件或文件夹"></a>cp ：拷贝文件或文件夹</h3><p>基本语法： cp [选项] source destation</p>
<p>常用选项：</p>
<p>​		-r ：递归复制整个文件夹，<strong>单独拷贝文件或压缩包不需要加 -r ，对于文件夹需要添加 -r</strong></p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. 将一个文件夹下复制到另一个文件夹下</span></span><br><span class="line">cp -r srcDir/ destDir/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. 将一个文件夹下的所有内容复制到另一个文件夹下</span></span><br><span class="line">cp -r srcDir/* destDir/</span><br><span class="line">cp -r srcDir/. destDir/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意拷贝多级目录时需要加递归参数 -r，否则不生效，提示：<span class="built_in">cp</span>: 略过目录<span class="string">&quot;apache-tomcat-8.5.70&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>注意：如果目的目录下有相同的文件则会提示是否进行覆盖，<strong>强制覆盖不提示的方法：\cp（在前面加\）</strong></p>
<h3 id="rm-：移除文件或目录"><a href="#rm-：移除文件或目录" class="headerlink" title="rm ：移除文件或目录"></a>rm ：移除文件或目录</h3><p>基本语法：rm [选项] 要删除的文件或目录。</p>
<p>常用选项</p>
<p><strong>-r ：递归删除整个文件夹。</strong></p>
<p><strong>-f ：强制删除不提示。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@root dir]# rm -rf test</span><br></pre></td></tr></table></figure>

<h3 id="mv-：移动文件与目录或重命名"><a href="#mv-：移动文件与目录或重命名" class="headerlink" title="mv ：移动文件与目录或重命名"></a><strong>mv ：移动文件与目录或重命名</strong></h3><p>基本语法</p>
<p>重命名：mv oldNameFile newNameFile</p>
<p>移动文件：mv &#x2F;temp&#x2F;movefile &#x2F;targetFolder</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@root dir]# touch config.txt</span><br><span class="line">[root@root dir]# mv config.txt config.txt.bak</span><br><span class="line">[root@root dir]# ls</span><br><span class="line">config.txt.bak</span><br><span class="line">[root@root dir]# mv config.txt.bak /opt/linux/ &amp;&amp; ls /opt/linux/</span><br><span class="line">config.txt.bak  dir</span><br></pre></td></tr></table></figure>

<h3 id="cat-：查看文件内容"><a href="#cat-：查看文件内容" class="headerlink" title="cat ：查看文件内容"></a>cat ：查看文件内容</h3><p>基本语法： cat [选项] 要查看的文件。</p>
<p>注意：会显示全部文件内容，一般会带上管道命令 | more。管道符 <strong>|</strong> 作为连接使用。</p>
<p>常用选项</p>
<p><strong>-n ：显示行号</strong></p>
<p>示例： &#x2F;etc&#x2F;profile 文件内容，并显示行号。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@root ~]# cat -n /etc/profile</span><br><span class="line">     1  # /etc/profile</span><br><span class="line">     2</span><br><span class="line">     3  # System wide environment and startup programs, for login setup</span><br><span class="line">     4  # Functions and aliases go in /etc/bashrc</span><br><span class="line">     5</span><br><span class="line">     6  # It&#x27;s NOT a good idea to change this file unless you know what you</span><br><span class="line">     7  # are doing. It&#x27;s much better to create a custom.sh shell script in</span><br><span class="line">     8  # /etc/profile.d/ to make custom changes to your environment, as this</span><br><span class="line">     9  # will prevent the need for merging in future updates.</span><br><span class="line">    10</span><br><span class="line">    11  pathmunge () &#123;</span><br><span class="line">    12      case &quot;:$&#123;PATH&#125;:&quot; in</span><br><span class="line">    13          *:&quot;$1&quot;:*)</span><br><span class="line">    14              ;;</span><br><span class="line">    15          *)</span><br><span class="line">    16              if [ &quot;$2&quot; = &quot;after&quot; ] ; then</span><br><span class="line">    17                  PATH=$PATH:$1</span><br><span class="line">    18              else</span><br><span class="line">    19                  PATH=$1:$PATH</span><br><span class="line">    20              fi</span><br><span class="line">    21      esac</span><br><span class="line">    22  &#125;</span><br><span class="line">    23</span><br></pre></td></tr></table></figure>

<h3 id="more：一次性加载"><a href="#more：一次性加载" class="headerlink" title="more：一次性加载"></a>more：一次性加载</h3><p>​		more指令是一个基于 VI 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容（一次性加载全部文件内容）。more指令中内置了若干快捷键，详见操作说明。</p>
<p>基本语法：more 要查看的文件</p>
<p>操作说明：</p>
<table>
<thead>
<tr>
<th><strong>操作</strong></th>
<th><strong>功能说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>空白键（space）</strong></td>
<td>代表向下翻一页</td>
</tr>
<tr>
<td><strong>Enter</strong></td>
<td>代表向下翻一行</td>
</tr>
<tr>
<td><strong>q</strong></td>
<td>立即离开，不再显示文件内容</td>
</tr>
<tr>
<td><strong>Ctrl+F</strong></td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td><strong>Ctrl+B</strong></td>
<td>返回上一屏</td>
</tr>
<tr>
<td><strong>&#x3D;</strong></td>
<td>输出当前行号</td>
</tr>
<tr>
<td><strong>:f</strong></td>
<td>输出文件名和当前行号</td>
</tr>
</tbody></table>
<h3 id="less：按需加载，日志推荐"><a href="#less：按需加载，日志推荐" class="headerlink" title="less：按需加载，日志推荐"></a><strong>less：按需加载，日志推荐</strong></h3><p>​		less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是<strong>比 more 指令更加强大，支持各种显示终端。</strong>less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。<strong>（日志推荐使用less）</strong></p>
<p>操作说明：</p>
<table>
<thead>
<tr>
<th><strong>操作</strong></th>
<th><strong>功能说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>空格</strong></td>
<td>向下翻动一页</td>
</tr>
<tr>
<td><strong>【pagedown】</strong></td>
<td>向下翻动一页</td>
</tr>
<tr>
<td><strong>【pageup】</strong></td>
<td>向上翻动一页</td>
</tr>
<tr>
<td><strong>&#x2F;字符串</strong></td>
<td>向下搜寻【字符串】，n：向下查找，N：向上查找</td>
</tr>
<tr>
<td><strong>?字符串</strong></td>
<td>向上搜寻【字符串】，n：向上查找，N：向下查找</td>
</tr>
<tr>
<td><strong>q</strong></td>
<td>离开less</td>
</tr>
</tbody></table>
<h3 id="gt-输出重定向和-gt-gt-追加"><a href="#gt-输出重定向和-gt-gt-追加" class="headerlink" title="&gt; 输出重定向和 &gt;&gt; 追加"></a>&gt; 输出重定向和 &gt;&gt; 追加</h3><p>示例：</p>
<p>​		ls -l &gt; 文件 （功能描述：列表的内容写入文件appendTest.txt中（覆盖写））</p>
<p>​		cat 文件1 &gt; 文件2 （功能描述：将文件1的内容覆盖到文件2）</p>
<p>​		echo “内容”&gt;&gt; 文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;Hello Wolrd&quot; &gt;&gt; a.txt</span><br><span class="line">cat /etc/profile &gt;&gt; global.cof</span><br><span class="line">echo &quot;&quot; &gt; a.txt</span><br></pre></td></tr></table></figure>

<h3 id="head：默认显示前-10-行"><a href="#head：默认显示前-10-行" class="headerlink" title="head：默认显示前 10 行"></a>head：默认显示前 10 行</h3><p>​		head 用于显示文件的开头部分内容，默认情况下head指令显示文件的前10行内容。</p>
<p>基本语法：</p>
<p>​		head 文件 (功能描述：默认查看文件头10行内容) </p>
<p>​		head -n 5 文件 (功能描述：查看文件头5行内容，5可以是任意行数)</p>
<h3 id="tail：默认显示后10行"><a href="#tail：默认显示后10行" class="headerlink" title="tail：默认显示后10行"></a>tail：默认显示后10行</h3><p>​		tail用于输出文件中尾部的内容，默认情况下tail指令显示文件的后10行内容。 </p>
<p>基本语法</p>
<ol>
<li>tail 文件 （功能描述：查看文件后10行内容）</li>
<li>tail -n 5 文件 （功能描述：查看文件后5行内容，5可以是任意行数）</li>
<li><strong>tail -f 文件 （功能描述：实时追踪该文档的所有更新）CTRL + C退出</strong></li>
</ol>
<h3 id="wc：统计字数"><a href="#wc：统计字数" class="headerlink" title="wc：统计字数"></a>wc：统计字数</h3><p>​		利用 wc 指令我们可以计算文件的 Byte 数、字数、或是行数，若不指定文件名称、或是所给予的文件名为”-“，则wc指令会从标准输入设备读取数据。</p>
<p>语法：<strong>wc [-clw][–help][–version][文件…]</strong></p>
<p><strong>可以统计多个文件。</strong></p>
<p><strong>参数说明：</strong></p>
<ol>
<li><strong>-c或–bytes或–chars 只显示Bytes数。</strong></li>
<li><strong>-l或–lines 显示行数。</strong></li>
<li><strong>-w或–words 只显示字数。</strong></li>
<li>–help 在线帮助。</li>
<li>–version 显示版本信息。</li>
</ol>
<p><strong>示例：统计文件字数</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root testCommand]# vim testWC.txt</span><br><span class="line">[root@root testCommand]# wc testWC.txt</span><br><span class="line">  5  12 110 testWC.txt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5 行 12 字数 110 字节数</span></span><br></pre></td></tr></table></figure>

<h3 id="ln-：软链接"><a href="#ln-：软链接" class="headerlink" title="ln ：软链接"></a>ln ：软链接</h3><p>基本语法</p>
<p>​		ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）</p>
<p>示例： 在 &#x2F;home 目录下创建一个软连接 linkToRoot，连接到 &#x2F;root 目录，删除软连接 linkToRoot</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@root home]# ln -s /root homeToRoot</span><br><span class="line">[root@root home]# ll</span><br><span class="line">总用量 0</span><br><span class="line">lrwxrwxrwx. 1 root   root    5 4月  24 23:10 homeToRoot -&gt; /root</span><br><span class="line">drwx------. 3 liufei liufei 78 4月   9 18:14 liufei</span><br><span class="line">[root@root home]# cd homeToRoot/</span><br><span class="line">[root@root homeToRoot]# ls</span><br><span class="line">anaconda-ks.cfg  archive  initial-setup-ks.cfg  shell  testCommand  公共  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class="line">[root@root homeToRoot]# pwd</span><br><span class="line">/home/homeToRoot</span><br></pre></td></tr></table></figure>

<p>注意事项：当我们使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。</p>
<h3 id="history：显示历史指令"><a href="#history：显示历史指令" class="headerlink" title="history：显示历史指令"></a>history：显示历史指令</h3><p>​		查看已经执行过历史命令，也可以执行历史指令。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示所有的历史命令</span></span><br><span class="line">history</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示最近使用过的10个指令</span></span><br><span class="line">history 10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行历史编号为10的指令</span></span><br><span class="line">! 10</span><br></pre></td></tr></table></figure>

<h2 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h2><h3 id="date：显示日期"><a href="#date：显示日期" class="headerlink" title="date：显示日期"></a>date：显示日期</h3><p>基本语法</p>
<ol>
<li><p>date （功能描述：显示当前时间）</p>
</li>
<li><p>date +%Y （功能描述：显示当前年份）</p>
</li>
<li><p>date +%m （功能描述：显示当前月份）</p>
</li>
<li><p>date +%d （功能描述：显示当前是哪一天）</p>
</li>
<li><p>date “+%Y-%m-%d %H：%M：%S”（功能描述：显示年月日时分秒）</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@root homeToRoot]# date +%Y</span><br><span class="line">2022</span><br><span class="line">[root@root homeToRoot]# date +%y</span><br><span class="line">22</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意M表示分钟，m表示月份（从1开始）</span></span><br><span class="line">[root@root homeToRoot]# date +%M</span><br><span class="line">17</span><br><span class="line">[root@root homeToRoot]# date +%m</span><br><span class="line">04</span><br><span class="line">[root@root homeToRoot]# date &quot;+%Y年-%m月-%d日 %H:%M:%S&quot;</span><br><span class="line">2022年-04月-24日 23:19:31</span><br><span class="line">[root@root homeToRoot]#</span><br></pre></td></tr></table></figure>

<h3 id="cal：查看日历"><a href="#cal：查看日历" class="headerlink" title="cal：查看日历"></a>cal：查看日历</h3><p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@root homeToRoot]# cal</span><br><span class="line">      四月 2022</span><br><span class="line">日 一 二 三 四 五 六</span><br><span class="line">                1  2</span><br><span class="line"> 3  4  5  6  7  8  9</span><br><span class="line">10 11 12 13 14 15 16</span><br><span class="line">17 18 19 20 21 22 23</span><br><span class="line">24 25 26 27 28 29 30</span><br><span class="line"></span><br><span class="line">[root@root homeToRoot]# cal 2022</span><br><span class="line">                               2022</span><br><span class="line"></span><br><span class="line">        一月                   二月                   三月</span><br><span class="line">日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六</span><br><span class="line">                   1          1  2  3  4  5          1  2  3  4  5</span><br><span class="line"> 2  3  4  5  6  7  8    6  7  8  9 10 11 12    6  7  8  9 10 11 12</span><br><span class="line"> 9 10 11 12 13 14 15   13 14 15 16 17 18 19   13 14 15 16 17 18 19</span><br><span class="line">16 17 18 19 20 21 22   20 21 22 23 24 25 26   20 21 22 23 24 25 26</span><br><span class="line">23 24 25 26 27 28 29   27 28                  27 28 29 30 31</span><br><span class="line">30 31</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<h2 id="搜索查找类"><a href="#搜索查找类" class="headerlink" title="搜索查找类"></a>搜索查找类</h2><h3 id="which：查看可执行文件的位置"><a href="#which：查看可执行文件的位置" class="headerlink" title="which：查看可执行文件的位置"></a>which：查看可执行文件的位置</h3><p>​		查看可执行文件的位置。在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p>
<p>命令功能：</p>
<p>​		which指令会在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p>
<p>命令参数：</p>
<p>-n 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。</p>
<p>-p 　与-n参数相同，但此处的包括了文件的路径。</p>
<p>-w 　指定输出时栏位的宽度。</p>
<p>-V 　显示版本信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root homeToRoot]# which firefox</span><br><span class="line">/usr/bin/firefox</span><br></pre></td></tr></table></figure>

<h3 id="find：查找文件目录"><a href="#find：查找文件目录" class="headerlink" title="find：查找文件目录"></a>find：查找文件目录</h3><p>​		find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。</p>
<p>基本语法：<strong>find [搜索范围] [选项]</strong></p>
<p>选项说明</p>
<table>
<thead>
<tr>
<th><strong>选项</strong></th>
<th><strong>功能</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>-name&lt;查询方式&gt;</strong></td>
<td>按照指定的文件名查找模式查找文件</td>
</tr>
<tr>
<td><strong>-user&lt;用户名&gt;</strong></td>
<td>查找属于指定用户名的所有文件</td>
</tr>
<tr>
<td><strong>-size&lt;文件大小&gt;</strong></td>
<td>按照指定的文件大小查找文件</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据名称查找/home 目录下的hello.txt文件</span></span><br><span class="line">find /home -name hello.txt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用通配符时需要添加引号</span></span><br><span class="line">find /home -name &quot;hello*&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查找/opt目录下，用户名称为 nobody的文件。</span></span><br><span class="line">find /opt -user nobody</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查找整个Linux系统下大于200M的文件（+n 大于 -n小于 n等于）</span></span><br><span class="line">find / -size +20M</span><br></pre></td></tr></table></figure>

<h3 id="locate：快速定位文件路径"><a href="#locate：快速定位文件路径" class="headerlink" title="locate：快速定位文件路径"></a>locate：快速定位文件路径</h3><p>​		locate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件。locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate。</p>
<p>特别说明：由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">请使用locate 指令快速定位 hello文件所在目录</span></span><br><span class="line">updatedb</span><br><span class="line">locate hello</span><br></pre></td></tr></table></figure>

<h3 id="grep-指令和管道符号"><a href="#grep-指令和管道符号" class="headerlink" title="grep 指令和管道符号  |"></a>grep 指令和管道符号  |</h3><p>​		grep 过滤查找，<strong>管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。</strong></p>
<p>基本语法：<strong>grep [选项] 查找内容 源文件</strong></p>
<p>常用选项</p>
<table>
<thead>
<tr>
<th><strong>选项</strong></th>
<th><strong>功能</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>-n</strong></td>
<td>显示匹配行及行号</td>
</tr>
<tr>
<td><strong>-i</strong></td>
<td>忽略字母大小写</td>
</tr>
</tbody></table>
<p>示例：查找 &#x2F;etc&#x2F;profile下的 HOSTNAME 所在行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@root homeToRoot]# cat /etc/profile | grep -ni HostName</span><br><span class="line">45:HOSTNAME=`/usr/bin/hostname 2&gt;/dev/null`</span><br><span class="line">53:export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL</span><br></pre></td></tr></table></figure>

<h2 id="文件压缩类"><a href="#文件压缩类" class="headerlink" title="文件压缩类"></a>文件压缩类</h2><h3 id="gzip-x2F-gunzip"><a href="#gzip-x2F-gunzip" class="headerlink" title="gzip&#x2F;gunzip"></a>gzip&#x2F;gunzip</h3><p>​		gzip 用于压缩<strong>文件</strong>（<strong>不会保留原文件</strong>），gunzip 用于解压的。</p>
<p>基本语法：</p>
<p>gzip 文件 （功能描述：压缩文件，只能将文件压缩为 *.gz 文件）</p>
<p>gunzip 文件 .gz （功能描述：解压缩文件命令）</p>
<p><strong>说明：不会保留原文件。</strong></p>
<p><strong>参数 –r：对文件分别压缩</strong></p>
<p>示例： gzip 压缩，将 &#x2F;home 下的 hello.txt 文件先进行压缩再解压。</p>
<h3 id="zip-x2F-unzip"><a href="#zip-x2F-unzip" class="headerlink" title="zip&#x2F;unzip"></a>zip&#x2F;unzip</h3><p>zip 用于压缩文件，unzip 用于解压的，这个在项目打包发布中很有用的。</p>
<p>基本语法</p>
<p>zip  [选项]  XXX.zip 将要压缩的内容（功能描述：压缩文件和目录的命令）</p>
<p>unzip  [选项]  XXX.zip （功能描述：解压缩文件）</p>
<p>zip常用选项</p>
<p>-r：递归压缩，即压缩目录</p>
<p>unzip的常用选项</p>
<p>-d ：指定解压后文件的存放目录</p>
<p>示例1： 将 &#x2F;home下的所有文件进行压缩成 mypackage.zip，对于单独的文件可以显示压缩率。</p>
<h3 id="tar：打包"><a href="#tar：打包" class="headerlink" title="tar：打包"></a>tar：打包</h3><p><strong>tar</strong> 指令是打包指令，最后打包后的文件是 <strong>.tar.gz</strong> 的文件。</p>
<p>打包和压缩：打包是指将一大堆文件或目录什么的变成一个总的文件，压缩则是将一个大的文件通过一些压缩算法变成一个小文件。</p>
<p>基本语法：<strong>tar [选项]  XXX.tar.gz 打包的内容</strong> </p>
<p>功能描述：打包目录，压缩后的文件格式 <strong>.tar.gz。</strong></p>
<p>选项说明</p>
<table>
<thead>
<tr>
<th><strong>选项</strong></th>
<th><strong>功能</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>-c</strong></td>
<td>产生 <strong>.tar</strong> 打包文件</td>
</tr>
<tr>
<td>-z</td>
<td><strong>打包同时压缩</strong></td>
</tr>
<tr>
<td><strong>-x</strong></td>
<td>解压  .tar 文件</td>
</tr>
<tr>
<td><strong>-f</strong></td>
<td>指定压缩后的文件名</td>
</tr>
<tr>
<td><strong>-v</strong></td>
<td>显示详细信息</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打包</span></span><br><span class="line">tar -zcvf testTar.tar.gz a.txt b.txt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">解压,-C 指定解压目录</span></span><br><span class="line">tar -zxvf testTar.tar.gz -C /root/testTar</span><br></pre></td></tr></table></figure>

<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="wget：下载资源"><a href="#wget：下载资源" class="headerlink" title="wget：下载资源"></a>wget：下载资源</h3><p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://nginx.org/download/nginx-1.6.2.tar.gz</span><br></pre></td></tr></table></figure>







<h1 id="VmWare-网络设置"><a href="#VmWare-网络设置" class="headerlink" title="VmWare 网络设置"></a>VmWare 网络设置</h1><h2 id="Vmware三种网络模式"><a href="#Vmware三种网络模式" class="headerlink" title="Vmware三种网络模式"></a>Vmware三种网络模式</h2><p>Vmware 提供了三种虚拟交换机和两张虚拟网卡：</p>
<blockquote>
<p>VMnet0：用于虚拟桥接网络下的虚拟交换机</p>
<p>VMnet1：用于虚拟Host-Only网络下的虚拟交换机</p>
<p>VMnet8：用于虚拟NAT网络下的虚拟交换机</p>
<p>VMware Network Adepter VMnet1：Host用于与Host-Only虚拟网络进行通信的虚拟网卡</p>
<p>VMware Network Adepter VMnet8：Host用于与NAT虚拟网络进行通信的虚拟网卡</p>
</blockquote>
<h3 id="桥接网络"><a href="#桥接网络" class="headerlink" title="桥接网络"></a>桥接网络</h3><p>桥接网络是指虚拟网卡通过 VMnet0 虚拟交换机和本地物理网卡进行桥接，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机。所以要想虚拟机也可以连接到互联网中，那 么两个网卡的IP地址也要设置为同一网段。</p>
<p>特点：</p>
<blockquote>
<p>默认情况下可以访问互联网</p>
<p>桥接网络的虚拟机IP地址和物理真机在同一个网段</p>
<p>主机B及其虚拟机B1可以和主机A1，A2相互通信</p>
</blockquote>
<img src="/2023/02/28/Linux/Java\Document\Linux\Linux 基础.assets\image-20220922225327132.png" alt="image-20220922225327132" style="zoom:80%;">



<h3 id="NAT网络"><a href="#NAT网络" class="headerlink" title="NAT网络"></a>NAT网络</h3><p>在NAT网络中，会用到VMware Network Adepter VMnet8虚拟网卡，主机上的VMware Network Adepter VMnet8虚拟网卡被直接连接到VMnet8虚拟交换机上与虚拟网卡进行通信。</p>
<p>VMware Network Adepter VMnet8虚拟网卡的作用仅限于和VMnet8网段进行通信，它不给VMnet8网段提供路由功能，所以虚拟机虚拟 一个NAT服务器，使虚拟网卡可以连 接到Internet。</p>
<p> VMware Network Adepter VMnet8虚拟网卡的IP地址是在安装VMware时由系统指定生成的，我们尽量不要修改这个数值，否则可能会使主机和虚拟机无法通信。</p>
<p>特点：</p>
<blockquote>
<p>默认情况下可以访问互联网</p>
<p>NAT网络的虚拟IP地址和物理真机不在同一个网段</p>
<p>为什么NAT网络可以访问互联网？因为NAT路由转换功能（地址转换技术）</p>
<p>主机B不能访问主机A1和主机A2</p>
</blockquote>
<img src="/2023/02/28/Linux/Java\Document\Linux\Linux 基础.assets\image-20220922230454021.png" alt="image-20220922230454021" style="zoom:80%;">

<h3 id="仅主机网络"><a href="#仅主机网络" class="headerlink" title="仅主机网络"></a>仅主机网络</h3><p>在Host-Only模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是物理真机。其实Host-Only网络和 NAT网络很相似，不同的地方就是Host-Only网络没有NAT服务，所以虚拟网络不能连接到Internet。主机和虚 拟机之间的通信是通过VMware Network Adepter VMnet1虚拟网卡来实现的。</p>
<p>特点：</p>
<blockquote>
<p>默认情况下不可以访问互联网</p>
<p>仅主机模式下虚拟机IP地址和物理真机不在同一个网段</p>
<p>主机A和主机A1，A2可以相互访问，因为有VMnet1虚拟网卡</p>
</blockquote>
<img src="/2023/02/28/Linux/Java\Document\Linux\Linux 基础.assets\image-20220922231330161.png" alt="image-20220922231330161" style="zoom:80%;">

<h2 id="Vmware虚拟网络编辑器"><a href="#Vmware虚拟网络编辑器" class="headerlink" title="Vmware虚拟网络编辑器"></a>Vmware虚拟网络编辑器</h2><h3 id="全局网络配置"><a href="#全局网络配置" class="headerlink" title="全局网络配置"></a>全局网络配置</h3><h4 id="桥接网络-1"><a href="#桥接网络-1" class="headerlink" title="桥接网络"></a>桥接网络</h4><p>注意：</p>
<blockquote>
<p>桥接模式，自动：会自动连接至网线或无线网络</p>
</blockquote>
<p>![image-20220923002339728](C:\Java\Document\Linux\Linux 基础.assets\image-20220923002339728.png)</p>
<h4 id="仅主机模式"><a href="#仅主机模式" class="headerlink" title="仅主机模式"></a>仅主机模式</h4><p>注意：</p>
<blockquote>
<p>仅主机模式，选择子网IP，DHCP表示动态获取网络</p>
</blockquote>
<p>![image-20220923002512674](C:\Java\Document\Linux\Linux 基础.assets\image-20220923002512674.png)</p>
<h4 id="NAT模式"><a href="#NAT模式" class="headerlink" title="NAT模式"></a>NAT模式</h4><p>![image-20220923002631240](C:\Java\Document\Linux\Linux 基础.assets\image-20220923002631240.png)</p>
<h3 id="单个虚拟机设置"><a href="#单个虚拟机设置" class="headerlink" title="单个虚拟机设置"></a>单个虚拟机设置</h3><h2 id="静态-IP-地址配置"><a href="#静态-IP-地址配置" class="headerlink" title="静态 IP 地址配置"></a>静态 IP 地址配置</h2><h3 id="方法一：修改网卡配置文件"><a href="#方法一：修改网卡配置文件" class="headerlink" title="方法一：修改网卡配置文件"></a>方法一：修改网卡配置文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /etc/sysconfig/network-scripts/</span><br><span class="line">[root@localhost network-scripts]# cp ifcfg-ens33 ifcfg-ens33.bak</span><br><span class="line">[root@localhost network-scripts]# vim ifcfg-ens33</span><br></pre></td></tr></table></figure>

<p>增加配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line"></span><br><span class="line">NAME=&quot;ens33&quot;					# 网卡名</span><br><span class="line">UUID=&quot;7525fa8a-a069-47fc-bd45-0d2eb148bef8&quot;		# 网卡UUID，唯一标识</span><br><span class="line">DEVICE=&quot;ens33&quot;					# 网卡设备名</span><br><span class="line">ONBOOT=&quot;yes&quot;					# 激活网卡</span><br><span class="line">BOOTPROTO=&quot;static&quot;				# IP获取方式，none和static表示静态，dhcp动态</span><br><span class="line">IPADDR=192.168.100.100			# IP地址</span><br><span class="line">PREFIX=24						# 子网掩码，等同于NETMASK=255.255.255.0</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.100.2			# 网关，默认 .2，Vmnet网卡默认 .1，其他的可作为IP</span><br><span class="line">DNS1=8.8.8.8					# dns服务器</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="重启网络服务"><a href="#重启网络服务" class="headerlink" title="重启网络服务"></a>重启网络服务</h3><p>Redhat6：service network restart</p>
<p>Redhat7：systemctl restart network.service</p>
<p>Redhat8：nmcli connection reload ens160</p>
<p>​					nmcli connection up ens160</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost network-scripts]# systemctl restart network.service</span><br><span class="line">[root@localhost network-scripts]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.100.100  netmask 255.255.255.0  broadcast 192.168.100.255</span><br><span class="line">        inet6 fe80::5416:4001:661d:1ada  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:ad:84:bb  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 457746  bytes 654018153 (623.7 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 105694  bytes 6433985 (6.1 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h1><h2 id="Shell概述"><a href="#Shell概述" class="headerlink" title="Shell概述"></a>Shell概述</h2><p>Shell是一个命令行解释器，为用户提供了一个向 Linux 发送请求以便运行程序的界面系统级程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序接收用户指令，然后调用系统内核，Shell有很多版本。</p>
<p>Linux提供的解析器：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# cat /etc/shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br></pre></td></tr></table></figure>

<p>bash 和 sh 的关系：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# ll /bin/ |grep bash</span><br><span class="line">-rwxr-xr-x. 1 root root      964536 4月   1 2020 bash</span><br><span class="line">lrwxrwxrwx. 1 root root          10 4月   9 18:14 bashbug -&gt; bashbug-64</span><br><span class="line">-rwxr-xr-x. 1 root root        6964 4月   1 2020 bashbug-64</span><br><span class="line">lrwxrwxrwx. 1 root root           4 4月   9 18:14 sh -&gt; bash</span><br></pre></td></tr></table></figure>

<p>Centos 默认的解析器是 bash：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# echo $SHELL</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<h2 id="Shell脚本入门"><a href="#Shell脚本入门" class="headerlink" title="Shell脚本入门"></a>Shell脚本入门</h2><p>脚本格式的要求：</p>
<p>​		**#!&#x2F;bin&#x2F;sh **是指此脚本使用 &#x2F;bin&#x2F;sh 来解释执行，#! 是特殊的表示符，其后面跟的是此解释此脚本的shell的路径。</p>
<p>示例：编写 Shell 脚本 helloworld.sh 输出 Hello World</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /opt/shell</span><br><span class="line">cd /opt/shell</span><br><span class="line">vim helloworld.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;Hello World&#x27;</span><br></pre></td></tr></table></figure>

<p>Shell脚本的执行方式：</p>
<p>方式一：使用命令 sh&#x2F;bash helloworld.sh 执行，文件路径可以使用绝对路径和相对路径。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost shell]# bash helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]# sh helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]# bash /opt/shell/helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]# sh /opt/shell/helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]#</span><br></pre></td></tr></table></figure>

<p>方式二：赋予文件可执行权限，直接使用相对路径和绝对路径执行文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost shell]# helloworld.sh</span><br><span class="line">bash: helloworld.sh: 未找到命令...</span><br><span class="line">[root@localhost shell]# chmod +x helloworld.sh</span><br><span class="line">[root@localhost shell]# ./helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]# /opt/shell/helloworld.sh</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>方式三：在脚本的路径前面加上点  .  或者 source</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost shell]# chmod -x helloworld.sh</span><br><span class="line">[root@localhost shell]# . helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]# source helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">[root@localhost shell]#</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<p>如果在 shell 脚本目录执行 helloworld.sh，则 shell 会将 helloworld.sh 当作一个命令，报错：未找到命令</p>
<p>关于 “.” 和 source 的区别：</p>
<ol>
<li>source 命令是 shell 内嵌的一种命令，由 cshell&#x2F;csh 演变而来。</li>
<li>“.”  命令由 bash 命令演变而来。</li>
</ol>
<p>注意方式三和前两种方式的区别：</p>
<ol>
<li>前两种方式都是在当前 shell 中打开一个子 shell 来执行脚本内容，当脚本内容结束，则子 shell 关闭，回到父 shell 中。 </li>
<li>第三种方式，在脚本路径前加  “.”  或者 source 的方式，可以使脚本内容在当前 shell 里执行，而无需打开子 shell。相当于读取文件的每一行命令，然后再当前 shell 中执行。如修改 &#x2F;etc&#x2F;profile 文件以后，需要 source 一下的原因。 </li>
<li>打开子 shell 与不打开子 shell 的区别就在于，环境变量的继承关系，如在子 shell 中设置的当前变量，父 shell 是不可见的。</li>
</ol>
<p>查看子bash进程：（-bash表示父bash）</p>
<p>使用 bash 命令开启一个新的进程。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# bash</span><br><span class="line">[root@root shell]# ps -f</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root       9873   9865  0 08:34 pts/4    00:00:00 -bash</span><br><span class="line">root      10766   9873  1 09:51 pts/4    00:00:00 bash</span><br><span class="line">root      10799  10766  0 09:52 pts/4    00:00:00 ps -f</span><br><span class="line">[root@root shell]# exit</span><br></pre></td></tr></table></figure>

<p>ps -ef |grep bash 相当于在子 shell 中执行 ps 命令，使用 exit 退出子shell。</p>
<p>bash 作为一个进程存在，开启 bash 就需要关闭 exit。</p>
<p>注意单引号与双引号的区别：</p>
<p>单引号：单引号中的内容不会转义或取值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# echo &#x27;----$USER----&#x27;</span><br><span class="line"><span class="meta prompt_">----$</span><span class="language-bash">USER----</span></span><br><span class="line">[root@root shell]# echo &quot;----$USER----&quot;</span><br><span class="line">----root---</span><br></pre></td></tr></table></figure>

<h2 id="Shell变量"><a href="#Shell变量" class="headerlink" title="Shell变量"></a>Shell变量</h2><p>Shell变量分为系统变量和用户自定义变量，也可以分为全局变量和局部变量。</p>
<p>对于全局变量和局部变量：如在 bash 进程中再开启 bash，全局变量对于子 bash 是可见的。</p>
<h3 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h3><p>如 $HOME、$PWD、$SHELL、$USER。</p>
<p>查看变量的方式：</p>
<ul>
<li><p>env</p>
</li>
<li><p>printenv</p>
</li>
<li><p>echo $HOME</p>
</li>
<li><p>printenv HOME</p>
</li>
<li><p>set</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# env |less</span><br><span class="line">[root@root shell]# env</span><br><span class="line">XDG_SESSION_ID=84</span><br><span class="line">HOSTNAME=root</span><br><span class="line">SELINUX_ROLE_REQUESTED=</span><br><span class="line">TERM=xterm</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">HISTSIZE=1000</span><br><span class="line">SSH_CLIENT=192.168.1.5 6921 22</span><br><span class="line">SELINUX_USE_CURRENT_RANGE=</span><br><span class="line">SSH_TTY=/dev/pts/4</span><br><span class="line">USER=root</span><br><span class="line">LS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:</span><br><span class="line">MAIL=/var/spool/mail/root</span><br><span class="line">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">PWD=/root/shell</span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line">SELINUX_LEVEL_REQUESTED=</span><br><span class="line">HISTCONTROL=ignoredups</span><br><span class="line">SHLVL=1</span><br><span class="line">HOME=/root</span><br><span class="line">LOGNAME=root</span><br><span class="line">XDG_DATA_DIRS=/root/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share</span><br><span class="line">SSH_CONNECTION=192.168.1.5 6921 192.168.1.130 22</span><br><span class="line">LESSOPEN=||/usr/bin/lesspipe.sh %s</span><br><span class="line">XDG_RUNTIME_DIR=/run/user/0</span><br><span class="line">DISPLAY=localhost:11.0</span><br><span class="line">_=/usr/bin/env</span><br><span class="line">OLDPWD=/root</span><br><span class="line">[root@root shell]# printenv</span><br><span class="line">XDG_SESSION_ID=84</span><br><span class="line">HOSTNAME=root</span><br><span class="line">...同上所述</span><br><span class="line">[root@root shell]# printenv USER</span><br><span class="line">root</span><br><span class="line">[root@root shell]# echo $HOME</span><br><span class="line">/root</span><br><span class="line">[root@root shell]# ls $HOME</span><br><span class="line">anaconda-ks.cfg  initial-setup-ks.cfg  shell  公共  模板  视频  图片  文档  下载  音乐  桌面</span><br><span class="line">[root@root shell]#</span><br><span class="line">[root@root shell]# set</span><br><span class="line">ABRT_DEBUG_LOG=/dev/null</span><br><span class="line">BASH=/bin/bash</span><br><span class="line">BASHOPTS=checkwinsize:cmdhist:expand_aliases:extglob:extquote:force_fignore:histappend:interactive_comments:login_shell:progcomp:promptvars:sourcepath</span><br><span class="line">BASH_ALIASES=()</span><br><span class="line">BASH_ARGC=()</span><br><span class="line">BASH_ARGV=()</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><p>定义变量：变量名&#x3D;变量值， &#x3D; 前后不能使用空格。</p>
<p>撤销变量：unset 变量名。</p>
<p>声明静态变量：readonly 变量，注意：不能 unset。</p>
<p><strong>读取变量：$变量名，${特殊变量名}</strong></p>
<p>变量定义规则 ：</p>
<ol>
<li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。</li>
<li>等号两侧不能有空格。</li>
<li>在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</li>
<li>变量的值如果有空格，需要使用双引号或单引号括起来。</li>
</ol>
<p>注释说明：</p>
<p># 单行注释</p>
<p>:&gt;&gt;! 多行注释 !</p>
<p>示例：变量的赋值及修改</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# A=1</span><br><span class="line">[root@root shell]# echo $A</span><br><span class="line">1</span><br><span class="line">[root@root shell]# A=2</span><br><span class="line">[root@root shell]# echo $A</span><br><span class="line">2</span><br><span class="line">[root@root shell]# unset A</span><br><span class="line">[root@root shell]# echo $A</span><br><span class="line"></span><br><span class="line">[root@root shell]# readonly B=2</span><br><span class="line">[root@root shell]# echo $B</span><br><span class="line">2</span><br><span class="line">[root@root shell]# unset B</span><br><span class="line">-bash: unset: B: 无法反设定: 只读 variable</span><br></pre></td></tr></table></figure>

<h3 id="注意事项-x2F-x2F"><a href="#注意事项-x2F-x2F" class="headerlink" title="注意事项 $[ ]&#x2F;$( )&#x2F;$(( ))"></a>注意事项 $[ ]&#x2F;$( )&#x2F;$(( ))</h3><p>在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</p>
<p><strong>如果要参与数值运算：</strong></p>
<p>方式一：$((表达式))</p>
<p>方式二：$[表达式]</p>
<p><strong>将命令的返回值赋值给变量</strong></p>
<p><strong>A&#x3D;<code>ls -la</code> 将命令的结果赋值返回给变量A</strong></p>
<p><strong>A&#x3D;$(ls -la)等价于反引号</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# C=1+2</span><br><span class="line">[root@root shell]# echo $C</span><br><span class="line">1+2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方式一</span></span><br><span class="line">[root@root shell]# C=$((1+2))</span><br><span class="line">[root@root shell]# echo $C</span><br><span class="line">3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">方式二</span></span><br><span class="line">[root@root shell]# C=$[1+2]</span><br><span class="line">[root@root shell]# echo $C</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>变量的值如果有空格，需要使用双引号或单引号括起来。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# D=Hello World</span><br><span class="line">bash: World: 未找到命令...</span><br><span class="line">[root@root shell]# D=&#x27;Hello World&#x27;</span><br><span class="line">[root@root shell]# echo $D</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>可把变量提升为全局环境变量，可供其他 Shell 程序使用。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# export D</span><br><span class="line">[root@root shell]# bash</span><br><span class="line">[root@root shell]# ps -f</span><br><span class="line">UID         PID   PPID  C STIME TTY          TIME CMD</span><br><span class="line">root       9873   9865  0 08:34 pts/4    00:00:00 -bash</span><br><span class="line">root      10819   9873  0 09:54 pts/4    00:00:00 bash</span><br><span class="line">root      10855  10819  0 09:54 pts/4    00:00:00 ps -f</span><br><span class="line">[root@root shell]# echo $D</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>子shell不会改变全局变量。</p>
<p>示例：(使用 “.” &#x2F; source会在当前 bash 中执行，将变量导出后才能在子 shell 中使用)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# E=&#x27;Hello Shell&#x27;</span><br><span class="line">[root@root shell]# vim helloworld.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;Hello World&#x27;</span><br><span class="line">echo $E</span><br><span class="line">[root@root shell]# ./helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line"></span><br><span class="line">[root@root shell]# . helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">Hello Shell</span><br><span class="line">[root@root shell]# export E</span><br><span class="line">[root@root shell]# ./helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">Hello Shell</span><br><span class="line">[root@root shell]#</span><br></pre></td></tr></table></figure>

<p><strong>将命令的返回值赋值给变量</strong></p>
<p><strong>A&#x3D;<code>ls -la</code> 将命令的结果赋值返回给变量A</strong></p>
<p><strong>A&#x3D;$(ls -la)等价于反引号</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost shell]# R=`ls -a /`</span><br><span class="line">[root@localhost shell]# echo $R</span><br><span class="line">. .. bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var</span><br><span class="line">[root@localhost shell]# R=$(ls -a /)</span><br><span class="line">[root@localhost shell]# echo $R</span><br><span class="line">. .. bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var</span><br><span class="line">[root@localhost shell]#</span><br></pre></td></tr></table></figure>

<h3 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h3><p>$PATH：环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# helloworld.sh</span><br><span class="line">bash: helloworld.sh: 未找到命令...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">不建议直接拷贝.sh文件到/bin目录</span></span><br><span class="line">[root@root shell]# cp helloworld.sh /bin/</span><br><span class="line">[root@root shell]# helloworld.sh</span><br><span class="line">Hello World</span><br><span class="line">Hello Shell</span><br><span class="line">[root@root shell]# rm -rf /bin/helloworld.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输出环境变量</span></span><br><span class="line">[root@root shell]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure>

<h3 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h3><h4 id="n-位置参数"><a href="#n-位置参数" class="headerlink" title="$n  位置参数"></a>$n  位置参数</h4><p>​		$n 功能描述：n 为数字，$0 代表该脚本名称，$1-$9 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如${10}。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim parameter.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;====位置参数====&#x27;</span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">[root@root shell]# chmod +x parameter.sh</span><br><span class="line">[root@root shell]# ./parameter.sh p1 p2</span><br><span class="line">====位置参数====</span><br><span class="line">parameter.sh</span><br><span class="line">p1</span><br><span class="line">p2</span><br></pre></td></tr></table></figure>

<h4 id="参数个数"><a href="#参数个数" class="headerlink" title="$#  参数个数"></a>$#  参数个数</h4><p>​		$#  	功能描述：获取所有输入参数个数，常用于循环，判断参数的个数是否正确。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim parameter.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;====位置参数====&#x27;</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo &#x27;====参数个数====&#x27;</span><br><span class="line">echo $#</span><br><span class="line">[root@root shell]# ./parameter.sh a b c</span><br><span class="line">====位置参数====</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">====参数个数====</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h4 id="与-具体参数"><a href="#与-具体参数" class="headerlink" title="$* 与 $@  具体参数"></a>$* 与 $@  具体参数</h4><p>​		$* （功能描述：这个变量代表命令行中所有的参数，$* 把所有的参数看成一个整体）</p>
<p>​		$@ （功能描述：这个变量也代表命令行中所有的参数，不过 $@ 把每个参数区分对待）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim parameter.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;位置变量：&quot;</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo &quot;参数个数：&quot;</span><br><span class="line">echo $#</span><br><span class="line">echo &#x27;变量$*：&#x27;</span><br><span class="line">echo $*</span><br><span class="line">echo &#x27;变量$@：&#x27;</span><br><span class="line">echo $@</span><br><span class="line">[root@root shell]# ./parameter.sh a b c</span><br><span class="line">位置变量：</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">参数个数：</span><br><span class="line">3</span><br><span class="line">变量$*：</span><br><span class="line">a b c</span><br><span class="line">变量$@：</span><br><span class="line">a b c</span><br></pre></td></tr></table></figure>

<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><p>​		shell 事先已经定义好的变量，可以直接在shell脚本中使用。</p>
<table>
<thead>
<tr>
<th align="center"><strong>$$</strong></th>
<th><strong>当前进程的进程号(PID)</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>$!</strong></td>
<td>后台运行的最后一个进程的进程号(PID)</td>
</tr>
<tr>
<td align="center"><strong>$?</strong></td>
<td>最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0 (具体是哪个数，由命令自己来决定)，则证明上一个命令执行不正确了。</td>
</tr>
</tbody></table>
<p><strong>$?  命令状态</strong></p>
<p>​		$？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则上一个命令执行错误）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]# parameter.sh</span><br><span class="line">bash: parameter.sh: 未找到命令...</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">127</span><br></pre></td></tr></table></figure>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>基本语法：</p>
<p>方式一：expr 参数1，参数2，……【不推荐】</p>
<p>expr 会将后面的内容当作参数，注意：需要使用空格分开</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# expr 1+2</span><br><span class="line">1+2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">传入三个参数, 1,+,2</span></span><br><span class="line">[root@root shell]# expr 1 + 2</span><br><span class="line">3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">* 表示通配符，需要进行转义</span></span><br><span class="line">[root@root shell]# expr 1 * 2</span><br><span class="line">expr: 语法错误</span><br><span class="line">[root@root shell]# expr 1 \* 2</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<p>方式二：$((运算式)) 或 $[运算式]</p>
<p>示例：计算（2+3）* 4 的值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# echo $(((2+3)*4))</span><br><span class="line">20</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">推荐使用</span></span><br><span class="line">[root@root shell]# echo $[(2+3)*4]</span><br><span class="line">20</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">空格不影响</span></span><br><span class="line">[root@root shell]# A=$[ ( 2 + 3 ) * 4]</span><br><span class="line">[root@root shell]# echo $A</span><br><span class="line">20</span><br></pre></td></tr></table></figure>

<p>方式三：使用变量接收 expr 命令的值：<strong>（命令替换）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# B=&quot;expr 1 + 2&quot;</span><br><span class="line">[root@root shell]# echo $B</span><br><span class="line">expr 1 + 2</span><br><span class="line">[root@root shell]# B=$(expr 1 \* 2)</span><br><span class="line">[root@root shell]# echo $B</span><br><span class="line">2</span><br><span class="line">[root@root shell]# B=`expr 2 \* 3`</span><br><span class="line">[root@root shell]# echo $B</span><br><span class="line">6</span><br><span class="line">[root@localhost shell]# R=$(ls -a /)</span><br><span class="line">[root@localhost shell]# echo $R</span><br><span class="line">. .. bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var</span><br></pre></td></tr></table></figure>

<p>示例：编写add.sh，输出两数之和。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim add.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=$[$1+$2]</span><br><span class="line">echo sum=$sum</span><br><span class="line">[root@root shell]# chmod +x add.sh</span><br><span class="line">[root@root shell]# ./add.sh 2 3</span><br><span class="line">sum=5</span><br></pre></td></tr></table></figure>

<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p>方式一：test condition（如果condition有值则为true）</p>
<p>方式二：[ condition ]（注意 condition 前后要有空格，<strong>条件非空即为true，否则为false</strong>)</p>
<p>​				非空返回true，可以使用 $? 进行验证，0 为 true，1 为 false。</p>
<p>​				[ condition ]&amp;&amp;echo ok||echo notok 条件满足，执行后面的语句。</p>
<p>使用 [ condition ] 替换 test condition</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# a=hello</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果=前后没有空格，就会被当作一个整体，会返回<span class="literal">true</span></span></span><br><span class="line">[root@root shell]# test $a=hello</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]# test $a=Hello</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">= 前后必须有空格</span></span><br><span class="line">[root@root shell]# test $a = Hello</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 [ condition ] 代替<span class="built_in">test</span> condition</span></span><br><span class="line">[root@root shell]# [ $a = abc ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">必须有空格，<span class="variable">$a</span>=hello被当作一个字符串了</span></span><br><span class="line">[root@root shell]# [ $a=abc ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]# [ abcd ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]# [  ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="常用判断条件"><a href="#常用判断条件" class="headerlink" title="常用判断条件"></a>常用判断条件</h3><p>（1）两个整数之间比较 </p>
<p>​	注意：使用 &gt; 会重定向，但在 for 循环语句中不会，可以使用</p>
<ul>
<li>-eq 等于（equal） </li>
<li>-ne 不等于（not equal） </li>
<li>-lt 小于（less than） </li>
<li>-le 小于等于（less equal）</li>
<li>-gt 大于（greater than）</li>
<li>-ge 大于等于（greater equal）</li>
</ul>
<p>注意：如果是字符串之间的比较 ，用等号 “&#x3D;” 判断相等；用 “!&#x3D;” 判断不等于</p>
<p>（2）按照文件权限进行判断</p>
<ul>
<li>-r   有读的权限（read）</li>
<li>-w  有写的权限（write）</li>
<li>-x  有执行的权限（execute）</li>
</ul>
<p>（3）按照文件类型进行判断 </p>
<ul>
<li><p>-e  文件存在（existence）</p>
</li>
<li><p>-f  文件存在并且是一个常规的文件（file） </p>
</li>
<li><p>-d  文件存在并且是一个目录（directory）</p>
<p> (4) 多条件判断</p>
</li>
</ul>
<p>​		&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令</p>
<p>示例一：判断整数大小关系</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# [ 2 = 3 ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@root shell]# [ 2 = 2 ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]# A=hello</span><br><span class="line">[root@root shell]# [ $A = abc ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@root shell]# [ $A=abc ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 会输出重定向到文件 3 中</span></span><br><span class="line">[root@root shell]# [ 2  &gt;  3 ]</span><br><span class="line">[root@root shell]# ll</span><br><span class="line">总用量 12</span><br><span class="line">-rw-r--r--. 1 root root   0 4月  24 11:25 3</span><br><span class="line">-rwxr-xr-x. 1 root root  39 4月  24 10:59 add.sh</span><br><span class="line">-rwxr-xr-x. 1 root root  39 4月  24 09:59 helloworld.sh</span><br><span class="line">-rwxr-xr-x. 1 root root 161 4月  24 10:37 parameter.sh</span><br><span class="line">[root@root shell]# [ 2  &lt;  3 ]</span><br><span class="line">[root@root shell]# [ 2 -lt 3 ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]#</span><br></pre></td></tr></table></figure>

<p>示例二：判断文件权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# touch test</span><br><span class="line">[root@root shell]# [ -x test ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@root shell]# [ -x helloworld.sh ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p>示例三：判断文件类型</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# [ -d test ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@root shell]# [ -f test ]</span><br><span class="line">[root@root shell]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@root shell]#</span><br></pre></td></tr></table></figure>

<p>示例四：多条件判断（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# [ condition ] &amp;&amp; echo ok ||echo error</span><br><span class="line">ok</span><br><span class="line">[root@root shell]# [  ] &amp;&amp; echo ok ||echo error</span><br><span class="line">error</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">示例2</span></span><br><span class="line">[root@root shell]# A=18</span><br><span class="line">[root@root shell]# [ $A -le 20 ] &amp;&amp; echo &quot;$A &lt;= 20&quot; || echo &quot;$A &gt;= 20&quot;</span><br><span class="line">18 &lt;= 20</span><br><span class="line">[root@root shell]# A=25</span><br><span class="line">[root@root shell]# [ $A -le 20 ] &amp;&amp; echo &quot;$A &lt;= 20&quot; || echo &quot;$A &gt;= 20&quot;</span><br><span class="line">25 &gt;= 20</span><br></pre></td></tr></table></figure>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if-判断"><a href="#if-判断" class="headerlink" title="if 判断"></a>if 判断</h3><p>（1）单分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">;表示语句在一行,如<span class="built_in">cd</span> /etc;<span class="built_in">ls</span></span></span><br><span class="line">if [ 条件 ];then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>（2）多分支	</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">elif [ 条件 ]</span><br><span class="line">then</span><br><span class="line">	程序</span><br><span class="line">else</span><br><span class="line">	程序</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<p> ① [ 条件判断式 ]，中括号和条件判断式之间必须有空格</p>
<p> ② if 后要有空格</p>
<p>​	可以使用 exit 退出判断</p>
<p>示例：根据输出的数判断大小</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim if.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">if [ $1 -eq 2 ];then</span><br><span class="line">        echo &quot;$1 等于 2&quot;</span><br><span class="line">elif [ $1 -lt 2 ]</span><br><span class="line">then</span><br><span class="line">        echo &quot;$1 小于 2&quot;</span><br><span class="line">else</span><br><span class="line">        echo &quot;$1 大于 2&quot;</span><br><span class="line">fi</span><br><span class="line">[root@root shell]# chmod +x if.sh</span><br><span class="line">[root@root shell]# ./if.sh 3</span><br><span class="line">3 大于 2</span><br><span class="line">[root@root shell]# ./if.sh 1</span><br><span class="line">1 小于 2</span><br><span class="line">[root@root shell]# ./if.sh 2</span><br><span class="line">2 等于 2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果不传递参数</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">if [ &quot;$1&quot;x -eq &quot;2&quot;x ];then</span><br><span class="line">        echo &quot;$1 等于 2&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">也可以写在一行</span></span><br><span class="line">[root@root shell]# a=19</span><br><span class="line">[root@root shell]# if [ $a -ge 18 ] &amp;&amp; [ $a -le 20 ];then echo ok;fi</span><br><span class="line">ok</span><br><span class="line">[root@root shell]# a=21</span><br><span class="line">[root@root shell]# if [ $a -ge 18 ] &amp;&amp; [ $a -le 20 ];then echo ok;fi</span><br><span class="line">[root@root shell]</span><br></pre></td></tr></table></figure>

<h3 id="case-语句"><a href="#case-语句" class="headerlink" title="case 语句"></a>case 语句</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">&quot;值 1&quot;）</span><br><span class="line">	如果变量的值等于值 1，则执行程序 1,对于数字可以省略引号</span><br><span class="line">;;</span><br><span class="line">&quot;值 2&quot;）</span><br><span class="line">	如果变量的值等于值 2，则执行程序 2</span><br><span class="line">;;</span><br><span class="line">	......其他分支......</span><br><span class="line">*）</span><br><span class="line">	如果变量的值都不是以上的值，则执行此程序</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<p>（1）case 行尾必须为单词 “in”，每一个模式匹配必须以右括号 “)” 结束。</p>
<p>（2）双分号 “;;” 表示命令序列结束，相当于 java 中的 break。</p>
<p>（3）最后的 “*)” 表示默认模式，相当于 java 中的 default。</p>
<p>示例：输入一个数进行判断</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@root etc]# vim case.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">        echo ok</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">        echo warning</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">        echo error</span><br><span class="line">esac</span><br><span class="line">[root@root etc]# chmod +x case.sh</span><br><span class="line">[root@root etc]# ./case.sh 1</span><br><span class="line">ok</span><br><span class="line">[root@root etc]# ./case.sh 2</span><br><span class="line">warning</span><br><span class="line">[root@root etc]# ./case.sh 3</span><br><span class="line">error</span><br><span class="line">[root@root etc]#</span><br></pre></td></tr></table></figure>

<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p>语法一：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (( 初始值;循环控制条件;变量变化 ))</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>语法二：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值 1 值 2 值 3…</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>{1..100}表示序列</p>
<p>示例：1+2+……+100</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim for01.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此处使用(())，可以使用&lt;==,&lt;，不是重定向</span></span><br><span class="line">for((i=0;i&lt;=100;i++))</span><br><span class="line">do</span><br><span class="line">        sum=$[$sum+$i]</span><br><span class="line">done</span><br><span class="line">echo $sum</span><br><span class="line">[root@root shell]# chmod +x for01.sh</span><br><span class="line">[root@root shell]# ./for01.sh</span><br><span class="line">5050</span><br></pre></td></tr></table></figure>

<p>示例：结合$*，$@使用，如果不加引号，则控制台输出没有区别。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&#123;1..100&#125;表示序列</span></span><br><span class="line">[root@root shell]# for i in &#123;1..100&#125;;do sum=$[$sum+$i];done;echo $sum;</span><br><span class="line">5050</span><br><span class="line">[root@root shell]# vim for02.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">$*和<span class="variable">$@</span>都表示传递给函数或脚本的所有参数，不被双引号 <span class="string">&quot;&quot;</span> 包含时，都以<span class="variable">$1</span> <span class="variable">$2</span> …<span class="variable">$n</span>的形式输出所有参数</span></span><br><span class="line">echo &quot;======不使用引号========&quot;</span><br><span class="line">echo &#x27;$*: &#x27;</span><br><span class="line">for para in $*</span><br><span class="line">do</span><br><span class="line">        echo $para</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &#x27;$@: &#x27;</span><br><span class="line">for para in $@</span><br><span class="line">do</span><br><span class="line">        echo $para</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;======使用引号========&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加引号</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当它们被双引号 <span class="string">&quot;&quot;</span> 包含时，$*会将所有的参数作为一个整体，以 <span class="string">&quot;<span class="variable">$1</span> <span class="variable">$2</span>...<span class="variable">$n</span>&quot;</span> 的形式输出所有参数；<span class="variable">$@</span>会将各个参数分开，以<span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span>...<span class="string">&quot;<span class="variable">$n</span>&quot;</span>的形式输出所有参数。</span></span><br><span class="line">echo &#x27;$*: &#x27;</span><br><span class="line">for para in &quot;$*&quot;</span><br><span class="line">do</span><br><span class="line">        echo $para</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &#x27;$@: &#x27;</span><br><span class="line">for para in &quot;$@&quot;</span><br><span class="line">do</span><br><span class="line">        echo $para</span><br><span class="line">done</span><br><span class="line">[root@root shell]# chmod 777 for02.sh</span><br><span class="line">[root@root shell]# ./for02.sh a b c</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">*:</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">@:</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">======使用引号======</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">*:</span></span><br><span class="line">a b c</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">@:</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br></pre></td></tr></table></figure>

<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>示例：1+2+……+100</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim while.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">count=1</span><br><span class="line">while [ $count -le 100 ]</span><br><span class="line">do</span><br><span class="line">        sum=$[$sum+$count]</span><br><span class="line">        count=$[$count+1]</span><br><span class="line">        # 也可以采用let</span><br><span class="line">        # let sum+=count</span><br><span class="line">        # let count++</span><br><span class="line">done</span><br><span class="line">echo &quot;count: $count, sum: $sum&quot;</span><br><span class="line">[root@root shell]# ./while.sh</span><br><span class="line">count: 101, sum: 5050</span><br></pre></td></tr></table></figure>

<h2 id="read-读取控制台输入"><a href="#read-读取控制台输入" class="headerlink" title="read 读取控制台输入"></a>read 读取控制台输入</h2><p>基本语法</p>
<p>read (选项) (参数) </p>
<p>① 选项：</p>
<p>​		 -p：指定读取值时的提示符； </p>
<p>​		-t：指定读取值时等待的时间（秒）如果不加 -t 表示一直等待</p>
<p>② 参数 变量：指定读取值的变量名</p>
<p>示例：提示 7 秒内，读取控制台输入的名称</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim read.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -t 7 -p &quot;请输入内容: &quot; R</span><br><span class="line">echo $R</span><br><span class="line">[root@root shell]# chmod +x read.sh</span><br><span class="line">[root@root shell]# ./read.sh</span><br><span class="line">请输入内容: root</span><br><span class="line">root</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h3><p><strong>basename</strong></p>
<p>basename [string &#x2F; pathname] [suffix] </p>
<p>basename 命令会删掉所有的前缀包括最后一个 “&#x2F;“ 字符，然后将字符串显示出来。 </p>
<p>basename 可以理解为：取路径里的文件名称。</p>
<p>选项： suffix 为后缀，如果 suffix 被指定，basename 会将 pathname 或string 中的suffix 去掉。</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# basename /root/shell/read.sh</span><br><span class="line">read.sh</span><br><span class="line">[root@root shell]# basename /root/shell/read.sh .sh</span><br><span class="line">read</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前脚本所在路径</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">basename</span> <span class="variable">$0</span></span></span><br></pre></td></tr></table></figure>

<p><strong>dirname</strong></p>
<p>dirname 文件绝对路径</p>
<p>获取文件路径的绝对路径名称</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# dirname /root/shell/read.sh</span><br><span class="line">/root/shell</span><br></pre></td></tr></table></figure>

<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义</span></span><br><span class="line">[ function ] funname[()]</span><br><span class="line">&#123;</span><br><span class="line">	Action;</span><br><span class="line">	[return int;]</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用$(接收返回的值)</span></span><br><span class="line">funname param1 param2...</span><br></pre></td></tr></table></figure>

<p>（1）必须在调用函数地方之前，先声明函数，shell 脚本是逐行运行。不会像其它语言一样先编译。 </p>
<p>（2）函数返回值，只能通过 $? 系统变量获得，可以显式加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。return 		 后跟数值 n(0-255)</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# vim fun.sh</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">function add()&#123;</span><br><span class="line">        s=$[$1+$2]</span><br><span class="line">        echo $s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">read -p &quot;please input number1: &quot; num1</span><br><span class="line">read -p &quot;please input number2: &quot; num2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用$(接收返回的值)</span></span><br><span class="line">sum=$(add $num1 $num2)</span><br><span class="line">echo &quot;sum: &quot;$sum</span><br><span class="line">echo &quot;square: &quot;$[$sum * $sum]</span><br><span class="line">[root@root shell]# ./fun.sh</span><br></pre></td></tr></table></figure>



<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>​		正则表达式使用单个字符串来描述、匹配一系列符合某个语法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。在Linux 中，<strong>grep，sed，awk</strong> 等文本处理工具都支持通过正则表达式进行模式匹配。</p>
<p>示例：匹配 &#x2F;etc&#x2F;passwd&#x2F; 下的所有包含bash的行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd |grep bash</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">liufei:x:1000:1000:liufei:/home/liufei:/bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="常用的特殊字符"><a href="#常用的特殊字符" class="headerlink" title="常用的特殊字符"></a>常用的特殊字符</h3><h4 id="：匹配一行的开头"><a href="#：匹配一行的开头" class="headerlink" title="^：匹配一行的开头"></a>^：匹配一行的开头</h4><p>示例：以 a 开头</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep ^a</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">abrt:x:173:173::/etc/abrt:/sbin/nologin</span><br><span class="line">avahi:x:70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="：匹配一行的结束"><a href="#：匹配一行的结束" class="headerlink" title="$：匹配一行的结束"></a>$：匹配一行的结束</h4><p>示例：以 t 结束</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep t$</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br></pre></td></tr></table></figure>

<h4 id="点-：匹配一个任意的字符"><a href="#点-：匹配一个任意的字符" class="headerlink" title="点 . ：匹配一个任意的字符"></a>点 <strong>.</strong> ：匹配一个任意的字符</h4><p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep r..t</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="：匹配0次或多次"><a href="#：匹配0次或多次" class="headerlink" title="*：匹配0次或多次"></a>*：匹配0次或多次</h4><p>​		不单独使用，他和上一个字符连用，表示匹配上一个字符 0 次或多次。</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep ro*t</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="：匹配某个范围内的一个字符"><a href="#：匹配某个范围内的一个字符" class="headerlink" title="[ ]：匹配某个范围内的一个字符"></a>[ ]：匹配某个范围内的一个字符</h4><p>[ ] 表示匹配某个范围内的一个字符，例如</p>
<p>[6,8]			匹配 6 或者 8 </p>
<p>[0-9]			匹配一个 0-9 的数字 </p>
<p>[0-9]*			匹配任意长度的数字字符串</p>
<p>[a-z]*			匹配任意长度 a-z 之间的字符</p>
<p>[a-z]			匹配任意长度的字母字符串 </p>
<p>[a-c, e-f]		匹配 a-c 或者 e-f 之间的任意字符</p>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep r[a,b,c]*t</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">abrt:x:173:173::/etc/abrt:/sbin/nologin</span><br><span class="line">rtkit:x:172:172:RealtimeKit:/proc:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="：转义字符"><a href="#：转义字符" class="headerlink" title="\：转义字符"></a>\：转义字符</h4><p>​		\ 表示转义，并不会单独使用。匹配特殊字符，如$、^等。【需要使用单引号将表达式引起来】</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# cat /etc/passwd|grep &#x27;a\$b&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="文本处理工具"><a href="#文本处理工具" class="headerlink" title="文本处理工具"></a>文本处理工具</h3><h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><p>​		过滤文本的行</p>
<h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h4><p>​		在文件中负责剪切数据用的。cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出。</p>
<p>基本用法</p>
<p>基本语法</p>
<p>​		cut [选项参数] filename</p>
<p>选项参数说明</p>
<table>
<thead>
<tr>
<th>选项参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>列号，提取第几列</td>
</tr>
<tr>
<td>-d</td>
<td>分隔符，按照指定分隔符有进行分隔，默认分隔符是制表符</td>
</tr>
<tr>
<td>-c</td>
<td>按字符进行切割后加 n 表示取第几列 比如 -c 1</td>
</tr>
</tbody></table>
<p>示例：选取系统 PATH 变量值，第二个 : 后开始的所有路径。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@root archive]# echo $PATH | cut -d &quot;:&quot; -f 3-</span><br><span class="line">/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure>

<p>示例：切割 ifconfig 后打印的 IP 地址。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@root archive]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.1.130  netmask 255.255.255.0  broadcast 192.168.1.255</span><br><span class="line">        inet6 fe80::46be:b086:81c7:b3b2  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:15:3a:b3  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 40674  bytes 3071986 (2.9 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 14352  bytes 1922281 (1.8 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 68  bytes 5912 (5.7 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 68  bytes 5912 (5.7 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">virbr0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255</span><br><span class="line">        ether 52:54:00:0f:e3:ff  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">[root@root archive]# ifconfig ens33 |grep netmask |cut -d &quot; &quot; -f 10</span><br><span class="line">192.168.1.130</span><br><span class="line">[root@root archive]# ifconfig |grep netmask |cut -d &quot; &quot; -f 10</span><br><span class="line">192.168.1.130</span><br><span class="line">127.0.0.1</span><br><span class="line">192.168.122.1</span><br></pre></td></tr></table></figure>

<h4 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h4><p>​		一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</p>
<h5 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h5><p>​		awk   [选项参数]   <strong>‘&#x2F;pattern1&#x2F;{action1} &#x2F;pattern2&#x2F;{action2}……’ filename</strong> </p>
<p>​		pattern：表示 awk 在数据中查找的内容，就是匹配模式</p>
<p>​		action：在找到匹配内容时所执行的一系列命令</p>
<p>选项参数说明</p>
<p>​		-F		指定输入文件分隔符</p>
<p>​		-v		赋值一个用户定义变量</p>
<p>示例：搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第7 列。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# awk -F : &#x27;/^root/&#123;print $7&#125;&#x27; /etc/passwd</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<p>示例：搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第1 列和第7 列，中间以 “,” 号分割</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# awk -F : &#x27;/^root/&#123;print $1&quot;,&quot;$7&#125;&#x27; /etc/passwd</span><br><span class="line">root,/bin/bash</span><br></pre></td></tr></table></figure>

<p>示例：只显示&#x2F;etc&#x2F;passwd 的第一列和第七列，以逗号分割，且在所有行前面添加列名user，shell 在最后一行添加”end，			shell”。</p>
<p>注意：BEGIN 在所有数据读取行之前执行；END 在所有数据执行之后执行。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# awk -F : &#x27;BEGIN&#123;print &quot;user,shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;shell end&quot;&#125;&#x27; /etc/passwd</span><br><span class="line">user,shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">......</span><br><span class="line">liufei,/bin/bash</span><br><span class="line">mysql,/bin/false</span><br><span class="line">shell end</span><br></pre></td></tr></table></figure>

<p>示例：将 passwd 文件中的用户 id 增加数值 1 并输出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# awk -F : -v i=1 &#x27;&#123;print $3+i&#125;&#x27; /etc/passwd</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">......</span><br><span class="line">100</span><br><span class="line">193</span><br><span class="line">82</span><br><span class="line">1000</span><br></pre></td></tr></table></figure>

<h5 id="awk-的内置变量"><a href="#awk-的内置变量" class="headerlink" title="awk 的内置变量"></a>awk 的内置变量</h5><table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>FILENAME</td>
<td>文件名</td>
</tr>
<tr>
<td>NR</td>
<td>已读的记录数（行号）</td>
</tr>
<tr>
<td>NF</td>
<td>浏览记录的域的个数（切割后，列的个数）</td>
</tr>
</tbody></table>
<p>示例：统计 passwd 文件名，每行的行号，每行的列数。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# awk -F : &#x27;&#123;print &quot;filename: &quot;FILENAME&quot;, lineNum: &quot;NR&quot;, column: &quot;NF&#125;&#x27; /etc/passwd</span><br><span class="line">filename: /etc/passwd, lineNum: 1, column: 7</span><br><span class="line">filename: /etc/passwd, lineNum: 2, column: 7</span><br><span class="line">filename: /etc/passwd, lineNum: 3, column: 7</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>示例：查询 ifconfig 命令输出结果中的空行所在的行号。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# ifconfig |awk &#x27;/^$/&#123;print NR&#125;&#x27;</span><br><span class="line">9</span><br><span class="line">18</span><br><span class="line">26	</span><br></pre></td></tr></table></figure>

<p>示例：切割IP，默认以空格分割</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# ifconfig |awk &#x27;/netmask/&#123;print $2&#125;&#x27;</span><br><span class="line">192.168.1.130</span><br><span class="line">127.0.0.1</span><br><span class="line">192.168.122.1</span><br></pre></td></tr></table></figure>

<h2 id="Shell示例"><a href="#Shell示例" class="headerlink" title="Shell示例"></a>Shell示例</h2><h3 id="文件归档"><a href="#文件归档" class="headerlink" title="文件归档"></a>文件归档</h3><p>示例：</p>
<p>​		实现一个每天对指定目录归档备份的脚本，输入一个目录名称（末尾不带&#x2F;），将目录下所有文件按天归档保存，并将归档日期附加在归档文件名上，放在 &#x2F;opt&#x2F;shell&#x2F;archive 下。这里用到了归档命令：tar 后面可以加上 -c 选项表示归档，加上  -z 选项表示同时进行压缩，得到的文件后缀名为.tar.gz。 archive .sh 脚本实现如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">首先判断输入参数个数是否为1</span></span><br><span class="line">if [ $# -ne 1 ]</span><br><span class="line">then</span><br><span class="line">	echo &quot;参数个数错误！应该输入一个参数，作为归档目录名&quot;</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从参数中获取目录名称</span></span><br><span class="line">if [ -d $1 ]</span><br><span class="line">then</span><br><span class="line">	echo &quot;目录存在！&quot;</span><br><span class="line">else</span><br><span class="line">	echo</span><br><span class="line">	echo &quot;目录不存在！&quot;</span><br><span class="line">	echo</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">DIR_NAME=$(basename $1)</span><br><span class="line">DIR_PATH=$(cd $(dirname $1); pwd)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前日期</span></span><br><span class="line">DATE=$(date +%Y%m%d)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义生成的归档文件名称</span></span><br><span class="line">DEST_PATH=/opt/shell/archive</span><br><span class="line">FILE=archive_$&#123;DIR_NAME&#125;_$DATE.tar.gz</span><br><span class="line">DEST=$DEST_PATH/$FILE</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开始归档目录文件</span></span><br><span class="line"></span><br><span class="line">echo &quot;开始归档...&quot;</span><br><span class="line">echo</span><br><span class="line"></span><br><span class="line">tar -czf $DEST $DIR_PATH/$DIR_NAME</span><br><span class="line"></span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">	echo</span><br><span class="line">	echo &quot;归档成功！&quot;</span><br><span class="line">	echo &quot;归档文件为：$DEST&quot;</span><br><span class="line">	echo</span><br><span class="line">else</span><br><span class="line">	echo &quot;归档出现问题！&quot;</span><br><span class="line">	echo</span><br><span class="line">fi</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>



<h3 id="数据库备份"><a href="#数据库备份" class="headerlink" title="数据库备份"></a>数据库备份</h3><ol>
<li><p>每天凌晨2:10备份数据库testDB 到&#x2F;data&#x2F;backup&#x2F;db</p>
</li>
<li><p>备份开始和备份结束能够给出相应的提示信息</p>
</li>
<li><p>备份后的文件要求以备份时间为文件名，并打包成tar.gz. 的形式，比如：2018-03-12_ 230201.tar.gz</p>
</li>
<li><p>在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">BACKUP=/opt/shell/backup/db</span><br><span class="line">DATETIME=$(date +%Y_%m_%d_%H%M%S)</span><br><span class="line">echo &quot;开始备份...&quot;</span><br><span class="line">echo &quot;备份路径为：$BACKUP/$DATETIME.tar.gz&quot;</span><br><span class="line">HOST=127.0.0.1</span><br><span class="line">DB_USER=root</span><br><span class="line">DB_PWD=root</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">数据库名</span></span><br><span class="line">DATABASE=test</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">没有目录则创建</span></span><br><span class="line">[ ! -d &quot;$BACKUP/$DATETIME&quot; ] &amp;&amp; mkdir -p &quot;$BACKUP/$DATETIME&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">MySQL备份数据库的指令</span></span><br><span class="line">mysqldump -u$&#123;DB_USER&#125; -p$&#123;DB_PWD&#125; --host=$HOST $DATEBASE | gzip &gt; $BACKUP/$DATETIME/$DATETIME.sql.gz</span><br><span class="line"></span><br><span class="line">cd $BACKUP</span><br><span class="line">tar -zcvf $DATETIME.tar.gz $DATETIME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除临时目录</span></span><br><span class="line">rm -rf $BACKUP/$DATETIME</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除10天前的备份文件，&#123;&#125; \ 固定写法</span></span><br><span class="line">find $BACKUP -mtime +10 -name &quot;*.tar.gz&quot; -exec rm -rf &#123;&#125; \;</span><br><span class="line">echo &quot;备份成功&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0 2 * * * /usr/sbin/mysql_db_backup.sh</span></span><br></pre></td></tr></table></figure>

<h3 id="文件分发脚本"><a href="#文件分发脚本" class="headerlink" title="文件分发脚本"></a>文件分发脚本</h3><p>批量进行跨机器间的文件（含文件夹）传输</p>
<blockquote>
<ul>
<li>创建脚本 xsync.sh，传入要传输的目录名</li>
<li>shell脚本要求具有执行权限：chmod +x xsync</li>
<li>shell脚本保存在 &#x2F;usr&#x2F;bin 这样的目录下，以使命令全局有效</li>
</ul>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">判断参数个数</span></span><br><span class="line">if [ $# -lt 1 ]</span><br><span class="line">then</span><br><span class="line">	echo &quot;Not Enough Arguments&quot;</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">遍历所有主机</span></span><br><span class="line">for host in 192.168.100.100 192.168.100.110 192.168.100.120</span><br><span class="line">do</span><br><span class="line">	echo ========$host========</span><br><span class="line"><span class="meta prompt_">	# </span><span class="language-bash">遍历所有目录</span></span><br><span class="line">	for file in $@</span><br><span class="line">	do</span><br><span class="line">		if [ -e $file ]</span><br><span class="line">		then</span><br><span class="line"><span class="meta prompt_">			# </span><span class="language-bash">如果文件存在，获取父目录，</span></span><br><span class="line"><span class="meta prompt_">			# </span><span class="language-bash"><span class="built_in">pwd</span> -P：如果目录是链接时，显示出实际路径，而非使用连接（<span class="built_in">link</span>）路径。<span class="built_in">pwd</span>防止传入相对路径</span></span><br><span class="line"><span class="meta prompt_">			# </span><span class="language-bash"><span class="built_in">cd</span> -P:如果目录是链接时，切换到实际路径的目录。</span></span><br><span class="line">			pdir=$(cd -P $(dirname $file);pwd)</span><br><span class="line"><span class="meta prompt_">			# </span><span class="language-bash">获取文件名称</span></span><br><span class="line">			filename=$(basename $file)</span><br><span class="line">			ssh $host &quot;mkdir -p $pdir&quot;</span><br><span class="line">			rsync -av $pdir/$filename $host:$pdir</span><br><span class="line">		else</span><br><span class="line">			echo $file not exist!</span><br><span class="line">		fi</span><br><span class="line">	done</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@root shell]# chmod +x xsync.sh</span><br><span class="line">[root@root shell]# cp xsync.sh /usr/bin</span><br></pre></td></tr></table></figure>

<h3 id="查看所有JPS进程"><a href="#查看所有JPS进程" class="headerlink" title="查看所有JPS进程"></a>查看所有JPS进程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for host in 192.168.100.100 192.168.100.110 192.168.100.120</span><br><span class="line">do</span><br><span class="line">    echo ========$host========</span><br><span class="line">    ssh $host jps $@ | grep -v Jps</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="Zookeeper-启动停止脚本"><a href="#Zookeeper-启动停止脚本" class="headerlink" title="Zookeeper 启动停止脚本"></a>Zookeeper 启动停止脚本</h3><blockquote>
<p>启动Zookeeper集群，脚本位置：&#x2F;home&#x2F;xxxx&#x2F;bin</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">&quot;start&quot;)&#123;</span><br><span class="line">	for host in 192.168.100.100 192.168.100.110 192.168.100.120</span><br><span class="line">	do</span><br><span class="line">		echo &quot;========zookeeper $host start========&quot;</span><br><span class="line">		ssh $host &quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh start&quot;</span><br><span class="line">	done</span><br><span class="line">&#125;</span><br><span class="line">;;</span><br><span class="line">&quot;status&quot;)&#123;</span><br><span class="line">	for host in 192.168.100.100 192.168.100.110 192.168.100.120</span><br><span class="line">	do</span><br><span class="line">		echo &quot;========zookeeper $host status========&quot;</span><br><span class="line">		ssh $host &quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh status&quot;</span><br><span class="line">	done</span><br><span class="line">&#125;</span><br><span class="line">;;</span><br><span class="line">&quot;stop&quot;)&#123;</span><br><span class="line">	for host in 192.168.100.100 192.168.100.110 192.168.100.120</span><br><span class="line">	do</span><br><span class="line">		echo &quot;========zookeeper $host stop========&quot;</span><br><span class="line">		ssh $host &quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh stop&quot;</span><br><span class="line">	done</span><br><span class="line">&#125;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>



<h3 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h3>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/02/28/Kafka/" rel="prev" title="Kafka">
      <i class="fa fa-chevron-left"></i> Kafka
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/02/28/HtmlCSS/" rel="next" title="Html/Css">
      Html/Css <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">Linux 基础</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">Linux 常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9%E7%B1%BB"><span class="nav-number">2.1.</span> <span class="nav-text">帮助类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E5%B1%8F"><span class="nav-number">2.1.1.</span> <span class="nav-text">清屏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#man"><span class="nav-number">2.1.2.</span> <span class="nav-text">man</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#help"><span class="nav-number">2.1.3.</span> <span class="nav-text">help</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%B1%BB"><span class="nav-number">2.2.</span> <span class="nav-text">文件目录类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pwd%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95"><span class="nav-number">2.2.1.</span> <span class="nav-text">pwd：显示当前目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ls%EF%BC%9A%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E5%86%85%E5%AE%B9"><span class="nav-number">2.2.2.</span> <span class="nav-text">ls：列出目录内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cd%EF%BC%9A%E5%88%87%E6%8D%A2%E7%9B%AE%E5%BD%95"><span class="nav-number">2.2.3.</span> <span class="nav-text">cd：切换目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mkdir%EF%BC%9A%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="nav-number">2.2.4.</span> <span class="nav-text">mkdir：创建目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rmdir%EF%BC%9A%E5%88%A0%E9%99%A4%E7%A9%BA%E7%9B%AE%E5%BD%95"><span class="nav-number">2.2.5.</span> <span class="nav-text">rmdir：删除空目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#touch%EF%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%A9%BA%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.6.</span> <span class="nav-text">touch：创建一个或多个空文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cp-%EF%BC%9A%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">2.2.7.</span> <span class="nav-text">cp ：拷贝文件或文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rm-%EF%BC%9A%E7%A7%BB%E9%99%A4%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="nav-number">2.2.8.</span> <span class="nav-text">rm ：移除文件或目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mv-%EF%BC%9A%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95%E6%88%96%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">2.2.9.</span> <span class="nav-text">mv ：移动文件与目录或重命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cat-%EF%BC%9A%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-number">2.2.10.</span> <span class="nav-text">cat ：查看文件内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#more%EF%BC%9A%E4%B8%80%E6%AC%A1%E6%80%A7%E5%8A%A0%E8%BD%BD"><span class="nav-number">2.2.11.</span> <span class="nav-text">more：一次性加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#less%EF%BC%9A%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%97%A5%E5%BF%97%E6%8E%A8%E8%8D%90"><span class="nav-number">2.2.12.</span> <span class="nav-text">less：按需加载，日志推荐</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gt-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C-gt-gt-%E8%BF%BD%E5%8A%A0"><span class="nav-number">2.2.13.</span> <span class="nav-text">&gt; 输出重定向和 &gt;&gt; 追加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#head%EF%BC%9A%E9%BB%98%E8%AE%A4%E6%98%BE%E7%A4%BA%E5%89%8D-10-%E8%A1%8C"><span class="nav-number">2.2.14.</span> <span class="nav-text">head：默认显示前 10 行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tail%EF%BC%9A%E9%BB%98%E8%AE%A4%E6%98%BE%E7%A4%BA%E5%90%8E10%E8%A1%8C"><span class="nav-number">2.2.15.</span> <span class="nav-text">tail：默认显示后10行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wc%EF%BC%9A%E7%BB%9F%E8%AE%A1%E5%AD%97%E6%95%B0"><span class="nav-number">2.2.16.</span> <span class="nav-text">wc：统计字数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ln-%EF%BC%9A%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="nav-number">2.2.17.</span> <span class="nav-text">ln ：软链接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#history%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%8E%86%E5%8F%B2%E6%8C%87%E4%BB%A4"><span class="nav-number">2.2.18.</span> <span class="nav-text">history：显示历史指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="nav-number">2.3.</span> <span class="nav-text">时间日期类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#date%EF%BC%9A%E6%98%BE%E7%A4%BA%E6%97%A5%E6%9C%9F"><span class="nav-number">2.3.1.</span> <span class="nav-text">date：显示日期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cal%EF%BC%9A%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%8E%86"><span class="nav-number">2.3.2.</span> <span class="nav-text">cal：查看日历</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE%E7%B1%BB"><span class="nav-number">2.4.</span> <span class="nav-text">搜索查找类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#which%EF%BC%9A%E6%9F%A5%E7%9C%8B%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-number">2.4.1.</span> <span class="nav-text">which：查看可执行文件的位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#find%EF%BC%9A%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="nav-number">2.4.2.</span> <span class="nav-text">find：查找文件目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#locate%EF%BC%9A%E5%BF%AB%E9%80%9F%E5%AE%9A%E4%BD%8D%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="nav-number">2.4.3.</span> <span class="nav-text">locate：快速定位文件路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grep-%E6%8C%87%E4%BB%A4%E5%92%8C%E7%AE%A1%E9%81%93%E7%AC%A6%E5%8F%B7"><span class="nav-number">2.4.4.</span> <span class="nav-text">grep 指令和管道符号  |</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E7%B1%BB"><span class="nav-number">2.5.</span> <span class="nav-text">文件压缩类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#gzip-x2F-gunzip"><span class="nav-number">2.5.1.</span> <span class="nav-text">gzip&#x2F;gunzip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#zip-x2F-unzip"><span class="nav-number">2.5.2.</span> <span class="nav-text">zip&#x2F;unzip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tar%EF%BC%9A%E6%89%93%E5%8C%85"><span class="nav-number">2.5.3.</span> <span class="nav-text">tar：打包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">2.6.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wget%EF%BC%9A%E4%B8%8B%E8%BD%BD%E8%B5%84%E6%BA%90"><span class="nav-number">2.6.1.</span> <span class="nav-text">wget：下载资源</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VmWare-%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">VmWare 网络设置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Vmware%E4%B8%89%E7%A7%8D%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.1.</span> <span class="nav-text">Vmware三种网络模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="nav-number">3.1.1.</span> <span class="nav-text">桥接网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAT%E7%BD%91%E7%BB%9C"><span class="nav-number">3.1.2.</span> <span class="nav-text">NAT网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%85%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="nav-number">3.1.3.</span> <span class="nav-text">仅主机网络</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vmware%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">3.2.</span> <span class="nav-text">Vmware虚拟网络编辑器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="nav-number">3.2.1.</span> <span class="nav-text">全局网络配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%A5%E6%8E%A5%E7%BD%91%E7%BB%9C-1"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">桥接网络</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%85%E4%B8%BB%E6%9C%BA%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">仅主机模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NAT%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">NAT模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E4%B8%AA%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.2.2.</span> <span class="nav-text">单个虚拟机设置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%99%E6%80%81-IP-%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.</span> <span class="nav-text">静态 IP 地址配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.3.1.</span> <span class="nav-text">方法一：修改网卡配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E5%90%AF%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1"><span class="nav-number">3.3.2.</span> <span class="nav-text">重启网络服务</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Shell"><span class="nav-number">4.</span> <span class="nav-text">Shell</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell%E6%A6%82%E8%BF%B0"><span class="nav-number">4.1.</span> <span class="nav-text">Shell概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell%E8%84%9A%E6%9C%AC%E5%85%A5%E9%97%A8"><span class="nav-number">4.2.</span> <span class="nav-text">Shell脚本入门</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.</span> <span class="nav-text">Shell变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.1.</span> <span class="nav-text">系统变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.2.</span> <span class="nav-text">自定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-x2F-x2F"><span class="nav-number">4.3.3.</span> <span class="nav-text">注意事项 $[ ]&#x2F;$( )&#x2F;$(( ))</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.4.</span> <span class="nav-text">特殊变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">4.3.5.</span> <span class="nav-text">位置参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#n-%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-number">4.3.5.1.</span> <span class="nav-text">$n  位置参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0"><span class="nav-number">4.3.5.2.</span> <span class="nav-text">$#  参数个数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E-%E5%85%B7%E4%BD%93%E5%8F%82%E6%95%B0"><span class="nav-number">4.3.5.3.</span> <span class="nav-text">$* 与 $@  具体参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.6.</span> <span class="nav-text">预定义变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">4.4.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-number">4.5.</span> <span class="nav-text">条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">4.5.1.</span> <span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="nav-number">4.5.2.</span> <span class="nav-text">常用判断条件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">4.6.</span> <span class="nav-text">流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if-%E5%88%A4%E6%96%AD"><span class="nav-number">4.6.1.</span> <span class="nav-text">if 判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#case-%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.6.2.</span> <span class="nav-text">case 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="nav-number">4.6.3.</span> <span class="nav-text">for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="nav-number">4.6.4.</span> <span class="nav-text">while循环</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#read-%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="nav-number">4.7.</span> <span class="nav-text">read 读取控制台输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.8.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="nav-number">4.8.1.</span> <span class="nav-text">系统函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-number">4.8.2.</span> <span class="nav-text">自定义函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.9.</span> <span class="nav-text">正则表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="nav-number">4.9.1.</span> <span class="nav-text">常用的特殊字符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%9A%E5%8C%B9%E9%85%8D%E4%B8%80%E8%A1%8C%E7%9A%84%E5%BC%80%E5%A4%B4"><span class="nav-number">4.9.1.1.</span> <span class="nav-text">^：匹配一行的开头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%9A%E5%8C%B9%E9%85%8D%E4%B8%80%E8%A1%8C%E7%9A%84%E7%BB%93%E6%9D%9F"><span class="nav-number">4.9.1.2.</span> <span class="nav-text">$：匹配一行的结束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9-%EF%BC%9A%E5%8C%B9%E9%85%8D%E4%B8%80%E4%B8%AA%E4%BB%BB%E6%84%8F%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="nav-number">4.9.1.3.</span> <span class="nav-text">点 . ：匹配一个任意的字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%9A%E5%8C%B9%E9%85%8D0%E6%AC%A1%E6%88%96%E5%A4%9A%E6%AC%A1"><span class="nav-number">4.9.1.4.</span> <span class="nav-text">*：匹配0次或多次</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%9A%E5%8C%B9%E9%85%8D%E6%9F%90%E4%B8%AA%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="nav-number">4.9.1.5.</span> <span class="nav-text">[ ]：匹配某个范围内的一个字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%9A%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="nav-number">4.9.1.6.</span> <span class="nav-text">\：转义字符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7"><span class="nav-number">4.9.2.</span> <span class="nav-text">文本处理工具</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#grep"><span class="nav-number">4.9.2.1.</span> <span class="nav-text">grep</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#cut"><span class="nav-number">4.9.2.2.</span> <span class="nav-text">cut</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#awk"><span class="nav-number">4.9.2.3.</span> <span class="nav-text">awk</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-number">4.9.2.3.1.</span> <span class="nav-text">基本用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#awk-%E7%9A%84%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="nav-number">4.9.2.3.2.</span> <span class="nav-text">awk 的内置变量</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.10.</span> <span class="nav-text">Shell示例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%BD%92%E6%A1%A3"><span class="nav-number">4.10.1.</span> <span class="nav-text">文件归档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD"><span class="nav-number">4.10.2.</span> <span class="nav-text">数据库备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%E8%84%9A%E6%9C%AC"><span class="nav-number">4.10.3.</span> <span class="nav-text">文件分发脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89JPS%E8%BF%9B%E7%A8%8B"><span class="nav-number">4.10.4.</span> <span class="nav-text">查看所有JPS进程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Zookeeper-%E5%90%AF%E5%8A%A8%E5%81%9C%E6%AD%A2%E8%84%9A%E6%9C%AC"><span class="nav-number">4.10.5.</span> <span class="nav-text">Zookeeper 启动停止脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96-1"><span class="nav-number">4.10.6.</span> <span class="nav-text">其他</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Fei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
