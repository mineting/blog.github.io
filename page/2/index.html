<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="MineTing">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="MineTing">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Fei">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>MineTing</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MineTing</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/Docker/" class="post-title-link" itemprop="url">Docker</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-02 19:15:18" itemprop="dateModified" datetime="2023-03-02T19:15:18+08:00">2023-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>Docker</b></font></div>

<hr>
<blockquote>
<p>ã€Referã€‘</p>
<p>å®˜ç½‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://www.docker.com/">http://www.docker.com</a></p>
<p>Docker Hubï¼š<a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<p>å‚è€ƒæ•™ç¨‹ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://docs.docker.com/">https://docs.docker.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/overview/">https://docs.docker.com/get-started/overview/</a></p>
<p>è¯´æ˜ï¼šæ­¤å¤„ä»¥ CentOS7.9 ä¸ºä¾‹ã€‚</p>
</blockquote>
<h1 id="Docker-ç®€ä»‹"><a href="#Docker-ç®€ä»‹" class="headerlink" title="Docker ç®€ä»‹"></a>Docker ç®€ä»‹</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote>
<p>Docker is written in the <a target="_blank" rel="noopener" href="https://golang.org/">Go programming language</a> and takes advantage of several features of the Linux kernel to deliver its functionality. Docker uses a technology called <code>namespaces</code> to provide the isolated workspace called the <em>container</em>. When you run a container, Docker creates a set of <em>namespaces</em> for that container.</p>
<p>Docker ä½¿ç”¨ Go è¯­è¨€å¼€å‘ï¼Œä¸»è¦ç›®æ ‡æ˜¯ <code>&quot;Buildï¼ŒShip and Run Any App,  Anywhere&quot;</code>ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å¯¹åº”ç”¨ç»„ä»¶çš„å°è£…ã€åˆ†å‘ã€éƒ¨ç½²ã€è¿è¡Œç­‰ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œä½¿ç”¨æˆ·çš„ APP åŠå…¶è¿è¡Œç¯å¢ƒèƒ½å¤Ÿåšåˆ° â€œä¸€æ¬¡é•œåƒï¼Œå¤„å¤„è¿è¡Œâ€ã€‚</p>
<p><strong>è§£å†³äº†è¿è¡Œç¯å¢ƒå’Œé…ç½®é—®é¢˜çš„è½¯ä»¶å®¹å™¨ï¼Œæ–¹ä¾¿åšæŒç»­é›†æˆå¹¶æœ‰åŠ©äºæ•´ä½“å‘å¸ƒçš„å®¹å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚</strong></p>
</blockquote>
<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote>
<ul>
<li><p>æ›´å¿«é€Ÿçš„åº”ç”¨äº¤ä»˜å’Œéƒ¨ç½²</p>
<p>åº”ç”¨å¼€å‘å®Œæˆååªéœ€è¦æä¾› DockerFile é•œåƒæ–‡ä»¶ï¼Œè€Œä¸éœ€è¦æä¾›å¤§é‡çš„é…ç½®è¯´æ˜ä»¥åŠå®‰è£…ç¨‹åºã€‚</p>
</li>
<li><p>æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</p>
<p>å½“ç°æœ‰çš„å®¹å™¨ä¸è¶³ä»¥æ”¯æ’‘ä¸šåŠ¡å¤„ç†æ—¶ï¼Œå¯é€šè¿‡é•œåƒè¿è¡Œæ–°çš„å®¹å™¨è¿›è¡Œå¿«é€Ÿæ‰©å®¹ã€‚</p>
</li>
<li><p>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</p>
<p>åº”ç”¨å®¹å™¨åŒ–è¿è¡Œåï¼Œç”Ÿäº§ç¯å¢ƒè¿è¡Œçš„åº”ç”¨å¯ä¸å¼€å‘ã€æµ‹è¯•ç¯å¢ƒçš„åº”ç”¨é«˜åº¦ä¸€è‡´ï¼Œå½“å‡ºç°ç¨‹åºå¼‚å¸¸æ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æµ‹è¯•ç¯å¢ƒçš„ç›¸åŒå®¹å™¨è¿›è¡Œå¿«é€Ÿå®šä½å’Œä¿®å¤ã€‚</p>
</li>
<li><p>æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨</p>
<p>Docker æ˜¯å†…æ ¸çº§è™šæ‹ŸåŒ–ï¼Œå…¶ä¸åƒä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æŠ€æœ¯ä¸€æ ·éœ€è¦é¢å¤–çš„ Hypervisor æ”¯æŒï¼Œæ‰€ä»¥åœ¨ä¸€å°ç‰©ç†æœºä¸Šå¯ä»¥è¿è¡Œå¾ˆå¤šä¸ªå®¹å™¨å®ä¾‹ï¼Œå¯å¤§å¤§æå‡ç‰©ç†æœåŠ¡å™¨çš„ CPU å’Œå†…å­˜çš„åˆ©ç”¨ç‡ã€‚</p>
</li>
</ul>
</blockquote>
<blockquote>
<h2 id="What-can-I-use-Docker-for"><a href="#What-can-I-use-Docker-for" class="headerlink" title="What can I use Docker for?"></a>What can I use Docker for?</h2><p><strong>Fast, consistent delivery of your applications</strong></p>
<p>Docker streamlines the development lifecycle by allowing developers to work in standardized environments using local containers which provide your applications and services. Containers are great for continuous integration and continuous delivery (CI&#x2F;CD) workflows.</p>
<p>Consider the following example scenario:</p>
<ul>
<li>Your developers write code locally and share their work with their colleagues using Docker containers.</li>
<li>They use Docker to push their applications into a test environment and execute automated and manual tests.</li>
<li>When developers find bugs, they can fix them in the development environment and redeploy them to the test environment for testing and validation.</li>
<li>When testing is complete, getting the fix to the customer is as simple as pushing the updated image to the production environment.</li>
</ul>
<p><strong>Responsive deployment and scaling</strong></p>
<p>Dockerâ€™s container-based platform allows for highly portable workloads. Docker containers can run on a developerâ€™s local laptop, on physical or virtual machines in a data center, on cloud providers, or in a mixture of environments.</p>
<p>Dockerâ€™s portability and lightweight nature also make it easy to dynamically manage workloads, scaling up or tearing down applications and services as business needs dictate, in near real time.</p>
<p><strong>Running more workloads on the same hardware</strong></p>
<p>Docker is lightweight and fast. It provides a viable, cost-effective alternative to hypervisor-based virtual machines, so you can use more of your server capacity to achieve your business goals. Docker is perfect for high density environments and for small and medium deployments where you need to do more with fewer resources.</p>
</blockquote>
<h2 id="åŸºæœ¬ç»„æˆ"><a href="#åŸºæœ¬ç»„æˆ" class="headerlink" title="åŸºæœ¬ç»„æˆ"></a>åŸºæœ¬ç»„æˆ</h2><ul>
<li>é•œåƒ Imagesï¼šDocker å®¹å™¨æ¨¡æ¿ï¼Œç”¨äºè¿è¡Œå®¹å™¨ã€‚</li>
<li>å®¹å™¨ Containersï¼šå®¹å™¨ç±»ä¼¼äºä¸€ä¸ªè™šæ‹ŸåŒ–çš„è¿è¡Œç¯å¢ƒï¼Œæ˜¯ç”±é•œåƒåˆ›å»ºçš„è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œå®¹å™¨ä¸ºé•œåƒæä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„å’Œéš”ç¦»çš„è¿è¡Œç¯å¢ƒï¼Œå®ƒå¯ä»¥è¢«å¯åŠ¨ã€å¼€å§‹ã€åœæ­¢ã€åˆ é™¤ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ã€ä¿è¯å®‰å…¨çš„å¹³å°ã€‚</li>
<li>ä»“åº“ Repositoryï¼šå­˜æ”¾é•œåƒæ–‡ä»¶ï¼ŒDocker å…¬å¸æä¾›çš„å®˜æ–¹ registry è¢«ç§°ä¸º Docker Hubï¼Œåˆ†ä¸ºå…¬å¼€ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚</li>
</ul>
<p>Docker å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®¹å™¨è¿è¡Œè½½ä½“ï¼Œå¦‚æŠŠåº”ç”¨ç¨‹åºå’Œé…ç½®ä¾èµ–æ‰“åŒ…å¥½å½¢æˆä¸€ä¸ªå¯äº¤ä»˜çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¸ªæ‰“åŒ…å¥½çš„è¿è¡Œç¯å¢ƒå°±æ˜¯ image é•œåƒæ–‡ä»¶ï¼Œå®¹å™¨å°±æ˜¯ä¸€ä¸ªé•œåƒå®ä¾‹ã€‚</p>
<p><strong>Docker åŸºç¡€æ¶æ„è¯´æ˜ï¼š</strong></p>
<p>â€‹		Docker ä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ã€‚Docker <em>å®¢æˆ·ç«¯</em>ä¸ Docker <em>å®ˆæŠ¤è¿›ç¨‹</em>ï¼Œå®ƒè´Ÿè´£æ„å»ºã€è¿è¡Œå’Œåˆ†å‘æ‚¨çš„ Docker å®¹å™¨ã€‚Docker å®¢æˆ·ç«¯å’Œå®ˆæŠ¤ç¨‹åºå¯ä»¥åœ¨åŒä¸€ç³»ç»Ÿä¸Šè¿è¡Œï¼Œä¹Ÿå¯ä»¥å°† Docker å®¢æˆ·ç«¯è¿æ¥åˆ°è¿œç¨‹ Docker å®ˆæŠ¤ è¿›ç¨‹ã€‚Docker å®¢æˆ·ç«¯å’Œå®ˆæŠ¤ç¨‹åºä½¿ç”¨ REST API é€šè¿‡ UNIX è¿›è¡Œé€šä¿¡å¥—æ¥å­—æˆ–ç½‘ç»œæ¥å£ã€‚å¦ä¸€ä¸ª Docker å®¢æˆ·ç«¯æ˜¯ Docker Composeï¼Œ è¿™ä½¿æ‚¨å¯ä»¥å¤„ç†ç”±ä¸€ç»„å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚</p>
<blockquote>
<h2 id="Docker-architectureğŸ”—"><a href="#Docker-architectureğŸ”—" class="headerlink" title="Docker architectureğŸ”—"></a>Docker architecture<a target="_blank" rel="noopener" href="https://docs.docker.com/get-started/overview/#docker-architecture">ğŸ”—</a></h2><p>Docker uses a client-server architecture. The Docker <em>client</em> talks to the Docker <em>daemon</em>, which does the heavy lifting of building, running, and distributing your Docker containers. The Docker client and daemon <em>can</em> run on the same system, or you can connect a Docker client to a remote Docker daemon. The Docker client and daemon communicate using a REST API, over UNIX sockets or a network interface. Another Docker client is Docker Compose, that lets you work with applications consisting of a set of containers.</p>
</blockquote>
<p><img src="/2023/02/28/Docker/DockerArchitecture.png" alt="DockerArchitecture"></p>
<h2 id="å®¹å™¨ä¸è™šæ‹Ÿæœºçš„å¯¹æ¯”"><a href="#å®¹å™¨ä¸è™šæ‹Ÿæœºçš„å¯¹æ¯”" class="headerlink" title="å®¹å™¨ä¸è™šæ‹Ÿæœºçš„å¯¹æ¯”"></a>å®¹å™¨ä¸è™šæ‹Ÿæœºçš„å¯¹æ¯”</h2><p><strong>ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯</strong></p>
<blockquote>
<p>Virtual Machineï¼Œä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯æ˜¯åŸºäºå®‰è£…åœ¨ä¸»æ“ä½œç³»ç»Ÿä¸Šçš„è™šæ‹Ÿæœºç®¡ç†ç³»ç»Ÿï¼Œç”±è¯¥ç³»ç»Ÿåˆ›å»ºå‡ºè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºå¯¹äºç³»ç»Ÿæ¥è¯´ä»…ä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè™šæ‹Ÿå‡ºå„ç§ç¡¬ä»¶ï¼Œä¹‹åå†è¯¥è™šæ‹Ÿæœºä¸Šå®‰è£…æ“ä½œç³»ç»Ÿï¼Œæœ€ååœ¨æ‰æ“ä½œç³»ç»Ÿä¸Šå®‰è£…åº”ç”¨ç¨‹åºã€‚</p>
<p>ç¼ºç‚¹ï¼šèµ„æºå ç”¨å¤šï¼Œå¯åŠ¨é€Ÿåº¦æ…¢ã€‚</p>
</blockquote>
<p><strong>å®¹å™¨åŒ–è™šæ‹ŸæŠ€æœ¯</strong></p>
<blockquote>
<p>ç”±äºå‰é¢è™šæ‹Ÿæœºå­˜åœ¨æŸäº›ç¼ºç‚¹ï¼ŒLinuxå‘å±•å‡ºäº†å¦ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯ï¼šLXCï¼ˆLinux Containersï¼ŒLinuxå®¹å™¨ ï¼‰</p>
<p>Linuxå®¹å™¨æ˜¯ä¸ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†éš”ç¦»å¼€çš„ä¸€ç³»åˆ—è¿›ç¨‹ï¼Œä»å¦ä¸€ä¸ªé•œåƒè¿è¡Œï¼Œå¹¶ç”±è¯¥é•œåƒæä¾›æ”¯æŒè¿›ç¨‹æ‰€éœ€çš„å…¨éƒ¨æ–‡ä»¶ã€‚å®¹å™¨æä¾›çš„é•œåƒåŒ…å«äº†åº”ç”¨çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå› è€Œåœ¨ä»å¼€å‘åˆ°æµ‹è¯•å†åˆ°ç”Ÿäº§çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®ƒéƒ½å…·æœ‰å¯ç§»æ¤æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<p>Linux å®¹å™¨ä¸æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿè€Œæ˜¯å¯¹è¿›ç¨‹è¿›è¡Œéš”ç¦»ã€‚æœ‰äº†å®¹å™¨ï¼Œå°±å¯ä»¥å°†è½¯ä»¶è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰èµ„æºæ‰“åŒ…åˆ°ä¸€ä¸ªéš”ç¦»çš„å®¹å™¨ä¸­ã€‚å®¹å™¨ä¸è™šæ‹Ÿæœºä¸åŒï¼Œä¸éœ€è¦æ†ç»‘ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿï¼Œåªéœ€è¦è½¯ä»¶å·¥ä½œæ‰€éœ€çš„åº“èµ„æºå’Œè®¾ç½®ã€‚ç³»ç»Ÿå› æ­¤è€Œå˜å¾—é«˜æ•ˆè½»é‡å¹¶ä¿è¯éƒ¨ç½²åœ¨ä»»ä½•ç¯å¢ƒä¸­çš„è½¯ä»¶éƒ½èƒ½å§‹ç»ˆå¦‚ä¸€åœ°è¿è¡Œã€‚</p>
<p>Docker å®¹å™¨æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸Šå®ç°è™šæ‹ŸåŒ–ï¼Œç›´æ¥å¤ç”¨æœ¬åœ°çš„æ“ä½œç³»ç»Ÿï¼Œè€Œä¼ ç»Ÿè™šæ‹Ÿæœºæ˜¯åœ¨ç¡¬ä»¶å±‚é¢å®ç°è™šæ‹ŸåŒ–ï¼Œå› æ­¤å¯åŠ¨é€Ÿåº¦å¿«ï¼Œå ç”¨ä½“ç§¯å°ã€‚</p>
</blockquote>
<p><strong>å¯¹æ¯”æ€»ç»“</strong></p>
<blockquote>
<p>ä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶åï¼Œåœ¨å…¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´æ“ä½œç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸Šå†è¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼›<br>å®¹å™¨å†…çš„åº”ç”¨è¿›ç¨‹ç›´æ¥è¿è¡Œäºå®¿ä¸»çš„å†…æ ¸ï¼Œå®¹å™¨å†…æ²¡æœ‰è‡ªå·±çš„å†…æ ¸ä¸”ä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿã€‚å› æ­¤å®¹å™¨è¦æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´ä¸ºè½»ä¾¿ã€‚</p>
<p>æ¯ä¸ªå®¹å™¨ä¹‹é—´äº’ç›¸éš”ç¦»ï¼Œæ¯ä¸ªå®¹å™¨æœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿ ï¼Œå®¹å™¨ä¹‹é—´è¿›ç¨‹ä¸ä¼šç›¸äº’å½±å“ï¼Œèƒ½åŒºåˆ†è®¡ç®—èµ„æºã€‚</p>
<p>(1)dockeræœ‰ç€æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚<br>   ç”±äºdockerä¸éœ€è¦Hypervisor(è™šæ‹Ÿæœº)å®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–,è¿è¡Œåœ¨dockerå®¹å™¨ä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºçš„ç¡¬ä»¶èµ„æºã€‚å› æ­¤åœ¨CPUã€å†…å­˜åˆ©ç”¨ç‡ä¸Šdockerå°†ä¼šåœ¨æ•ˆç‡ä¸Šæœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚<br>(2)dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸,è€Œä¸éœ€è¦åŠ è½½æ“ä½œç³»ç»ŸOSå†…æ ¸<br>   å½“æ–°å»ºä¸€ä¸ªå®¹å™¨æ—¶,dockerä¸éœ€è¦å’Œè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ã€‚è¿›è€Œé¿å…å¼•å¯»ã€åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸è¿”å›ç­‰æ¯”è¾ƒè´¹æ—¶è´¹èµ„æºçš„è¿‡ç¨‹,å½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶,è™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½OS,è¿”å›æ–°å»ºè¿‡ç¨‹æ˜¯åˆ†é’Ÿçº§åˆ«çš„ã€‚è€Œdockerç”±äºç›´æ¥åˆ©ç”¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ,åˆ™çœç•¥äº†è¿”å›è¿‡ç¨‹,å› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦å‡ ç§’é’Ÿã€‚</p>
</blockquote>
<h1 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h1><h2 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><p>ã€Referã€‘<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/centos/">https://docs.docker.com/engine/install/centos/</a></p>
<p><strong>æ¡ä»¶ï¼š64ä½ç³»ç»Ÿã€Linuxç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ä¸º 3.8ä»¥ä¸Šã€‚</strong></p>
<p>æŸ¥çœ‹å†…æ ¸ï¼š</p>
<ol>
<li>uname ã€å†…æ ¸ç‰ˆæœ¬å·ã€ç¡¬ä»¶æ¶æ„ã€ä¸»æœºåç§°å’Œæ“ä½œç³»ç»Ÿç±»å‹ã€‘</li>
<li>cat  &#x2F;etc&#x2F;redhat-release</li>
</ol>
<h2 id="å®‰è£…æ–¹å¼"><a href="#å®‰è£…æ–¹å¼" class="headerlink" title="å®‰è£…æ–¹å¼"></a>å®‰è£…æ–¹å¼</h2><p><strong>æ­¤å¤„ä½¿ç”¨ YUM å®‰è£…</strong></p>
<blockquote>
<h2 id="Installation-methods"><a href="#Installation-methods" class="headerlink" title="Installation methods"></a>Installation methods</h2><p>You can install Docker Engine in different ways, depending on your needs:</p>
<ul>
<li>You can <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/centos/#install-using-the-repository">set up Dockerâ€™s repositories</a> and install from them, for ease of installation and upgrade tasks. This is the recommended approach.</li>
<li>You can download the RPM package and <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/centos/#install-from-a-package">install it manually</a> and manage upgrades completely manually. This is useful in situations such as installing Docker on air-gapped systems with no access to the internet.</li>
<li>In testing and development environments, you can use automated <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/centos/#install-using-the-convenience-script">convenience scripts</a> to install Docker.</li>
</ul>
<h3 id="Install-using-the-repository"><a href="#Install-using-the-repository" class="headerlink" title="Install using the repository"></a>Install using the repository</h3><p>Before you install Docker Engine for the first time on a new host machine, you need to set up the Docker repository. Afterward, you can install and update Docker from the repository.</p>
</blockquote>
<h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><h3 id="å¸è½½æ—§ç‰ˆæœ¬"><a href="#å¸è½½æ—§ç‰ˆæœ¬" class="headerlink" title="å¸è½½æ—§ç‰ˆæœ¬"></a>å¸è½½æ—§ç‰ˆæœ¬</h3><p><strong>Uninstall old versions</strong></p>
<p>Older versions of Docker went by the names of <code>docker</code> or <code>docker-engine</code>. Uninstall any such older versions before attempting to install a new version, along with associated dependencies:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>

<p>Itâ€™s OK if <code>yum</code> reports that none of these packages are installed.</p>
<p>Images, containers, volumes, and networks stored in <code>/var/lib/docker/</code> arenâ€™t automatically removed when you uninstall Docker.</p>
<p><strong>é•œåƒï¼Œå®¹å™¨ï¼Œæ•°æ®å·ï¼Œå’Œç½‘ç»œå­˜å‚¨åœ¨  <code>/var/lib/docker/</code> å¸è½½æ—¶ä¸ä¼šè‡ªåŠ¨ç§»é™¤ã€‚</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker </span><br><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line">rm -rf /var/lib/docker</span><br><span class="line">rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬ä¸€æ­¥ï¼šå®‰è£…-gcc"><a href="#ç¬¬ä¸€æ­¥ï¼šå®‰è£…-gcc" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå®‰è£… gcc"></a>ç¬¬ä¸€æ­¥ï¼šå®‰è£… gcc</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc</span><br><span class="line">yum -y install gcc-c++</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äºŒæ­¥ï¼šé…ç½®-YUM-é•œåƒæº"><a href="#ç¬¬äºŒæ­¥ï¼šé…ç½®-YUM-é•œåƒæº" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šé…ç½® YUM é•œåƒæº"></a>ç¬¬äºŒæ­¥ï¼šé…ç½® YUM é•œåƒæº</h3><p>éœ€è¦å®‰è£…  yum-utilsï¼Œä½¿ç”¨ aliyun é•œåƒæº</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ­¤å¤„ä½¿ç”¨ aliyun é•œåƒ</span></span><br><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°-YUM-ç´¢å¼•"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°-YUM-ç´¢å¼•" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ›´æ–° YUM ç´¢å¼•"></a>ç¬¬ä¸‰æ­¥ï¼šæ›´æ–° YUM ç´¢å¼•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬å››æ­¥ï¼šå®‰è£…-Docker-CE"><a href="#ç¬¬å››æ­¥ï¼šå®‰è£…-Docker-CE" class="headerlink" title="ç¬¬å››æ­¥ï¼šå®‰è£… Docker CE"></a>ç¬¬å››æ­¥ï¼šå®‰è£… Docker CE</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äº”æ­¥ï¼šå¯åŠ¨-Docker"><a href="#ç¬¬äº”æ­¥ï¼šå¯åŠ¨-Docker" class="headerlink" title="ç¬¬äº”æ­¥ï¼šå¯åŠ¨ Docker"></a>ç¬¬äº”æ­¥ï¼šå¯åŠ¨ Docker</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬å…­æ­¥ï¼šæµ‹è¯•"><a href="#ç¬¬å…­æ­¥ï¼šæµ‹è¯•" class="headerlink" title="ç¬¬å…­æ­¥ï¼šæµ‹è¯•"></a>ç¬¬å…­æ­¥ï¼šæµ‹è¯•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker --version</span><br><span class="line">Docker version 23.0.1, build a5ee5b1</span><br></pre></td></tr></table></figure>

<p>æ‹‰å–æµ‹è¯•é•œåƒï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker run hello-world</span><br><span class="line">Unable to find image &#x27;hello-world:latest&#x27; locally</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">2db29710123e: Pull complete</span><br><span class="line">Digest: sha256:2498fce14358aa50ead0cc6c19990fc6ff866ce72aeb5546e1d59caac3d0d60f</span><br><span class="line">Status: Downloaded newer image for hello-world:latest</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"><span class="meta prompt_"> $ </span><span class="language-bash">docker run -it ubuntu bash</span></span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®é•œåƒåŠ é€Ÿ"><a href="#é…ç½®é•œåƒåŠ é€Ÿ" class="headerlink" title="é…ç½®é•œåƒåŠ é€Ÿ"></a>é…ç½®é•œåƒåŠ é€Ÿ</h2><ol>
<li><p>ç™»å½•é˜¿é‡Œäº‘å¼€å‘è€…å¹³å°ï¼š<a target="_blank" rel="noopener" href="https://home.console.aliyun.com/home/dashboard/ProductAndService">https://home.console.aliyun.com/home/dashboard/ProductAndService</a></p>
</li>
<li><p>é€‰æ‹©å®¹å™¨é•œåƒæœåŠ¡ â€“&gt; é•œåƒå·¥å…· â€“&gt; é•œåƒåŠ é€Ÿå™¨</p>
</li>
<li><p>è·å–åŠ é€Ÿå™¨åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://utix41yg.mirror.aliyuncs.com/">https://utix41yg.mirror.aliyuncs.com</a></p>
</li>
<li><p>é…ç½®é•œåƒåœ°å€</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /etc/docker</span><br><span class="line">vim  /etc/docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://utix41yg.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡å¯ Docker</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Docker-å¸¸ç”¨å‘½ä»¤"><a href="#Docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Docker å¸¸ç”¨å‘½ä»¤"></a>Docker å¸¸ç”¨å‘½ä»¤</h1><h2 id="å¯åŠ¨å¸®åŠ©ç±»"><a href="#å¯åŠ¨å¸®åŠ©ç±»" class="headerlink" title="å¯åŠ¨å¸®åŠ©ç±»"></a>å¯åŠ¨å¸®åŠ©ç±»</h2><ol>
<li><p>å¯åŠ¨ã€é‡å¯ã€åœæ­¢ã€çŠ¶æ€ç­‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system start/stop/restart/status docker</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸®åŠ©ä¿¡æ¯ï¼ˆä¸€èˆ¬å¤šä¸ªå•è¯ä½¿ç”¨ä¸¤ä¸ªä¸­åˆ’çº¿ï¼Œå•ä¸ªå•è¯ä½¿ç”¨ä¸€ä¸ªä¸­åˆ’çº¿ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker å‘½ä»¤ --help</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h2><h3 id="docker-images"><a href="#docker-images" class="headerlink" title="docker images"></a>docker images</h3><ul>
<li>åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</li>
<li>OPTIONSï¼š<ul>
<li>-a  åˆ—å‡ºæ‰€æœ‰</li>
<li>-q  åªæ˜¾ç¤ºé•œåƒID</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker images</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">ubuntu        latest    ba6acccedd29   16 months ago   72.8MB</span><br><span class="line">hello-world   latest    feb5d9fea6a5   17 months ago   13.3kB</span><br></pre></td></tr></table></figure>

<p>é€‰é¡¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>REPOSITORY</th>
<th>ä»“åº“æº</th>
</tr>
</thead>
<tbody><tr>
<td>TAG</td>
<td>é•œåƒæ ‡ç­¾</td>
</tr>
<tr>
<td>IMAGE ID</td>
<td>é•œåƒ ID</td>
</tr>
<tr>
<td>CREATED</td>
<td>é•œåƒåˆ›å»ºæ—¶é—´</td>
</tr>
<tr>
<td>SIZE</td>
<td>é•œåƒå¤§å°</td>
</tr>
</tbody></table>
<h3 id="docker-search"><a href="#docker-search" class="headerlink" title="docker search"></a>docker search</h3><ul>
<li>docker search æ˜¯ä» <a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com</a> æŸ¥è¯¢é•œåƒ</li>
<li>OPTIONSï¼š<ul>
<li>â€“limit	æ•°é‡é™åˆ¶ï¼Œé»˜è®¤ 25 ä¸ª</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker search --limit 5 tomcat</span><br><span class="line">NAME                          DESCRIPTION                      STARS     OFFICIAL   AUTOMATED</span><br><span class="line">tomcat                        Apache Tomcat is an open source 3496      [OK]</span><br><span class="line">tomee                         Apache TomEE is an all-Apache Ja103       [OK]</span><br><span class="line">bitnami/tomcat                Bitnami Tomcat Docker Image      48                   [OK]</span><br><span class="line">secoresearch/tomcat-varnish   Tomcat and Varnish 5.0           0                    [OK]</span><br><span class="line">wnprcehr/tomcat                                                0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="docker-pull"><a href="#docker-pull" class="headerlink" title="docker pull"></a>docker pull</h3><ul>
<li>ä¸‹è½½é•œåƒ</li>
<li>docker pull é•œåƒåç§°:TAG</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker pull ubuntu</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/ubuntu</span><br><span class="line">7b1a6ab2e44d: Pull complete</span><br><span class="line">Digest: sha256:626ffe58f6e7566e00254b638eb7e0f3b11d4da9675088f4781a50ae288f3322</span><br><span class="line">Status: Downloaded newer image for ubuntu:latest</span><br><span class="line">docker.io/library/ubuntu:latest</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="docker-system-df"><a href="#docker-system-df" class="headerlink" title="docker system df"></a>docker system df</h3><ul>
<li>æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å çš„ç©ºé—´</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker system df</span><br><span class="line">TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE</span><br><span class="line">Images          2         1         72.79MB   72.78MB (99%)</span><br><span class="line">Containers      1         0         0B        0B</span><br><span class="line">Local Volumes   0         0         0B        0B</span><br><span class="line">Build Cache     0         0         0B        0B</span><br></pre></td></tr></table></figure>

<h3 id="docker-rmi"><a href="#docker-rmi" class="headerlink" title="docker rmi"></a>docker rmi</h3><ul>
<li>åˆ é™¤é•œåƒ</li>
<li>åˆ é™¤å•ä¸ªï¼šdocker  rmi  -f  é•œåƒID</li>
<li>åˆ é™¤å¤šä¸ªï¼šdocker  rmi  -f  é•œåƒå1:TAG  é•œåƒå2:TAG</li>
<li>åˆ é™¤å…¨éƒ¨ï¼šdocker rmi -f $(docker images -qa)</li>
</ul>
<h3 id="è™šæ‚¬é•œåƒ"><a href="#è™šæ‚¬é•œåƒ" class="headerlink" title="è™šæ‚¬é•œåƒ"></a>è™šæ‚¬é•œåƒ</h3><ul>
<li>ä»“åº“åã€æ ‡ç­¾éƒ½æ˜¯ <none> çš„é•œåƒï¼Œä¿—ç§°è™šæ‚¬é•œåƒdangling image</none></li>
</ul>
<h2 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h2><h3 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h3><ul>
<li><strong>docker 	run 	[OPTIONS] 	IMAGE 	[COMMAND] 	[ARGâ€¦]</strong></li>
</ul>
<p>OPTIONS é€‰é¡¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>option</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>â€“name</td>
<td>å®¹å™¨åç§°</td>
</tr>
<tr>
<td>-d</td>
<td>å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼Œåå°è¿è¡Œå®¹å™¨</td>
</tr>
<tr>
<td>-i</td>
<td>ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨</td>
</tr>
<tr>
<td>-t</td>
<td>ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨</td>
</tr>
<tr>
<td>-P</td>
<td>éšæœºç«¯å£æ˜ å°„</td>
</tr>
<tr>
<td>-p</td>
<td>æŒ‡å®šç«¯å£æ˜ å°„</td>
</tr>
</tbody></table>
<p>-p å‚æ•°è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>args</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-p hostPort:containerPort</td>
<td>ç«¯å£æ˜ å°„               -p 8080:80</td>
</tr>
<tr>
<td>-p ip:hostPort:containerPort</td>
<td>é…ç½®ç›‘å¬åœ°å€       -p 192.168.100.100:8080:80</td>
</tr>
<tr>
<td>-p ip::containerPort</td>
<td>éšæœºåˆ†é…ç«¯å£       -p 192.168.100.100::80</td>
</tr>
<tr>
<td>-p hostPort:containerPort:tcp</td>
<td>æŒ‡å®šåè®®               -p 8080:80:udp</td>
</tr>
<tr>
<td>-p 8080:80  3306:3306</td>
<td>æŒ‡å®šå¤šä¸ªæ˜ å°„</td>
</tr>
</tbody></table>
<p><strong>ã€æ³¨æ„ï¼šã€‘</strong></p>
<p>å¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼šåå°å®ˆæŠ¤å¼å¯åŠ¨ï¼Œå‰å°äº¤äº’å¼å¯åŠ¨</p>
<p>å¦‚æœä»¥åå°å¯åŠ¨ï¼Œå¦‚ docker run -d unubtuï¼Œå†ä½¿ç”¨docker ps æŸ¥çœ‹æ—¶ï¼Œå‘ç°å®¹å™¨å·²ç»é€€å‡ºï¼ˆè‡ªæ€ï¼‰ï¼Œå› ä¸º Dockerå®¹å™¨åå°å¯åŠ¨ï¼Œå°±å¿…é¡»æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œå¦åˆ™å®ƒè§‰å¾—è‡ªå·±æ— äº‹å¯åšï¼Œä¾¿ä¼šé€€å‡ºã€‚</p>
<p><strong>é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼šå°†è¿è¡Œçš„ç¨‹åºä»¥å‰å°è¿›ç¨‹çš„å½¢å¼è¿è¡Œï¼Œå¦‚ä½¿ç”¨å‘½ä»¤ tailã€æ­»å¾ªç¯ã€å‘½ä»¤è¡Œæ¨¡å¼ç­‰ã€‚</strong></p>
<h3 id="åˆ—å‡ºå®¹å™¨"><a href="#åˆ—å‡ºå®¹å™¨" class="headerlink" title="åˆ—å‡ºå®¹å™¨"></a>åˆ—å‡ºå®¹å™¨</h3><ul>
<li><strong>docker ps [OPTIONS]</strong></li>
</ul>
<p>options è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>OPTIONS</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼ŒåŒ…å«å†å²ä¸Šè¿è¡Œçš„</td>
</tr>
<tr>
<td>-l</td>
<td>æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</td>
</tr>
<tr>
<td>-n</td>
<td>æ˜¾ç¤ºæœ€è¿‘ n ä¸ªåˆ›å»ºçš„å®¹å™¨</td>
</tr>
<tr>
<td>-q</td>
<td>åªæ˜¾ç¤ºå®¹å™¨ç¼–å·</td>
</tr>
</tbody></table>
<h3 id="é€€å‡ºå®¹å™¨"><a href="#é€€å‡ºå®¹å™¨" class="headerlink" title="é€€å‡ºå®¹å™¨"></a>é€€å‡ºå®¹å™¨</h3><ul>
<li>æ–¹å¼ä¸€ï¼šexit <ul>
<li>é€€å‡ºå®¹å™¨ï¼Œå®¹å™¨ä¼šåœæ­¢</li>
</ul>
</li>
<li>æ–¹å¼äºŒï¼šCTRL + P + Q<ul>
<li>é€€å‡ºå®¹å™¨ï¼Œå®¹å™¨ä¸ä¼šåœæ­¢</li>
</ul>
</li>
</ul>
<h3 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h3><ul>
<li><strong>docker restart å®¹å™¨IDæˆ–è€…å®¹å™¨åç§°</strong></li>
</ul>
<h3 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h3><ul>
<li><p><strong>docker stop å®¹å™¨IDæˆ–è€…å®¹å™¨åç§°</strong></p>
</li>
<li><p>å¼ºåˆ¶åœæ­¢å®¹å™¨ï¼š<strong>docker kill å®¹å™¨IDæˆ–å®¹å™¨åç§°</strong></p>
</li>
</ul>
<h3 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h3><ul>
<li><p>åˆ é™¤å•ä¸ªï¼š<strong>docker rm å®¹å™¨ID</strong></p>
</li>
<li><p>åˆ é™¤å¤šä¸ª</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šdocker rm -f $(docker ps -qa)</li>
<li>æ–¹å¼äºŒï¼šdocker ps -a -q | xargs docker rm</li>
</ul>
</li>
</ul>
<h3 id="æŸ¥çœ‹å®¹å™¨æ—¥å¿—"><a href="#æŸ¥çœ‹å®¹å™¨æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹å®¹å™¨æ—¥å¿—"></a>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</h3><ul>
<li>docker logs å®¹å™¨ID</li>
</ul>
<h3 id="æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹"><a href="#æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹"></a>æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹</h3><ul>
<li>docker top å®¹å™¨ID</li>
</ul>
<h3 id="æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚"><a href="#æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚"></a>æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚</h3><ul>
<li>docker inspect å®¹å™¨ID</li>
</ul>
<h3 id="è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h3><ul>
<li><p>æ–¹å¼ä¸€ï¼šdocker exec -it å®¹å™¨ID bashShell</p>
<p>exec æ˜¯åœ¨å®¹å™¨ä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå¹¶ä¸”å¯ä»¥å¯åŠ¨æ–°çš„è¿›ç¨‹ï¼Œç”¨ exit é€€å‡ºï¼Œä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚ã€æ¨èä½¿ç”¨ã€‘</p>
</li>
<li><p>æ–¹å¼äºŒï¼šdocker attach å®¹å™¨ID</p>
<p>attach ç›´æ¥è¿›å…¥å®¹å™¨å¯åŠ¨å‘½ä»¤çš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹ï¼Œç”¨ exit é€€å‡ºï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚</p>
</li>
</ul>
<h3 id="æ‹·è´æ–‡ä»¶"><a href="#æ‹·è´æ–‡ä»¶" class="headerlink" title="æ‹·è´æ–‡ä»¶"></a>æ‹·è´æ–‡ä»¶</h3><ul>
<li>docker cp å®¹å™¨ID:å®¹å™¨å†…è·¯å¾„  ç›®çš„ä¸»æœºè·¯å¾„</li>
</ul>
<h3 id="å¯¼å…¥å’Œå¯¼å‡ºå®¹å™¨"><a href="#å¯¼å…¥å’Œå¯¼å‡ºå®¹å™¨" class="headerlink" title="å¯¼å…¥å’Œå¯¼å‡ºå®¹å™¨"></a>å¯¼å…¥å’Œå¯¼å‡ºå®¹å™¨</h3><ul>
<li>export	å¯¼å‡ºå®¹å™¨çš„å†…å®¹ç•™ä½œä¸ºä¸€ä¸ª tar å½’æ¡£æ–‡ä»¶<ul>
<li>docker export å®¹å™¨ID &gt; æ–‡ä»¶å.tar</li>
</ul>
</li>
<li>import    ä» tar åŒ…ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿå†å¯¼å…¥ä¸ºé•œåƒ<ul>
<li>cat æ–‡ä»¶å.tar | docker import - é•œåƒç”¨æˆ·&#x2F;é•œåƒå:é•œåƒç‰ˆæœ¬å·</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Effective%20Java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/Effective%20Java/" class="post-title-link" itemprop="url">EffectiveJava</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-26 23:25:09" itemprop="dateModified" datetime="2023-02-26T23:25:09+08:00">2023-02-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id><a href="#" class="headerlink" title></a></h1><h1 id="Effective-Java"><a href="#Effective-Java" class="headerlink" title="Effective Java"></a>Effective Java</h1><h1 id="ç¬¬ä¸€ç« -åˆ›å»ºå’Œé”€æ¯å¯¹è±¡"><a href="#ç¬¬ä¸€ç« -åˆ›å»ºå’Œé”€æ¯å¯¹è±¡" class="headerlink" title="ç¬¬ä¸€ç«  åˆ›å»ºå’Œé”€æ¯å¯¹è±¡"></a>ç¬¬ä¸€ç«  åˆ›å»ºå’Œé”€æ¯å¯¹è±¡</h1><h2 id="ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨"><a href="#ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨" class="headerlink" title="ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨"></a>ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨</h2><h2 id="é‡åˆ°å¤šä¸ªæ„é€ å‚æ•°æ—¶è€ƒè™‘ä½¿ç”¨æ„å»ºå™¨"><a href="#é‡åˆ°å¤šä¸ªæ„é€ å‚æ•°æ—¶è€ƒè™‘ä½¿ç”¨æ„å»ºå™¨" class="headerlink" title="é‡åˆ°å¤šä¸ªæ„é€ å‚æ•°æ—¶è€ƒè™‘ä½¿ç”¨æ„å»ºå™¨"></a>é‡åˆ°å¤šä¸ªæ„é€ å‚æ•°æ—¶è€ƒè™‘ä½¿ç”¨æ„å»ºå™¨</h2><h2 id="ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§"><a href="#ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§" class="headerlink" title="ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§"></a>ç”¨ç§æœ‰æ„é€ å™¨æˆ–æšä¸¾ç±»å‹å¼ºåŒ–Singletonå±æ€§</h2><h2 id="é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›"><a href="#é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›" class="headerlink" title="é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›"></a>é€šè¿‡ç§æœ‰æ„é€ å™¨å¼ºåŒ–ä¸å¯å®ä¾‹åŒ–çš„èƒ½åŠ›</h2><h2 id="ä¼˜å…ˆè€ƒè™‘ä¾èµ–æ³¨å…¥æ¥å¼•ç”¨èµ„æº"><a href="#ä¼˜å…ˆè€ƒè™‘ä¾èµ–æ³¨å…¥æ¥å¼•ç”¨èµ„æº" class="headerlink" title="ä¼˜å…ˆè€ƒè™‘ä¾èµ–æ³¨å…¥æ¥å¼•ç”¨èµ„æº"></a>ä¼˜å…ˆè€ƒè™‘ä¾èµ–æ³¨å…¥æ¥å¼•ç”¨èµ„æº</h2><h2 id="é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡"><a href="#é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡" class="headerlink" title="é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡"></a>é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡</h2><p>å°½å¯èƒ½çš„é‡ç”¨å•ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éœ€è¦çš„æ—¶å€™åˆ›å»ºä¸€ä¸ªç›¸åŒåŠŸèƒ½çš„æ–°å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œé‚£ä¹ˆå®ƒå°±å§‹ç»ˆå¯ä»¥è¢«é‡ç”¨ã€‚å¦‚æœåœ¨å¾ªç¯è¯­å¥æˆ–è€…é¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ä¸­åˆ›å»ºè¯¥å¯¹è±¡ï¼Œå¯¹æ€§èƒ½æˆ–å†…å­˜æœ‰å¾ˆå¤§çš„å½±å“ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼ˆé”™è¯¯å†™æ³•ï¼‰ï¼š</p>
<p>String s &#x3D; new String(â€œbikiniâ€);</p>
<p>è¯´æ˜ï¼šè¯¥è¯­å¥æ¯æ¬¡è¢«æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Stringå®ä¾‹ï¼Œæ²¡æœ‰å¿…é¡»ä½¿ç”¨new String()æ„é€ å™¨ï¼Œå‚æ•°â€bikiniâ€æœ¬èº«å°±æ˜¯ä¸€ä¸ªStringå®ä¾‹ï¼Œå¯¹äºç›¸åŒçš„å­—ç¬¦ä¸²å¸¸é‡å®ä¾‹ï¼Œè¯¥å®ä¾‹å°±ä¼šè¢«é‡ç”¨ã€‚åŠŸèƒ½ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå¦‚æœåœ¨å¾ªç¯æˆ–é¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ä¸­ï¼Œå°±ä¼šåˆ›å»ºå¤§é‡ä¸å¿…è¦çš„Stringå®ä¾‹ã€‚</p>
<p>æ³¨æ„äº‹é¡¹äºŒï¼š</p>
<p>â€‹	å¯¹äºåŒæ—¶æä¾›äº†é™æ€å·¥å‚æ–¹æ³•å’Œæ„é€ å™¨çš„ä¸å¯å˜ç±»ï¼Œé€šå¸¸ä¼˜å…ˆä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•ï¼Œä»¥é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡ã€‚</p>
<p>â€‹	æ„é€ å™¨æ¯æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œé™æ€å·¥å‚æ–¹æ³•ä¸ä¼šï¼Œé™¤äº†é‡ç”¨ä¸å¯å˜çš„å¯¹è±¡ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥é‡ç”¨é‚£äº›å·²çŸ¥ä¸ä¼šè¢«ä¿®æ”¹çš„å¯å˜å¯¹è±¡ã€‚</p>
<p>ç¤ºä¾‹ï¼šé™æ€å·¥å‚æ–¹æ³• Boolean.valueOf(String s) æ€»æ˜¯ä¼˜å…ˆäºæ„é€ å™¨ new Boolean(String);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">valueOf</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> parseBoolean(s) ? TRUE : FALSE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">parseBoolean</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> ((s != <span class="literal">null</span>) &amp;&amp; s.equalsIgnoreCase(<span class="string">&quot;true&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„äº‹é¡¹ä¸‰ï¼š</p>
<p>â€‹	å¯¹äºåˆ›å»ºæˆæœ¬é«˜çš„â€œæ˜‚è´µ&#x2F;é‡é‡çº§çš„å¯¹è±¡â€ï¼Œå»ºè®®ç¼“å­˜ä¸‹æ¥ä½¿ç”¨ï¼Œå¦‚ä¸‹é¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆåˆ¤æ–­æ˜¯å¦ä¸ºç½—é©¬æ•°å­—ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Performance can be grately improved!</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isRomanNumeral</span><span class="params">(String s)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s.matches(<span class="string">&quot;^(?=.)M*(C[MD]|D?C&#123;0,3&#125;)&quot;</span>+<span class="string">&quot;(X[CL]|L?X&#123;0,3&#125;)(I[XV]|V?I&#123;0,3&#125;)$&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äº matches æ–¹æ³•ï¼ŒæŸ¥çœ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œä½†ä¸é€‚åˆåœ¨æ³¨é‡æ€§èƒ½çš„åœºæ™¯ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªPattern å®ä¾‹ï¼Œå´åªç”¨äº†ä¸€æ¬¡ï¼Œä¹‹åå°±ä¼šè¢«åƒåœ¾å›æ”¶ã€‚åˆ›å»º Pattern çš„æˆæœ¬å¾ˆé«˜ï¼Œä¸ºäº†æå‡æ€§èƒ½ï¼Œåº”è¯¥å°†æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘ä¸ºä¸€ä¸ª Pattern å®ä¾‹ï¼Œç¼“å­˜èµ·æ¥ï¼Œæ¯æ¬¡è°ƒç”¨çš„ isRomanNumeral æ–¹æ³•çš„æ—¶å€™é‡ç”¨è¯¥å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Reusing expensive object for improved performance</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RomanNumerals</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Pattern</span> <span class="variable">ROMAN</span> <span class="operator">=</span> </span><br><span class="line">        Pattern.compile(<span class="string">&quot;^(?=.)M*(C[MD]|D?C&#123;0,3&#125;)&quot;</span>+<span class="string">&quot;(X[CL]|L?X&#123;0,3&#125;)(I[XV]|V?I&#123;0,3&#125;)$&quot;</span>);</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isRomanNumeral</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ROMAN.matcher(s).matches();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹è¿›åçš„ isRomanNumeral æ–¹æ³•å¦‚æœè¢«é¢‘ç¹è°ƒç”¨ï¼Œä¼šæœ‰æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œæ­¤å¤–ï¼Œç»™æ­£åˆ™è¡¨è¾¾å¼èµ·ä¸€ä¸ªåå­—ï¼Œæ›´åŠ æœ‰å¯è¯»æ€§ã€‚</p>
<p>æ³¨æ„äº‹é¡¹ä¸‰ï¼š</p>
<p>æ³¨æ„äº‹é¡¹å››ï¼š</p>
<p>ä¼˜å…ˆä½¿ç”¨åŸºæœ¬ç±»å‹è€Œä¸æ˜¯è£…ç®±ç±»å‹ï¼Œè‡ªåŠ¨æ‹†è£…ç®±å¯èƒ½ä¹Ÿä¼šåˆ›å»ºå¤šä½™çš„å¯¹è±¡ï¼Œå¦‚åŒ…è£…ç±»é¢‘ç¹ä½œä¸ºè®¡ç®—å€¼å„¿å¤§é‡åˆ›å»ºå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—æ‰€æœ‰æ­£æ•´æ•°å’Œ</span></span><br><span class="line"><span class="comment">// Hideously slow!</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">sum</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt;= Integer.MAX_VALUE;i++)&#123;</span><br><span class="line">		sum += i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šåˆ›å»º 2 çš„ 31 æ¬¡æ–¹ä¸ª Long å®ä¾‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</p>
<p>æ³¨æ„äº‹é¡¹äº”ï¼š</p>
<h2 id="æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡å¼•ç”¨"><a href="#æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡å¼•ç”¨" class="headerlink" title="æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡å¼•ç”¨"></a>æ¶ˆé™¤è¿‡æœŸçš„å¯¹è±¡å¼•ç”¨</h2><h2 id="é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•å’Œæ¸…é™¤æ–¹æ³•"><a href="#é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•å’Œæ¸…é™¤æ–¹æ³•" class="headerlink" title="é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•å’Œæ¸…é™¤æ–¹æ³•"></a>é¿å…ä½¿ç”¨ç»ˆç»“æ–¹æ³•å’Œæ¸…é™¤æ–¹æ³•</h2><h2 id="try-with-resources-ä¼˜å…ˆäº-try-finally"><a href="#try-with-resources-ä¼˜å…ˆäº-try-finally" class="headerlink" title="try-with-resources ä¼˜å…ˆäº try-finally"></a>try-with-resources ä¼˜å…ˆäº try-finally</h2><p>Javaç±»åº“ä¸­å¿…é¡»è°ƒç”¨ close æ–¹æ³•å…³é—­èµ„æºï¼Œå¦‚ InputStreamã€OutputStreamã€java.sql.Connectionéƒ½éœ€è¦å…³é—­èµ„æºï¼Œå¦åˆ™é€ æˆä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œtry-finally èƒ½å¤Ÿç¡®ä¿èµ„æºè¢«æ­£ç¡®å…³é—­ï¼Œä½†ä¸å¤Ÿå¥½ï¼Œä¹Ÿå­˜åœ¨è®¸å¤šé—®é¢˜ã€‚</p>
<p>æ³¨æ„äº‹é¡¹ä¸€ï¼š</p>
<p>å¯¹äºå•ä¸ªèµ„æºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try-finally no logger the best way to close resources!</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">firstLineOfFile</span><span class="params">(String path)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(path));</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> br.readLine();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå¤šä¸ªèµ„æºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">BUFFER_SIZE</span> <span class="operator">=</span> <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copy</span><span class="params">(String src, String dst)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">       <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dst);</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[BUFFER_SIZE];</span><br><span class="line">               <span class="type">int</span> len;</span><br><span class="line">               <span class="keyword">while</span> ((len = fis.read(bytes)) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                   fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">               fos.close();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">           fis.close();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä¸¤ç§æ–¹å¼ï¼Œå³ä¾¿ä½¿ç”¨ try-finally å…³é—­äº†èµ„æºï¼Œä½†ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œå› ä¸º try å’Œ finally ä¸­çš„ä»£ç éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä¾‹å¦‚æ–¹æ³• firstLineOfFile ï¼Œå¦‚æœåº•å±‚çš„ç‰©ç†è®¾å¤‡å¼‚å¸¸ï¼Œnameè°ƒç”¨ readLine å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ŒåŸºäºåŒæ ·çš„åŸå› ï¼Œè°ƒç”¨ close æ–¹æ³•ï¼Œä¹Ÿä¼šå‡ºç°å¼‚å¸¸ï¼Œæ­¤æ—¶ï¼Œç¬¬äºŒä¸ªå¼‚å¸¸å°±ä¼šæŠ¹é™¤ç¬¬ä¸€ä¸ªå¼‚å¸¸ï¼Œåœ¨å¼‚å¸¸çš„å †æ ˆä¸­æ˜¯æ²¡æœ‰ç¬¬ä¸€ä¸ªå¼‚å¸¸çš„è®°å½•ä¿¡æ¯çš„ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å†ç°å®ä¸­è°ƒè¯•å˜å¾—å¾ˆå›°éš¾ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ç¼–å†™ä»£ç ç¦æ­¢ç¬¬äºŒä¸ªå¼‚å¸¸ï¼Œä¿ç•™ç¬¬ä¸€ä¸ªå¼‚å¸¸ï¼Œä½†è¿‡äºç¹çä¸å»ºè®®ä½¿ç”¨ã€‚</p>
<p>â€‹		Java7 å¼•å…¥ try-with-resources æ¥å…³é—­èµ„æºï¼Œå¦‚æœä¸€ä¸ªç±»å¿…é¡»æ˜¯è¢«å…³é—­çš„èµ„æºï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åº”è¯¥å®ç° AutoCloseable æ¥å£ï¼Œå…¶ä¸­åŒ…å« close æ–¹æ³•ï¼ŒJavaç±»åº“å’Œç¬¬ä¸‰æ–¹ç±»åº“çš„è®¸å¤šç±»å’Œæ¥å£éƒ½å®ç°æˆ–æ‰©å±•äº† AutoCloseable æ¥å£ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try-with-resources the best way to close resources!</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">firstLineOfFile</span><span class="params">(String path)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(path))) &#123;</span><br><span class="line">        <span class="keyword">return</span> br.readLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copy2</span><span class="params">(String src, String dst)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">try</span> (<span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">         <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dst);</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[BUFFER_SIZE];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes)) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹		ä½¿ç”¨ try-with-resources ä¸ä»…ä½¿ä»£ç å˜å¾—ç®€æ´æ˜“æ‡‚ï¼Œæ›´å®¹æ˜“è¯Šæ–­é”™è¯¯ï¼Œä»¥ firstLineOfFile ä¸ºä¾‹ï¼Œå¦‚æœè°ƒç”¨ readLine å’Œï¼ˆä¸å¯è§çš„ï¼‰close æ–¹æ³•éƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œåä¸€ä¸ªå¼‚å¸¸å°±ä¼šè¢«ç¦æ­¢ï¼Œä»¥ä¿ç•™ç¬¬ä¸€ä¸ªå¼‚å¸¸ï¼Œè¢«ç¦æ­¢çš„å¼‚å¸¸ä¸æ˜¯è¢«æŠ›å¼ƒäº†ï¼Œè€Œæ˜¯ä¼šè¢«æ‰“å°åˆ°å †æ ˆä¸­ï¼Œå¹¶æ ‡æ³¨ä¸ºè¢«ç¦æ­¢çš„å¼‚å¸¸ï¼Œé€šè¿‡ç¼–ç¨‹ getSuppressed æ–¹æ³•å¯ä»¥è®¿é—®ï¼Œè¯¥æ–¹æ³•è¢«æ·»åŠ åˆ° Throwableä¸­äº†ã€‚</p>
<p>â€‹		åŒæ—¶ try-with-resources è¿˜å¯ä»¥ä½¿ç”¨ catch è¯­å¥ï¼Œè¿™æ ·æ—¢å¯ä»¥å¤„ç†å¼‚å¸¸ï¼Œåˆä¸ç”¨å†å¤–åµŒå¥—ä¸€å±‚ä»£ç ï¼Œå¦‚ä¸€ä¸‹ä»£ç ï¼Œæ— æ³•æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try-with-resources with catch</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">firstLineOfFile</span><span class="params">(String path, String defaultValue)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(path))) &#123;</span><br><span class="line">        <span class="keyword">return</span> br.readLine();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="keyword">return</span> defaultValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“è®ºï¼šå¤„ç†å¿…é¡»å…³é—­çš„èµ„æº&#x3D;&#x3D;æ—¶&#x3D;&#x3D;ï¼Œå§‹ç»ˆä¼˜å…ˆè€ƒè™‘ try-with-resources è€Œä¸æ˜¯ try-finally ï¼Œè¿™æ ·å¾—åˆ°çš„ä»£ç æ›´åŠ ç®€ä»‹æ¸…æ™°ï¼Œäº§ç”Ÿçš„å¼‚å¸¸æ›´æœ‰ä»·å€¼ã€‚</p>
<h1 id="ç¬¬äºŒç« -å¯¹äºæ‰€æœ‰å¯¹è±¡éƒ½é€šç”¨çš„æ–¹æ³•"><a href="#ç¬¬äºŒç« -å¯¹äºæ‰€æœ‰å¯¹è±¡éƒ½é€šç”¨çš„æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç«  å¯¹äºæ‰€æœ‰å¯¹è±¡éƒ½é€šç”¨çš„æ–¹æ³•"></a>ç¬¬äºŒç«  å¯¹äºæ‰€æœ‰å¯¹è±¡éƒ½é€šç”¨çš„æ–¹æ³•</h1><h2 id="è¦†ç›–-equals-æ—¶è¯·éµå®ˆé€šç”¨çº¦å®š"><a href="#è¦†ç›–-equals-æ—¶è¯·éµå®ˆé€šç”¨çº¦å®š" class="headerlink" title="è¦†ç›– equals æ—¶è¯·éµå®ˆé€šç”¨çº¦å®š"></a>è¦†ç›– equals æ—¶è¯·éµå®ˆé€šç”¨çº¦å®š</h2><h2 id="è¦†ç›–-equals-æ—¶æ€»è¦è¦†ç›–-hashCode"><a href="#è¦†ç›–-equals-æ—¶æ€»è¦è¦†ç›–-hashCode" class="headerlink" title="è¦†ç›– equals æ—¶æ€»è¦è¦†ç›– hashCode"></a>è¦†ç›– equals æ—¶æ€»è¦è¦†ç›– hashCode</h2><h2 id="å§‹ç»ˆè¦†ç›–-toString"><a href="#å§‹ç»ˆè¦†ç›–-toString" class="headerlink" title="å§‹ç»ˆè¦†ç›– toString"></a>å§‹ç»ˆè¦†ç›– toString</h2><h2 id="è°¨æ…è¦†ç›–-clone"><a href="#è°¨æ…è¦†ç›–-clone" class="headerlink" title="è°¨æ…è¦†ç›– clone"></a>è°¨æ…è¦†ç›– clone</h2><h2 id="è€ƒè™‘å®ç°-Comparable-æ¥å£"><a href="#è€ƒè™‘å®ç°-Comparable-æ¥å£" class="headerlink" title="è€ƒè™‘å®ç° Comparable æ¥å£"></a>è€ƒè™‘å®ç° Comparable æ¥å£</h2><h1 id="ç¬¬ä¸‰ç« -ç±»å’Œæ¥å£"><a href="#ç¬¬ä¸‰ç« -ç±»å’Œæ¥å£" class="headerlink" title="ç¬¬ä¸‰ç«  ç±»å’Œæ¥å£"></a>ç¬¬ä¸‰ç«  ç±»å’Œæ¥å£</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/DesignPattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/DesignPattern/" class="post-title-link" itemprop="url">DesignPattern</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-10 18:12:52" itemprop="dateModified" datetime="2023-03-10T18:12:52+08:00">2023-03-10</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>è®¾è®¡æ¨¡å¼</b></font></div>

<blockquote>
<p>ã€Referã€‘</p>
<p>è®¾è®¡æ¨¡å¼ å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€</p>
</blockquote>
<h1 id="è®¾è®¡æ¨¡å¼æ¦‚è¿°"><a href="#è®¾è®¡æ¨¡å¼æ¦‚è¿°" class="headerlink" title="è®¾è®¡æ¨¡å¼æ¦‚è¿°"></a>è®¾è®¡æ¨¡å¼æ¦‚è¿°</h1><blockquote>
<p><strong>è®¾è®¡æ¨¡å¼ä»‹ç»ç®€ä»‹</strong></p>
<ul>
<li>è®¾è®¡æ¨¡å¼æ˜¯ç¨‹åºå‘˜åœ¨é¢å¯¹åŒç±»è½¯ä»¶å·¥ç¨‹è®¾è®¡é—®é¢˜æ‰€æ€»ç»“å‡ºæ¥çš„æœ‰ç”¨çš„ç»éªŒï¼Œ æ¨¡å¼ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯æŸç±»é—®é¢˜çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œè®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ ä»£è¡¨äº†æœ€ä½³çš„å®è·µã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚</li>
<li><strong>è®¾è®¡æ¨¡å¼çš„æœ¬è´¨æé«˜è½¯ä»¶çš„ç»´æŠ¤æ€§ï¼Œé€šç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œå¹¶é™ä½è½¯ä»¶çš„å¤æ‚åº¦ã€‚</strong> </li>
<li><strong>ä¸è¦ä¸ºäº†ä½¿ç”¨è®¾è®¡æ¨¡å¼è€Œä½¿ç”¨</strong></li>
</ul>
<p><strong>è®¾è®¡æ¨¡å¼çš„ç›®çš„</strong></p>
<ul>
<li>è€¦åˆæ€§ï¼Œå†…èšæ€§</li>
<li>ä»£ç é‡ç”¨æ€§ï¼ˆç›¸åŒçš„ä»£ç ä¸ç”¨ç¼–å†™å¤šæ¬¡ï¼‰</li>
<li>å¯ç»´æŠ¤æ€§ï¼Œå¯æ‰©å±•æ€§ï¼ˆå¾ˆæ–¹ä¾¿çš„å¢åŠ æ–°çš„åŠŸèƒ½æ—¶ï¼‰</li>
<li>å¯é æ€§ï¼ˆå¢åŠ æ–°çš„åŠŸèƒ½å¯¹åŸæ¥çš„åŠŸèƒ½æ²¡æœ‰å½±å“ï¼‰</li>
<li>å¯è¯»æ€§ï¼ˆè§„èŒƒæ€§ï¼Œæ˜“äºç†è§£ï¼‰</li>
</ul>
<p><strong>è®¾è®¡æ¨¡å¼ç±»å‹</strong></p>
<p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œå…±23ç§ã€‚</p>
<ul>
<li>åˆ›å»ºå‹æ¨¡å¼ï¼šå•ä¾‹æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€‚</li>
<li>ç»“æ„å‹æ¨¡å¼ï¼šé€‚é…å™¨æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€‚</li>
<li>è¡Œä¸ºå‹æ¨¡å¼ï¼šæ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreteræ¨¡å¼ï¼‰ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰ã€‚</li>
</ul>
</blockquote>
<h1 id="UML-ç±»å›¾"><a href="#UML-ç±»å›¾" class="headerlink" title="UML ç±»å›¾"></a>UML ç±»å›¾</h1><h2 id="UML-ç±»å›¾çš„ä½¿ç”¨"><a href="#UML-ç±»å›¾çš„ä½¿ç”¨" class="headerlink" title="UML ç±»å›¾çš„ä½¿ç”¨"></a>UML ç±»å›¾çš„ä½¿ç”¨</h2><p><img src="/2023/02/28/DesignPattern/UML%E7%B1%BB%E5%9B%BE%E8%AF%AD%E6%B3%95.png" alt="UMLç±»å›¾è¯­æ³•.png"></p>
<blockquote>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>å±æ€§å’Œæ–¹æ³•çš„ä½¿ç”¨å±æ€§åç§°ï¼šç±»å‹è¡¨ç¤º</li>
<li>- è¡¨ç¤ºç§æœ‰å±æ€§å’Œæ–¹æ³•</li>
<li>+ è¡¨ç¤ºå…¬å…±å±æ€§å’Œæ–¹æ³•</li>
<li>~ è¡¨ç¤ºé»˜è®¤çš„å±æ€§å’Œæ–¹æ³•</li>
<li># è¡¨ç¤ºå—ä¿æŠ¤çš„å±æ€§å’Œæ–¹æ³•</li>
<li>_  ä¸‹åˆ’çº¿è¡¨ç¤º static </li>
<li>æŠ½è±¡ç±»ä½¿ç”¨æ–œä½“è¡¨ç¤º</li>
<li>æ–¹æ³•çš„è¿”å›å€¼ï¼Œæ— å‚ä½¿ç”¨ void è¡¨ç¤º</li>
<li>æ¥å£éœ€è¦åœ¨æ¥å£åç§°ä¸Šä½¿ç”¨ &lt;&lt;æ¥å£&gt;&gt; è¿›è¡Œæ ‡è¯†</li>
</ul>
</blockquote>
<h2 id="ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»"><a href="#ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»" class="headerlink" title="ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»"></a>ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»</h2><p><strong>è€¦åˆåº¦ï¼ˆå…³ç³»å¼ºå¼±ï¼‰ï¼šæ³›åŒ– &gt; å®ç° &gt; ç»„åˆ &gt; èšåˆ &gt; å…³è” &gt; ä¾èµ–</strong></p>
<h3 id="ä¾èµ–ï¼ˆDependencyï¼‰"><a href="#ä¾èµ–ï¼ˆDependencyï¼‰" class="headerlink" title="ä¾èµ–ï¼ˆDependencyï¼‰"></a>ä¾èµ–ï¼ˆDependencyï¼‰</h3><blockquote>
<ul>
<li>ä¾èµ–å…³ç³»æ˜¯æ‰€æœ‰å…³ç³»ä¸­æœ€å¼±çš„ä¸€ç§ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œå³ä¸€ä¸ªç±»çš„å®ç°éœ€è¦å¦ä¸€ä¸ªç±»çš„ååŠ©ï¼Œæ‰€ä»¥è¦å°½é‡ä¸ä½¿ç”¨åŒå‘çš„äº’ç›¸ä¾èµ–ã€‚</li>
<li>åœ¨ä»£ç ä¸­ä½“ç°ä¸ºè¿”å›å€¼ï¼Œå‚æ•°ï¼Œå±€éƒ¨å˜é‡å’Œé™æ€æ–¹æ³•çš„è°ƒç”¨ã€‚</li>
<li>ä¾èµ–å…³ç³»ä½¿ç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼ŒæŒ‡å‘è¢«ä½¿ç”¨è€…ã€‚</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.png" alt="ä¾èµ–å…³ç³».png"></p>
</blockquote>
<h3 id="å…³è”ï¼ˆassociationï¼‰"><a href="#å…³è”ï¼ˆassociationï¼‰" class="headerlink" title="å…³è”ï¼ˆassociationï¼‰"></a>å…³è”ï¼ˆassociationï¼‰</h3><blockquote>
<ul>
<li>å…³è”æŒ‡çš„æ˜¯ä¸€ä¸ªç±»ä¸å¦ä¸€ä¸ªç±»ä¹‹é—´çš„è”ç³»ï¼Œä¸€ä¸ªç±»æŒæœ‰å¦ä¸€ä¸ªç±»çš„æˆå‘˜å¼•ç”¨ï¼Œæ˜¯ä¸€ç§æ‹¥æœ‰çš„å…³ç³»ï¼Œå®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½¿ç”¨ <code>has a</code> è¡¨ç¤ºã€‚åˆ†ä¸ºå•å‘å…³è”ã€åŒå‘å…³è”å’Œè‡ªå…³è”ã€‚</li>
<li>è¡¨ç¤ºæ–¹å¼ï¼š<ul>
<li>å•å‘å…³è”ä½¿ç”¨å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚</li>
<li>åŒå‘å…³è”ä½¿ç”¨ä¸å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚</li>
<li>è‡ªå…³è”ä½¿ç”¨æŒ‡å‘è‡ªèº«çš„å®çº¿ç®­å¤´è¡¨ç¤ºã€‚</li>
</ul>
</li>
</ul>
<p>å•å‘å…³è”ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E5%85%B3%E8%81%94_%E5%8D%95%E5%90%91%E5%85%B3%E8%81%94.png" alt="å…³è”_å•å‘å…³è”.png"></p>
<p>åŒå‘å…³è”ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E5%85%B3%E8%81%94_%E5%8F%8C%E5%90%91%E5%85%B3%E8%81%94.png" alt="å…³è”_åŒå‘å…³è”.png"></p>
<p>è‡ªå…³è”ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E5%85%B3%E8%81%94_%E8%87%AA%E5%85%B3%E8%81%94.png" alt="å…³è”_è‡ªå…³è”.png"></p>
</blockquote>
<h3 id="èšåˆï¼ˆaggregationï¼‰"><a href="#èšåˆï¼ˆaggregationï¼‰" class="headerlink" title="èšåˆï¼ˆaggregationï¼‰"></a>èšåˆï¼ˆaggregationï¼‰</h3><blockquote>
<ul>
<li>ç»„åˆæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸ä¼šå†³å®šéƒ¨åˆ†çš„ç”Ÿå‘½å‘¨æœŸï¼Œéƒ¨åˆ†å¯ä»¥ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ï¼Œå¦‚è½¦å’Œè½®èƒæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œè½®èƒç¦»å¼€è½¦ä»ç„¶å¯ä»¥å­˜åœ¨ã€‚å¦‚ B ä¸­æœ‰å±æ€§ Aï¼Œé€šè¿‡ set ç­‰æ–¹æ³•ç»™ A èµ‹å€¼ã€‚ï¼ˆAçš„ç”Ÿå‘½å‘¨æœŸä¸ä¾èµ–äºBï¼‰</li>
<li>èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯å¼ºçš„å…³è”å…³ç³»ï¼›å…³è”å’Œèšåˆåœ¨è¯­æ³•ä¸Šæ— æ³•åŒºåˆ†ï¼Œå¿…é¡»è€ƒå¯Ÿå…·ä½“çš„é€»è¾‘å…³ç³»ã€‚</li>
<li>èšåˆå…³ç³»ä½¿ç”¨å¸¦ç©ºå¿ƒè±å½¢å’Œç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB.png" alt="èšåˆå…³ç³».png"></p>
</blockquote>
<h3 id="ç»„åˆï¼ˆcompositionï¼‰"><a href="#ç»„åˆï¼ˆcompositionï¼‰" class="headerlink" title="ç»„åˆï¼ˆcompositionï¼‰"></a>ç»„åˆï¼ˆcompositionï¼‰</h3><blockquote>
<ul>
<li>ç»„åˆæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸¤è€…ç”Ÿå‘½å‘¨æœŸä¸€è‡´ï¼Œéƒ¨åˆ†ä¸èƒ½ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ï¼ˆè¯­ä¹‰çº§åˆ«ï¼‰ï¼Œå¦‚å…¬å¸å’Œéƒ¨é—¨æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ²¡æœ‰å…¬å¸å°±ä¸å­˜åœ¨éƒ¨é—¨ã€‚</li>
<li>ç»„åˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯æ¯”èšåˆå…³ç³»è¿˜è¦å¼ºçš„å…³ç³»ï¼Œå®ƒè¦æ±‚æ™®é€šçš„èšåˆå…³ç³»ä¸­ä»£è¡¨æ•´ä½“çš„å¯¹è±¡è´Ÿè´£ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚ B ä¸­ new A( )ï¼ŒB å®ä¾‹åŒ–æ—¶ï¼ŒA ä¹Ÿä¼šå®ä¾‹åŒ–ã€‚( A çš„ç”Ÿå‘½å‘¨æœŸä¾èµ–äº B )</li>
<li>ç»„åˆå…³ç³»ä½¿ç”¨å¸¦å®å¿ƒè±å½¢çš„å®çº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“ã€‚</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB.png" alt="ç»„åˆå…³ç³».png"></p>
</blockquote>
<h3 id="å®ç°ï¼ˆimplementationï¼‰"><a href="#å®ç°ï¼ˆimplementationï¼‰" class="headerlink" title="å®ç°ï¼ˆimplementationï¼‰"></a>å®ç°ï¼ˆimplementationï¼‰</h3><blockquote>
<ul>
<li>å®ç°æ˜¯ä¸€ç§ <code>like a</code> çš„å…³ç³»ï¼Œæ˜¯å¯¹è¡Œä¸ºæ–¹æ³•çš„æŠ½è±¡æè¿°</li>
<li>æ˜¯ä¸€ç§ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°</li>
<li>å®ç°å…³ç³»ä½¿ç”¨å¸¦ç©ºå¿ƒä¸‰è§’ç®­å¤´çš„è™šçº¿è¡¨ç¤ºï¼Œç®­å¤´æŒ‡å‘æ¥å£</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB.png" alt="å®ç°å…³ç³».png"></p>
</blockquote>
<h3 id="æ³›åŒ–ï¼ˆgeneralizationï¼‰"><a href="#æ³›åŒ–ï¼ˆgeneralizationï¼‰" class="headerlink" title="æ³›åŒ–ï¼ˆgeneralizationï¼‰"></a>æ³›åŒ–ï¼ˆgeneralizationï¼‰</h3><blockquote>
<ul>
<li>æ³›åŒ–å³ç±»ä¸ç±»ã€æ¥å£ä¸æ¥å£ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œå±äº<code>is a</code>çš„å…³ç³»ã€‚</li>
<li>è¡¨ç¤ºä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³»ï¼Œå®ƒæŒ‡å®šäº†å­ç±»å¦‚ä½•ç‰¹åŒ–çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºã€‚ä¾‹å¦‚ï¼šè€è™æ˜¯åŠ¨ç‰©çš„ä¸€ç§ï¼Œå³æœ‰è€è™çš„ç‰¹æ€§ä¹Ÿæœ‰åŠ¨ç‰©çš„å…±æ€§ã€‚</li>
<li>æ³›åŒ–å…³ç³»ä½¿ç”¨å¸¦ç©ºå¿ƒä¸‰è§’ç®­å¤´çš„å®çº¿è¡¨ç¤ºï¼Œç®­å¤´æŒ‡å‘çˆ¶ç±»ã€‚</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB.png" alt="æ³›åŒ–å…³ç³».png"></p>
</blockquote>
<h2 id="has-aã€like-aã€is-a"><a href="#has-aã€like-aã€is-a" class="headerlink" title="has aã€like aã€is a"></a>has aã€like aã€is a</h2><blockquote>
<p>has a çš„ä½“ç°ï¼šå…³è”å…³ç³»ã€èšåˆå…³ç³»ã€ç»„åˆå…³ç³»</p>
<p>like a çš„ä½“ç°ï¼šå®ç°å…³ç³»</p>
<p>is a çš„ä½“ç°ï¼šæ³›åŒ–å…³ç³»</p>
</blockquote>
<h1 id="è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™"><a href="#è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™"></a>è®¾è®¡æ¨¡å¼ä¸ƒå¤§åŸåˆ™</h1><p>è®¾è®¡æ¨¡å¼åŸåˆ™ï¼Œå³ç¼–ç¨‹æ—¶åº”å½“éµå®ˆçš„åŸåˆ™ï¼Œä¹Ÿæ˜¯å„ç§è®¾è®¡æ¨¡å¼çš„åŸºç¡€ã€‚</p>
<blockquote>
<p>è®¾è®¡æ¨¡å¼å¸¸ç”¨çš„ä¸ƒå¤§åŸåˆ™ï¼š</p>
<ul>
<li>å•ä¸€èŒè´£åŸåˆ™</li>
<li>æ¥å£éš”ç¦»åŸåˆ™</li>
<li>ä¾èµ–å€’è½¬åŸåˆ™</li>
<li>é‡Œå¼æ›¿æ¢åŸåˆ™</li>
<li>å¼€é—­åŸåˆ™</li>
<li>è¿ªç±³ç‰¹æ³•åˆ™</li>
<li>åˆæˆå¤ç”¨åŸåˆ™</li>
</ul>
</blockquote>
<h2 id="å•ä¸€èŒè´£åŸåˆ™"><a href="#å•ä¸€èŒè´£åŸåˆ™" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™"></a>å•ä¸€èŒè´£åŸåˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»"><a href="#åŸºæœ¬ä»‹ç»" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><p>â€‹		å¯¹ç±»æ¥è¯´çš„ï¼Œå³ä¸€ä¸ªç±»åº”è¯¥åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚å¦‚ç±» A è´Ÿè´£ä¸¤ä¸ªä¸åŒèŒè´£ï¼šèŒè´£1ï¼ŒèŒè´£2ã€‚ å½“èŒè´£1éœ€æ±‚å˜æ›´è€Œæ”¹å˜Aæ—¶ï¼Œå¯èƒ½é€ æˆèŒè´£2æ‰§è¡Œé”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦å°†ç±» A çš„ç²’åº¦åˆ†è§£ä¸º A1ï¼ŒA2ã€‚</p>
<h3 id="åº”ç”¨ç¤ºä¾‹"><a href="#åº”ç”¨ç¤ºä¾‹" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h3><p>æ–¹å¼ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.priciple.singleResponsibility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleResponsibility01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Vehicle</span> <span class="variable">vehicle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Vehicle</span>();</span><br><span class="line">        vehicle.run(<span class="string">&quot;æ±½è½¦&quot;</span>);</span><br><span class="line">        vehicle.run(<span class="string">&quot;é£æœº&quot;</span>);</span><br><span class="line">        vehicle.run(<span class="string">&quot;è½®èˆ¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿åäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œå³ä¸€ä¸ªç±»åº”è¯¥åªè´Ÿè´£ä¸€é¡¹èŒè´£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle + <span class="string">&quot;åœ¨å…¬è·¯ä¸Šè¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.priciple.singleResponsibility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleResponsibility02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">RoadVehicle</span> <span class="variable">roadVehicle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RoadVehicle</span>();</span><br><span class="line">        roadVehicle.run(<span class="string">&quot;æ±½è½¦&quot;</span>);</span><br><span class="line">        <span class="type">WaterVehicle</span> <span class="variable">waterVehicle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WaterVehicle</span>();</span><br><span class="line">        waterVehicle.run(<span class="string">&quot;è½®èˆ¹&quot;</span>);</span><br><span class="line">        <span class="type">AirVehicle</span> <span class="variable">airVehicle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AirVehicle</span>();</span><br><span class="line">        airVehicle.run(<span class="string">&quot;é£æœº&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éµå®ˆäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œä½†å¯¹ç±»è¿›è¡Œäº†æ‹†åˆ†å¹¶ä¿®æ”¹äº†å®¢æˆ·ç«¯ï¼Œæ”¹åŠ¨å¾ˆå¤§</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RoadVehicle</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle + <span class="string">&quot;åœ¨å…¬è·¯ä¸Šè¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WaterVehicle</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle+<span class="string">&quot;åœ¨æ°´ä¸­è¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AirVehicle</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle+<span class="string">&quot;åœ¨å¤©ç©ºè¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼ä¸‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.priciple.singleResponsibility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingleResponsibility03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">VehicleTool</span> <span class="variable">vehicle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">VehicleTool</span>();</span><br><span class="line">        vehicle.runRoad(<span class="string">&quot;æ±½è½¦&quot;</span>);</span><br><span class="line">        vehicle.runWater(<span class="string">&quot;è½®èˆ¹&quot;</span>);</span><br><span class="line">        vehicle.runAir(<span class="string">&quot;é£æœº&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ²¡æœ‰å¯¹åŸæ¥ç±»åšå¤§çš„ä¿®æ”¹ï¼Œåªæ˜¯å¢åŠ æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * è™½ç„¶åœ¨ç±»ä¸Šé¢æ²¡æœ‰éµå®ˆå•ä¸€èŒè´£åŸåˆ™ï¼Œä½†åœ¨æ–¹æ³•å±‚é¢ä¸Šéµå®ˆäº†è¯¥åŸåˆ™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VehicleTool</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">runRoad</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle + <span class="string">&quot;åœ¨å…¬è·¯ä¸Šè¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">runWater</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle + <span class="string">&quot;åœ¨æ°´ä¸­è¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">runAir</span><span class="params">(String vehicle)</span> &#123;</span><br><span class="line">        System.out.println(vehicle + <span class="string">&quot;åœ¨å¤©ç©ºè¡Œé©¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><blockquote>
<p>1ï¼‰é™ä½ç±»çš„å¤æ‚åº¦ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚</p>
<p>2ï¼‰æé«˜ç±»çš„å¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p>3ï¼‰é™ä½å˜æ›´å¼•èµ·çš„é£é™©ã€‚</p>
<p>4ï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”å½“éµå®ˆå•ä¸€èŒè´£åŸåˆ™ï¼Œåªæœ‰é€»è¾‘è¶³å¤Ÿç®€å•ï¼Œæ‰å¯ä»¥åœ¨ä»£ç çº§è¿åå•ä¸€èŒè´£åŸåˆ™ï¼›åªæœ‰ç±»ä¸­æ–¹	  	 æ³•æ•°é‡è¶³å¤Ÿå°‘ï¼Œå¯ä»¥åœ¨æ–¹æ³•çº§åˆ«ä¿æŒå•ä¸€èŒè´£åŸåˆ™ã€‚</p>
</blockquote>
<h2 id="æ¥å£éš”ç¦»åŸåˆ™"><a href="#æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™"></a>æ¥å£éš”ç¦»åŸåˆ™</h2><p>Interface Segregation Principle</p>
<h3 id="åŸºæœ¬ä»‹ç»-1"><a href="#åŸºæœ¬ä»‹ç»-1" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<ol>
<li>å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œå³ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šã€‚</li>
</ol>
<img src="/2023/02/28/DesignPattern/Java\Document\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼.assets\image-20221017225157506.png" alt="image-20221017225157506" style="zoom:67%;">

<ol start="2">
<li><p>ç±» A é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» B ï¼Œç±» C é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Dï¼Œå¦‚æœæ¥å£ Interface1 å¯¹äºç±» A å’Œç±» C æ¥è¯´ä¸æ˜¯æœ€å°æ¥å£ï¼Œé‚£ä¹ˆç±» B å’Œç±» D å¿…é¡»å»å®ç°å®ƒä»¬ä¸éœ€è¦çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>æŒ‰éš”ç¦»åŸåˆ™åº”å½“è¿™æ ·å¤„ç†ï¼šå°†æ¥å£ Interface1 æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡ ä¸ªæ¥å£ï¼Œç±» A å’Œç±» C åˆ†åˆ«ä¸å®ƒä»¬éœ€è¦çš„æ¥å£å»ºç«‹ä¾èµ–å…³ç³»ï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="é—®é¢˜ä»£ç "><a href="#é—®é¢˜ä»£ç " class="headerlink" title="é—®é¢˜ä»£ç "></a>é—®é¢˜ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> priciple.interfaceSegreation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceSegreation01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ClassA</span> <span class="variable">classA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassA</span>();</span><br><span class="line">        classA.depend1(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        classA.depend2(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        classA.depend3(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        <span class="type">ClassC</span> <span class="variable">classC</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassC</span>();</span><br><span class="line">        classC.depend1(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">        classC.depend4(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">        classC.depend5(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Interface1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation4</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation5</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassA</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend1</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation1();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend2</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation2();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend3</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassC</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend1</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation1();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend4</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation4();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend5</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation5();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassB</span> <span class="keyword">implements</span> <span class="title class_">Interface1</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation4</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation5</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation5&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassD</span> <span class="keyword">implements</span> <span class="title class_">Interface1</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation4</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation5</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation5&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ClassBå®ç°äº†operation1</span><br><span class="line">ClassBå®ç°äº†operation2</span><br><span class="line">ClassBå®ç°äº†operation3</span><br><span class="line">ClassDå®ç°äº†operation1</span><br><span class="line">ClassDå®ç°äº†operation4</span><br><span class="line">ClassDå®ç°äº†operation5</span><br></pre></td></tr></table></figure>

<h3 id="æ”¹è¿›ä»£ç "><a href="#æ”¹è¿›ä»£ç " class="headerlink" title="æ”¹è¿›ä»£ç "></a>æ”¹è¿›ä»£ç </h3><blockquote>
<p><strong>ä½¿ç”¨æ¥å£éš”ç¦»åŸåˆ™æ”¹è¿›</strong></p>
<ol>
<li><p>ç±»Aé€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Bï¼Œç±» C é€šè¿‡æ¥å£ Interface1 ä¾èµ–ç±» Dï¼Œå¦‚æœæ¥å£ Interface1 å¯¹äºç±» A å’Œç±» C æ¥è¯´ä¸æ˜¯æœ€å°æ¥å£ï¼Œé‚£ä¹ˆç±» B å’Œç±» D å¿…é¡»å»å®ç°å®ƒä»¬ä¸éœ€è¦çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>å°†æ¥å£ Interface1 æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡ ä¸ªæ¥å£ï¼Œç±» A å’Œç±» C åˆ†åˆ«ä¸å®ƒä»¬éœ€è¦çš„æ¥å£å»ºç«‹ä¾èµ–å…³ç³»ã€‚ä¹Ÿå°±æ˜¯é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™ã€‚</p>
</li>
<li><p>æ¥å£ Interface1 ä¸­å‡ºç°çš„æ–¹æ³•ï¼Œæ ¹æ®å®é™…æƒ…å†µæ‹†åˆ†ä¸ºä¸‰ä¸ªæ¥å£ã€‚</p>
</li>
<li><p>ç±»å›¾ç¤ºä¾‹ï¼š</p>
 <img src="/2023/02/28/DesignPattern/Java\Document\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼.assets\image-20221017230102382.png" alt="image-20221017230102382" style="zoom:67%;"></li>
</ol>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.interfaceSegreation.improve;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceSegreation02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ClassA</span> <span class="variable">classA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassA</span>();</span><br><span class="line">        classA.depend1(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        classA.depend2(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        classA.depend3(<span class="keyword">new</span> <span class="title class_">ClassB</span>());</span><br><span class="line">        <span class="type">ClassC</span> <span class="variable">classC</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassC</span>();</span><br><span class="line">        classC.depend1(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">        classC.depend4(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">        classC.depend5(<span class="keyword">new</span> <span class="title class_">ClassD</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Interface1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Interface2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Interface3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation4</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation5</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassB</span> <span class="keyword">implements</span> <span class="title class_">Interface1</span>, Interface2 &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation3</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassBå®ç°äº†operation3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassD</span> <span class="keyword">implements</span> <span class="title class_">Interface1</span>, Interface3 &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation4</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operation5</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ClassDå®ç°äº†operation5&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassA</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend1</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend2</span><span class="params">(Interface2 i)</span> &#123;</span><br><span class="line">        i.operation2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend3</span><span class="params">(Interface2 i)</span> &#123;</span><br><span class="line">        i.operation3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassC</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend1</span><span class="params">(Interface1 i)</span> &#123;</span><br><span class="line">        i.operation1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend4</span><span class="params">(Interface3 i)</span> &#123;</span><br><span class="line">        i.operation4();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">depend5</span><span class="params">(Interface3 i)</span> &#123;</span><br><span class="line">        i.operation5();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–å€’è½¬åŸåˆ™"><a href="#ä¾èµ–å€’è½¬åŸåˆ™" class="headerlink" title="ä¾èµ–å€’è½¬åŸåˆ™"></a>ä¾èµ–å€’è½¬åŸåˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»-2"><a href="#åŸºæœ¬ä»‹ç»-2" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<ol>
<li>ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰æ˜¯æŒ‡ï¼š</li>
<li>é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ã€‚</li>
<li>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚</li>
<li>ä¾èµ–å€’è½¬ï¼ˆå€’ç½®ï¼‰çš„ä¸­å¿ƒæ€æƒ³æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ã€‚</li>
<li>ä¾èµ–å€’è½¬åŸåˆ™æ˜¯åŸºäºè¿™æ ·çš„è®¾è®¡ç†å¿µï¼šç›¸å¯¹äºç»†èŠ‚çš„å¤šå˜æ€§ï¼ŒæŠ½è±¡çš„ä¸œè¥¿è¦ç¨³å®šçš„å¤šã€‚ä»¥æŠ½è±¡ä¸ºåŸºç¡€æ­å»ºçš„æ¶æ„æ¯”ä»¥ç»†èŠ‚ä¸ºåŸºç¡€çš„æ¶æ„è¦ç¨³å®šçš„å¤šã€‚åœ¨ java ä¸­ï¼ŒæŠ½è±¡æŒ‡çš„æ˜¯æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œç»†èŠ‚å°±æ˜¯å…·ä½“çš„å®ç°ç±»ã€‚</li>
<li>ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»çš„ç›®çš„æ˜¯åˆ¶å®šå¥½è§„èŒƒï¼Œè€Œä¸æ¶‰åŠä»»ä½•å…·ä½“çš„æ“ä½œï¼ŒæŠŠå±•ç°ç»†èŠ‚çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬çš„å®ç°ç±»å»å®Œæˆã€‚</li>
</ol>
</blockquote>
<h3 id="åº”ç”¨ç¤ºä¾‹-1"><a href="#åº”ç”¨ç¤ºä¾‹-1" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h3><p>é—®é¢˜ä»£ç ï¼šPersonæ¥æ”¶æ¶ˆæ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.dependenceInversion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DependencyInversion</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        person.receiveMsg(<span class="keyword">new</span> <span class="title class_">Email</span>());</span><br><span class="line">        <span class="comment">// person.receiveMsg(new WeiXin());</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveMsg</span><span class="params">(Email email)</span> &#123;</span><br><span class="line">        email.getInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Email</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Email:getInfo()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WeiXin</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WeiXin:getInfo()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç æ”¹è¿›ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.dependenceInversion.improve;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DependencyInversion02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        person.receiveMsg(<span class="keyword">new</span> <span class="title class_">Email</span>());</span><br><span class="line">        person.receiveMsg(<span class="keyword">new</span> <span class="title class_">WeiXin</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveMsg</span><span class="params">(IReceiver receive)</span> &#123;</span><br><span class="line">        receive.getInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IReceiver</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getInfo</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Email</span> <span class="keyword">implements</span> <span class="title class_">IReceiver</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Email:getInfo()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WeiXin</span> <span class="keyword">implements</span> <span class="title class_">IReceiver</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WeiXin:getInfo()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¾èµ–å…³ç³»ä¼ é€’çš„ä¸‰ç§æ–¹å¼"><a href="#ä¾èµ–å…³ç³»ä¼ é€’çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ä¾èµ–å…³ç³»ä¼ é€’çš„ä¸‰ç§æ–¹å¼"></a>ä¾èµ–å…³ç³»ä¼ é€’çš„ä¸‰ç§æ–¹å¼</h3><blockquote>
<ol>
<li><p>æ¥å£ä¼ é€’</p>
</li>
<li><p>æ„é€ æ–¹æ³•ä¼ é€’</p>
</li>
<li><p>setæ–¹å¼ä¼ é€’</p>
</li>
</ol>
</blockquote>
<p>æ¥å£ä¼ é€’ä¾èµ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IOpenAndClose</span> &#123; <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITV</span> &#123; <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ChangHong</span> <span class="keyword">implements</span> <span class="title class_">ITV</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123; System.out.println(<span class="string">&quot;é•¿è™¹ç”µè§†æœºæ‰“å¼€....&quot;</span>); &#125; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">OpenAndClose</span> <span class="keyword">implements</span> <span class="title class_">IOpenAndClose</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span> &#123; tv.play(); &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DependencyPass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">OpenAndClose</span> <span class="variable">openAndClose</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OpenAndClose</span>();</span><br><span class="line">		openAndClose.open(<span class="keyword">new</span> <span class="title class_">ChangHong</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ„é€ å‡½æ•°ä¼ é€’ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IOpenAndClose</span> &#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITV</span> &#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ChangHong</span> <span class="keyword">implements</span> <span class="title class_">ITV</span> &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;é•¿è™¹ç”µè§†æœºæ‰“å¼€....&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OpenAndClose</span> <span class="keyword">implements</span> <span class="title class_">IOpenAndClose</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> ITV tv;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">OpenAndClose</span><span class="params">(ITV tv)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.tv = tv;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span> &#123;</span><br><span class="line">		tv.play();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DependencyPass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">ChangHong</span> <span class="variable">tv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChangHong</span>();</span><br><span class="line">		<span class="type">OpenAndClose</span> <span class="variable">openAndClose</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OpenAndClose</span>(tv);</span><br><span class="line">		openAndClose.open(tv);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>set æ–¹æ³•ä¼ é€’ä¾èµ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IOpenAndClose</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITV</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ChangHong</span> <span class="keyword">implements</span> <span class="title class_">ITV</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é•¿è™¹ç”µè§†æœºæ‰“å¼€....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OpenAndClose</span> <span class="keyword">implements</span> <span class="title class_">IOpenAndClose</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ITV tv;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTv</span><span class="params">(ITV tv)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tv = tv;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ITV tv)</span> &#123;</span><br><span class="line">        tv.play();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><blockquote>
<ul>
<li>ä½å±‚æ¨¡å—å°½é‡éƒ½è¦æœ‰æŠ½è±¡ç±»æˆ–æ¥å£ï¼Œæˆ–è€…ä¸¤è€…éƒ½æœ‰ï¼Œç¨‹åºç¨³å®šæ€§æ›´å¥½ã€‚</li>
<li>å˜é‡çš„å£°æ˜ç±»å‹å°½é‡æ˜¯æŠ½è±¡ç±»æˆ–æ¥å£, è¿™æ ·æˆ‘ä»¬çš„å˜é‡å¼•ç”¨å’Œå®é™…å¯¹è±¡é—´ï¼Œå°±å­˜åœ¨ ä¸€ä¸ªç¼“å†²å±‚ï¼Œåˆ©äºç¨‹åºæ‰©å±•å’Œä¼˜åŒ–ã€‚</li>
<li>ç»§æ‰¿æ—¶éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚</li>
</ul>
</blockquote>
<h2 id="é‡Œæ°æ›¿æ¢åŸåˆ™"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™"></a>é‡Œæ°æ›¿æ¢åŸåˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»-3"><a href="#åŸºæœ¬ä»‹ç»-3" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<p><strong>OOä¸­çš„ç»§æ‰¿æ€§çš„æ€è€ƒå’Œè¯´æ˜</strong></p>
<ol>
<li><p>ç»§æ‰¿åŒ…å«è¿™æ ·ä¸€å±‚å«ä¹‰ï¼šçˆ¶ç±»ä¸­å‡¡æ˜¯å·²ç»å®ç°å¥½çš„æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¾å®šè§„èŒƒå’Œå¥‘çº¦ï¼Œè™½ç„¶å®ƒä¸å¼ºåˆ¶è¦æ±‚æ‰€æœ‰çš„å­ç±»å¿…é¡»éµå¾ªè¿™äº›å¥‘çº¦ï¼Œä½†æ˜¯å¦‚æœå­ç±»å¯¹è¿™äº›å·²ç»å®ç°çš„æ–¹æ³•ä»»æ„ä¿®æ”¹ï¼Œå°±ä¼šå¯¹æ•´ä¸ªç»§æ‰¿ä½“ç³»é€ æˆç ´åã€‚</p>
</li>
<li><p>ç»§æ‰¿åœ¨ç»™ç¨‹åºè®¾è®¡å¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†å¼Šç«¯ã€‚æ¯”å¦‚ä½¿ç”¨ç»§æ‰¿ä¼šç»™ç¨‹åºå¸¦æ¥ä¾µå…¥æ€§ï¼Œç¨‹åºçš„å¯ç§»æ¤æ€§é™ä½ï¼Œå¢åŠ å¯¹è±¡é—´çš„è€¦åˆæ€§ï¼Œå¦‚æœä¸€ä¸ªç±»è¢«å…¶ä»–çš„ç±»æ‰€ç»§æ‰¿ï¼Œ åˆ™å½“è¿™ä¸ªç±»éœ€è¦ä¿®æ”¹æ—¶ï¼Œå¿…é¡»è€ƒè™‘åˆ°æ‰€æœ‰çš„å­ç±»ï¼Œå¹¶ä¸”çˆ¶ç±»ä¿®æ”¹åï¼Œæ‰€æœ‰æ¶‰åŠåˆ°å­ç±»çš„åŠŸèƒ½éƒ½æœ‰å¯èƒ½äº§ç”Ÿæ•…éšœã€‚</p>
</li>
<li><p>é—®é¢˜æå‡ºï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨ç»§æ‰¿? &#x3D;&gt; é‡Œæ°æ›¿æ¢åŸåˆ™ã€‚</p>
</li>
</ol>
<p>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼š</p>
<ol>
<li><p>æˆ‘ä»¬å¸¸å¸¸ä¼šé€šè¿‡é‡å†™çˆ¶ç±»çš„æ–¹æ³•å®Œæˆæ–°çš„åŠŸèƒ½ï¼Œè¿™æ ·å†™èµ·æ¥è™½ç„¶ç®€å•ï¼Œä½†æ•´ä¸ªç»§æ‰¿ä½“ç³»çš„å¤ç”¨æ€§ä¼šæ¯”è¾ƒå·®ã€‚ç‰¹åˆ«æ˜¯è¿è¡Œå¤šæ€æ¯”è¾ƒé¢‘ç¹çš„æ—¶å€™ã€‚</p>
</li>
<li><p>é€šç”¨çš„åšæ³•æ˜¯ï¼šåŸæ¥çš„çˆ¶ç±»å’Œå­ç±»éƒ½ç»§æ‰¿ä¸€ä¸ªæ›´é€šä¿—çš„åŸºç±»ï¼ŒåŸæœ‰çš„ç»§æ‰¿å…³ç³»å»æ‰ï¼Œ é‡‡ç”¨ä¾èµ–ï¼Œèšåˆï¼Œç»„åˆç­‰å…³ç³»ä»£æ›¿ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="é—®é¢˜ä»£ç -1"><a href="#é—®é¢˜ä»£ç -1" class="headerlink" title="é—®é¢˜ä»£ç "></a>é—®é¢˜ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.liskov;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é‡Œæ°æ›¿æ¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Liskov</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;12-3=&quot;</span> + a.fun1(<span class="number">12</span>, <span class="number">3</span>)); <span class="comment">// 12-3=9</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1-8=&quot;</span> + a.fun1(<span class="number">1</span>, <span class="number">8</span>)); <span class="comment">// 1-8=-7</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;12-3=&quot;</span> + b.fun1(<span class="number">12</span>, <span class="number">3</span>)); <span class="comment">// 12-3=15</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1-8=&quot;</span> + b.fun2(<span class="number">1</span>, <span class="number">8</span>));<span class="comment">// 1-8=11</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun1</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x - y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun1</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun2</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fun1(x, y) + <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜åŒ–ä»£ç "><a href="#ä¼˜åŒ–ä»£ç " class="headerlink" title="ä¼˜åŒ–ä»£ç "></a>ä¼˜åŒ–ä»£ç </h3><p>â€‹		ä½¿åŸæ¥çš„çˆ¶ç±»å’Œå­ç±»éƒ½ç»§æ‰¿ä¸€ä¸ªæ›´é€šä¿—çš„åŸºç±»ï¼ŒåŸæœ‰çš„ç»§æ‰¿å…³ç³»å»æ‰ï¼Œ é‡‡ç”¨ä¾èµ–ï¼Œèšåˆï¼Œç»„åˆç­‰å…³ç³»ä»£æ›¿ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.liskov.improve;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Liskov</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;12-3=&quot;</span> + a.fun1(<span class="number">12</span>, <span class="number">3</span>)); <span class="comment">// 12-3=9</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1-8=&quot;</span> + a.fun1(<span class="number">1</span>, <span class="number">8</span>)); <span class="comment">// 1-8=-7</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;12-3=&quot;</span> + b.fun1(<span class="number">12</span>, <span class="number">3</span>)); <span class="comment">// 12-3=15</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1-8=&quot;</span> + b.fun2(<span class="number">1</span>, <span class="number">8</span>));<span class="comment">// 1-8=11</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1-8=&quot;</span> + b.fun3(<span class="number">1</span>, <span class="number">8</span>));<span class="comment">// 1-8=11</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªæ›´åŠ åŸºç¡€çš„åŸºç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>&#123;</span><br><span class="line">    <span class="comment">//æŠŠæ›´åŠ åŸºç¡€çš„æ–¹æ³•å’Œæˆå‘˜å†™åˆ°Baseç±»</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">extends</span> <span class="title class_">Base</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun1</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x - y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">Base</span> &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœBéœ€è¦ä½¿ç”¨Aç±»çš„æ–¹æ³•,ä½¿ç”¨ç»„åˆå…³ç³»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun1</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun2</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fun1(x, y) + <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fun3</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.a.fun1(x,y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¼€é—­åŸåˆ™"><a href="#å¼€é—­åŸåˆ™" class="headerlink" title="å¼€é—­åŸåˆ™"></a>å¼€é—­åŸåˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»-4"><a href="#åŸºæœ¬ä»‹ç»-4" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<ol>
<li><p>å¼€é—­åŸåˆ™ï¼ˆOpen Closed Principleï¼‰æ˜¯ç¼–ç¨‹ä¸­æœ€åŸºç¡€ã€æœ€é‡è¦çš„è®¾è®¡åŸåˆ™ã€‚</p>
</li>
<li><p>ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ï¼Œæ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼ˆå¯¹æä¾›æ–¹ï¼‰ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼ˆå¯¹ä½¿ç”¨æ–¹ï¼‰ã€‚ç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‰©å±•ç»†èŠ‚ã€‚</p>
</li>
<li><p>å½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œå°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®ç°å˜åŒ–ã€‚</p>
</li>
<li><p>ç¼–ç¨‹ä¸­éµå¾ªå…¶å®ƒåŸåˆ™ï¼Œä»¥åŠä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„å°±æ˜¯éµå¾ªå¼€é—­åŸåˆ™ã€‚</p>
</li>
<li><p><strong>å³å½“æˆ‘ä»¬ç»™ç±»å¢åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œå°½é‡ä¸ä¿®æ”¹ä»£ç ï¼Œæˆ–è€…å°½å¯èƒ½å°‘ä¿®æ”¹ä»£ç ã€‚</strong></p>
<p> ç¤ºä¾‹ï¼š</p>
 <img src="/2023/02/28/DesignPattern/Java\Document\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼.assets\image-20221018134626777.png" alt="image-20221018134626777" style="zoom:67%;"></li>
</ol>
</blockquote>
<h3 id="é—®é¢˜ä»£ç -2"><a href="#é—®é¢˜ä»£ç -2" class="headerlink" title="é—®é¢˜ä»£ç "></a>é—®é¢˜ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.ocp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GraphicEditor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">GraphicEditor</span> <span class="variable">graphicEditor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GraphicEditor</span>();</span><br><span class="line">        graphicEditor.drawShape(<span class="keyword">new</span> <span class="title class_">Circle</span>());</span><br><span class="line">        graphicEditor.drawShape(<span class="keyword">new</span> <span class="title class_">Rectangle</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawShape</span><span class="params">(Shape s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.m_type == <span class="number">1</span>) &#123;</span><br><span class="line">            drawCircle();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.m_type == <span class="number">2</span>) &#123;</span><br><span class="line">            drawRectangle();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawRectangle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot; Rectangle &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawCircle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot; Circle &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="type">int</span> m_type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.m_type = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.m_type = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜åŒ–ä»£ç -1"><a href="#ä¼˜åŒ–ä»£ç -1" class="headerlink" title="ä¼˜åŒ–ä»£ç "></a>ä¼˜åŒ–ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.ocp.improve;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GraphicEditor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">GraphicEditor</span> <span class="variable">graphicEditor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GraphicEditor</span>();</span><br><span class="line">        graphicEditor.drawShape(<span class="keyword">new</span> <span class="title class_">Circle</span>());</span><br><span class="line">        graphicEditor.drawShape(<span class="keyword">new</span> <span class="title class_">Rectangle</span>());</span><br><span class="line">        graphicEditor.drawShape(<span class="keyword">new</span> <span class="title class_">OtherShape</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawShape</span><span class="params">(Shape s)</span> &#123;</span><br><span class="line">        s.draw();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="type">int</span> m_type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.m_type = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;draw circle...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.m_type = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;rectangle circle...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OtherShape</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OtherShape</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.m_type = <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;draw otherShape...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è¿ªç±³ç‰¹æ³•åˆ™"><a href="#è¿ªç±³ç‰¹æ³•åˆ™" class="headerlink" title="è¿ªç±³ç‰¹æ³•åˆ™"></a>è¿ªç±³ç‰¹æ³•åˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»-5"><a href="#åŸºæœ¬ä»‹ç»-5" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<ol>
<li>ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ã€‚</li>
<li>ç±»ä¸ç±»å…³ç³»è¶Šå¯†åˆ‡ï¼Œè€¦åˆåº¦è¶Šå¤§ã€‚</li>
<li>è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆDemeter Principleï¼‰åˆå«æœ€å°‘çŸ¥é“åŸåˆ™ï¼Œ<strong>å³ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºè¢«ä¾èµ–çš„ç±»ä¸ç®¡å¤šä¹ˆå¤æ‚ï¼Œéƒ½å°½é‡å°†é€»è¾‘å°è£…åœ¨ç±»çš„å†…éƒ¨ã€‚å¯¹å¤–é™¤äº†æä¾›çš„ public æ–¹æ³•ï¼Œä¸å¯¹å¤–æ³„éœ²ä»»ä½•ä¿¡æ¯ã€‚</li>
<li>è¿ªç±³ç‰¹æ³•åˆ™è¿˜æœ‰ä¸ªæ›´ç®€å•çš„å®šä¹‰ï¼šåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡ã€‚</li>
<li>ç›´æ¥çš„æœ‹å‹ï¼šæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä¸å…¶ä»–å¯¹è±¡æœ‰è€¦åˆå…³ç³»ï¼Œåªè¦ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æœ‰è€¦åˆå…³ç³»ï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æ˜¯æœ‹å‹å…³ç³»ã€‚è€¦åˆçš„æ–¹å¼å¾ˆå¤šï¼Œä¾èµ–ï¼Œå…³è”ï¼Œç»„åˆï¼Œèšåˆç­‰ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬ç§°å‡ºç°æˆå‘˜å˜é‡ï¼Œæ–¹æ³•å‚æ•°ï¼Œæ–¹æ³•è¿”å›å€¼ä¸­çš„ç±»ä¸ºç›´æ¥çš„æœ‹å‹ï¼Œ<strong>è€Œå‡ºç°åœ¨å±€éƒ¨å˜é‡ä¸­çš„ç±»ä¸æ˜¯ç›´æ¥çš„æœ‹å‹</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™Œç”Ÿçš„ç±»æœ€å¥½ä¸è¦ä»¥å±€éƒ¨å˜é‡çš„å½¢å¼å‡ºç°åœ¨ç±»çš„å†…éƒ¨ã€‚</li>
</ol>
</blockquote>
<h3 id="åº”ç”¨ç¤ºä¾‹-2"><a href="#åº”ç”¨ç¤ºä¾‹-2" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h3><p>â€‹		æœ‰ä¸€ä¸ªå­¦æ ¡ï¼Œä¸‹å±æœ‰å„ä¸ªå­¦é™¢å’Œæ€»éƒ¨ï¼Œç°è¦æ±‚æ‰“å°å‡ºå­¦æ ¡æ€»éƒ¨å‘˜å·¥IDå’Œå­¦é™¢å‘˜å·¥çš„idã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.demeter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demeter1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CollegeManager</span> <span class="variable">collegeManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CollegeManager</span>();</span><br><span class="line">        <span class="type">SchoolManager</span> <span class="variable">schoolManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SchoolManager</span>();</span><br><span class="line">        schoolManager.printAllEmployee(collegeManager);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†æ ¡å‘˜å·¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€»æ ¡å‘˜å·¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SchoolEmployee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollegeManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Employee&gt; employeeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Employee&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Employee&gt; <span class="title function_">getAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">            employee.setId(<span class="string">&quot;åˆ†æ ¡idï¼š&quot;</span> + i);</span><br><span class="line">            employeeList.add(employee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> employeeList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SchoolManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;SchoolEmployee&gt; schoolEmployeeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;SchoolEmployee&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;SchoolEmployee&gt; <span class="title function_">getAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="type">SchoolEmployee</span> <span class="variable">schoolEmployee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SchoolEmployee</span>();</span><br><span class="line">            schoolEmployee.setId(<span class="string">&quot;æ€»æ ¡idï¼š&quot;</span> + i);</span><br><span class="line">            schoolEmployeeList.add(schoolEmployee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> schoolEmployeeList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllEmployee</span><span class="params">(CollegeManager collegeManager)</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; employeeList = collegeManager.getAllEmployee();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * åˆ†æé—®é¢˜</span></span><br><span class="line"><span class="comment">         * 1. è¿™é‡Œçš„ CollegeEmployee ä¸æ˜¯ SchoolManagerçš„ç›´æ¥æœ‹å‹</span></span><br><span class="line"><span class="comment">         * 2. CollegeEmployee æ˜¯ä»¥å±€éƒ¨å˜é‡æ–¹å¼å‡ºç°åœ¨ SchoolManager</span></span><br><span class="line"><span class="comment">         * 3. è¿åäº† è¿ªç±³ç‰¹æ³•åˆ™</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">for</span> (Employee e : employeeList) &#123;</span><br><span class="line">            System.out.println(e.getId());</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;SchoolEmployee&gt; allEmployee = <span class="built_in">this</span>.getAllEmployee();</span><br><span class="line">        <span class="keyword">for</span> (SchoolEmployee schoolEmployee : allEmployee) &#123;</span><br><span class="line">            System.out.println(schoolEmployee.getId());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ä¿®æ”¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> principle.demeter.improve;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demeter2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CollegeManager</span> <span class="variable">collegeManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CollegeManager</span>();</span><br><span class="line">        <span class="type">SchoolManager</span> <span class="variable">schoolManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SchoolManager</span>();</span><br><span class="line">        schoolManager.printAllEmployee(collegeManager);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†æ ¡å‘˜å·¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ€»æ ¡å‘˜å·¥</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SchoolEmployee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CollegeManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Employee&gt; employeeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Employee&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Employee&gt; <span class="title function_">getAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">            employee.setId(<span class="string">&quot;åˆ†æ ¡idï¼š&quot;</span> + i);</span><br><span class="line">            employeeList.add(employee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> employeeList;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// ==========æ‰“å°åˆ†æ ¡==========</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; allEmployee = <span class="built_in">this</span>.getAllEmployee();</span><br><span class="line">        <span class="keyword">for</span> (Employee e : allEmployee) &#123;</span><br><span class="line">            System.out.println(e.getId());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SchoolManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;SchoolEmployee&gt; schoolEmployeeList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;SchoolEmployee&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;SchoolEmployee&gt; <span class="title function_">getAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="type">SchoolEmployee</span> <span class="variable">schoolEmployee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SchoolEmployee</span>();</span><br><span class="line">            schoolEmployee.setId(<span class="string">&quot;æ€»æ ¡idï¼š&quot;</span> + i);</span><br><span class="line">            schoolEmployeeList.add(schoolEmployee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> schoolEmployeeList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printAllEmployee</span><span class="params">(CollegeManager collegeManager)</span> &#123;</span><br><span class="line">        <span class="comment">// ==============ä¿®æ”¹ï¼šå°†æ‰“å°åˆ†æ ¡çš„ä»£ç å•ç‹¬æå‡º==============</span></span><br><span class="line">        collegeManager.printAllEmployee();</span><br><span class="line">        List&lt;SchoolEmployee&gt; allEmployee = <span class="built_in">this</span>.getAllEmployee();</span><br><span class="line">        <span class="keyword">for</span> (SchoolEmployee schoolEmployee : allEmployee) &#123;</span><br><span class="line">            System.out.println(schoolEmployee.getId());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-2"><a href="#æ³¨æ„äº‹é¡¹-2" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><blockquote>
<ul>
<li>è¿ªç±³ç‰¹æ³•åˆ™çš„æ ¸å¿ƒæ˜¯é™ä½ç±»ä¹‹é—´çš„è€¦åˆã€‚</li>
<li>ä½†æ˜¯æ³¨æ„ï¼šç”±äºæ¯ä¸ªç±»éƒ½å‡å°‘äº†ä¸å¿…è¦çš„ä¾èµ–ï¼Œå› æ­¤è¿ªç±³ç‰¹æ³•åˆ™åªæ˜¯è¦æ±‚é™ä½ç±»é—´ï¼ˆå¯¹è±¡é—´ï¼‰è€¦åˆå…³ç³»ï¼Œå¹¶ä¸æ˜¯è¦æ±‚å®Œå…¨æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚</li>
</ul>
</blockquote>
<h2 id="åˆæˆå¤ç”¨åŸåˆ™"><a href="#åˆæˆå¤ç”¨åŸåˆ™" class="headerlink" title="åˆæˆå¤ç”¨åŸåˆ™"></a>åˆæˆå¤ç”¨åŸåˆ™</h2><h3 id="åŸºæœ¬ä»‹ç»-6"><a href="#åŸºæœ¬ä»‹ç»-6" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><p>â€‹		Composite Reuse Principle åŸåˆ™æ˜¯å°½é‡ä½¿ç”¨åˆæˆ &#x2F; èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚</p>
<h3 id="è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³"><a href="#è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³" class="headerlink" title="è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³"></a>è®¾è®¡åŸåˆ™æ ¸å¿ƒæ€æƒ³</h3><blockquote>
<ol>
<li><p>æ‰¾å‡ºåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–ä¹‹å¤„ï¼ŒæŠŠå®ƒä»¬ç‹¬ç«‹å‡ºæ¥ï¼Œä¸è¦å’Œé‚£äº›ä¸éœ€è¦å˜åŒ–çš„ä»£ç æ··åœ¨ä¸€èµ·ã€‚</p>
</li>
<li><p>é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚</p>
</li>
<li><p>ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè®¾è®¡è€ŒåŠªåŠ›ã€‚</p>
</li>
</ol>
<img src="/2023/02/28/DesignPattern/Java\Document\è®¾è®¡æ¨¡å¼\è®¾è®¡æ¨¡å¼.assets\image-20221018145123126.png" alt="image-20221018145123126" style="zoom:50%;">
</blockquote>
<h1 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-7"><a href="#åŸºæœ¬ä»‹ç»-7" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<p>â€‹		å•ä¾‹æ¨¡å¼ï¼Œå³åœ¨æ•´ä¸ªåº”ç”¨ä¸­ï¼ŒæŸä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œå¹¶ç›®è¯¥ç±»åªæä¾›ä¸€ä¸ªè·å–å…¶å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰ã€‚å•ä¾‹æ¨¡å¼ä¿è¯äº†ç³»ç»Ÿå†…å­˜ä¸­è¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒèŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><blockquote>
<p>éœ€è¦é¢‘ç¹çš„è¿›è¡Œåˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡ã€åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€—è´¹èµ„æºè¿‡å¤šï¼Œä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡ã€å·¥å…·ç±»å¯¹è±¡ã€é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ï¼ˆæ¯”å¦‚æ•°æ®æºã€session å·¥å‚ç­‰ï¼‰ã€‚</p>
<p>æ¯”å¦‚Hibernateçš„ SessionFactoryï¼Œå®ƒå……å½“æ•°æ®å­˜å‚¨æºçš„ä»£ç†ï¼Œå¹¶è´Ÿè´£åˆ›å»ºSessionå¯¹è±¡ã€‚SessionFactoryå¹¶ä¸æ˜¯è½»é‡çº§çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªé¡¹ç›®é€šå¸¸åªéœ€è¦ä¸€ä¸ªSessionFactoryå°±å¤Ÿï¼Œè¿™æ˜¯å°±ä¼šä½¿ç”¨åˆ°å•ä¾‹æ¨¡å¼ã€‚</p>
</blockquote>
<h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><blockquote>
<p>å•ä¾‹æ¨¡å¼æœ‰å…«ç§æ–¹å¼ï¼š</p>
<ol>
<li><p>é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</p>
</li>
<li><p>é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</p>
</li>
<li><p>åŒé‡æ£€æŸ¥</p>
</li>
<li><p>é™æ€å†…éƒ¨ç±»</p>
</li>
<li><p>æšä¸¾</p>
</li>
</ol>
</blockquote>
<h3 id="é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡-x2F-é™æ€ä»£ç å—"><a href="#é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡-x2F-é™æ€ä»£ç å—" class="headerlink" title="é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡&#x2F;é™æ€ä»£ç å—"></a>é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡&#x2F;é™æ€ä»£ç å—</h3><blockquote>
<p>å®ç°ï¼š</p>
<ul>
<li>æ„é€ å™¨ç§æœ‰åŒ– ï¼ˆé˜²æ­¢ new ï¼‰</li>
<li>ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡</li>
<li>å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</li>
</ul>
<p>ä¼˜ç‚¹ï¼šå†™æ³•æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ã€‚é¿å…äº†çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚</p>
<p>ç¼ºç‚¹ï¼šåœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œæ²¡æœ‰è¾¾åˆ° Lazy Loadingçš„æ•ˆæœã€‚å¦‚æœä»å§‹ è‡³ç»ˆä»æœªä½¿ç”¨è¿‡è¿™ä¸ªå®ä¾‹ï¼Œåˆ™ä¼šé€ æˆå†…å­˜çš„æµªè´¹ã€‚</p>
<p>â€‹		è¿™ç§æ–¹å¼åŸºäº classloder æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡ï¼Œinstance åœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨ getInstance æ–¹æ³•ï¼Œä½†æ˜¯å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œå› æ­¤ä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼ï¼ˆæˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ– instance å°±æ²¡æœ‰è¾¾åˆ° Lazy Loading çš„æ•ˆæœã€‚</p>
<p>ç»“è®ºï¼šè¿™ç§å•ä¾‹æ¨¡å¼å¯ç”¨ï¼Œå¯èƒ½é€ æˆå†…å­˜æµªè´¹ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¥¿æ±‰å¼ï¼šé™æ€å¸¸é‡</span></span><br><span class="line"><span class="comment"> * ä¼˜ç‚¹:åœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œé¿å…äº†çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚</span></span><br><span class="line"><span class="comment"> * ç¼ºç‚¹:åœ¨ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œæ²¡æœ‰è¾¾åˆ°Lazy Loading çš„æ•ˆæœã€‚å¦‚æœä»å§‹è‡³ç»ˆä»æœªä½¿ç”¨è¿‡è¿™ä¸ªå®ä¾‹ï¼Œåˆ™ä¼šé€ æˆå†…å­˜çš„æµªè´¹</span></span><br><span class="line"><span class="comment"> * è¿™ç§æ–¹å¼åŸºäºclassloaderæœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡ï¼Œinstanceåœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨getInstanceæ–¹æ³•ï¼Œ</span></span><br><span class="line"><span class="comment"> * ä½†æ˜¯å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œå› æ­¤ä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼(æˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ–instanceå°±æ²¡æœ‰è¾¾åˆ° lazy loading çš„æ•ˆæœ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon01</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">SingleTon01</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleTon01</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon01</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon01 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é¥¿æ±‰å¼ï¼šé™æ€ä»£ç å—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon02</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon02 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon02</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        instance = <span class="keyword">new</span> <span class="title class_">SingleTon02</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon02 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"><a href="#æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"></a>æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨</h3><blockquote>
<p>è¯¥æ–¹å¼èµ·åˆ°äº†å»¶è¿ŸåŠ è½½çš„ä½œç”¨ï¼Œä½†æ˜¯åªèƒ½åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon03</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon03 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon03</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon03 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//å¤šä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æ­¤å¤„ï¼Œä¼šå®ä¾‹åŒ–å¤šä¸ªå¯¹è±¡</span></span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">SingleTon03</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•-x2F-åŒæ­¥ä»£ç å—"><a href="#æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•-x2F-åŒæ­¥ä»£ç å—" class="headerlink" title="æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•&#x2F;åŒæ­¥ä»£ç å—"></a>æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•&#x2F;åŒæ­¥ä»£ç å—</h3><blockquote>
<p>åŒæ­¥æ–¹æ³•çš„æ–¹å¼æ•ˆç‡å¤ªä½ï¼Œå¤šä¸ªçº¿ç¨‹éƒ½ä¼šé˜»å¡åœ¨getInstance()æ–¹æ³•ä¸Šé¢ã€‚</p>
<p>åŒæ­¥ä»£ç å—çš„æ–¹å¼è™½ç„¶è§£å†³äº†æ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆå¤šæ¬¡å®ä¾‹åŒ–ã€‚</p>
<p><strong>ä¼˜ç¼ºç‚¹è¯´æ˜ï¼š</strong></p>
<ul>
<li>èµ·åˆ°äº† Lazy Loading çš„æ•ˆæœï¼Œä½†æ˜¯åªèƒ½åœ¨å•çº¿ç¨‹ä¸‹ä½¿ç”¨ã€‚</li>
<li>å¦‚æœåœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº† if (singleton &#x3D;&#x3D; null) åˆ¤æ–­è¯­å¥å—ï¼Œè¿˜æœªæ¥å¾—åŠå¾€ä¸‹æ‰§è¡Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ—¶ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹ã€‚æ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸å¯ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</li>
<li>ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼šåŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * åŒæ­¥æ–¹æ³•çš„æ–¹å¼æ•ˆç‡å¤ªä½ï¼Œå¤šä¸ªçº¿ç¨‹éƒ½ä¼šé˜»å¡åœ¨getInstance()æ–¹æ³•ä¸Šé¢ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon04</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon04 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon04</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šé˜»å¡åœ¨è¯¥æ–¹æ³•å¤„ï¼Œæ•ˆç‡ä½</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> SingleTon04 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">SingleTon04</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—</span></span><br><span class="line"><span class="comment"> * åŒæ­¥ä»£ç å—çš„æ–¹å¼è™½ç„¶è§£å†³äº†æ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆå¤šæ¬¡å®ä¾‹åŒ–ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon05</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon05 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon05</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon05 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//è§£å†³äº†æ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯å¤šä¸ªçº¿ç¨‹æ‰§è¡Œåˆ°æ­¤å¤„æ—¶ï¼Œä¼šè¿›è¡Œå¤šæ¬¡å®ä¾‹åŒ–</span></span><br><span class="line">            <span class="keyword">synchronized</span> (SingleTon05.class) &#123;</span><br><span class="line">                instance = <span class="keyword">new</span> <span class="title class_">SingleTon05</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŒé‡æ£€æŸ¥ï¼šDoubleCheck"><a href="#åŒé‡æ£€æŸ¥ï¼šDoubleCheck" class="headerlink" title="åŒé‡æ£€æŸ¥ï¼šDoubleCheck"></a>åŒé‡æ£€æŸ¥ï¼šDoubleCheck</h3><blockquote>
<p>ä¼˜ç¼ºç‚¹ï¼š</p>
<ul>
<li>Double-Checkæ¦‚å¿µæ˜¯å¤šçº¿ç¨‹å¼€å‘ä¸­å¸¸ä½¿ç”¨åˆ°çš„ï¼Œå¦‚ä»£ç ä¸­æ‰€ç¤ºï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä¸¤ æ¬¡if (singleton &#x3D;&#x3D; null)æ£€æŸ¥ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯çº¿ç¨‹å®‰å…¨äº†ã€‚</li>
<li>è¿™æ ·ï¼Œå®ä¾‹åŒ–ä»£ç åªç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢å†æ¬¡è®¿é—®æ—¶ï¼Œåˆ¤æ–­if (singleton &#x3D;&#x3D; null)ï¼Œ ç›´æ¥returnå®ä¾‹åŒ–å¯¹è±¡ï¼Œä¹Ÿé¿å…çš„åå¤è¿›è¡Œæ–¹æ³•åŒæ­¥ã€‚</li>
<li>çº¿ç¨‹å®‰å…¨ï¼›å»¶è¿ŸåŠ è½½ï¼›æ•ˆç‡è¾ƒé«˜ã€‚</li>
<li>ç»“è®ºï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¨èä½¿ç”¨è¿™ç§å•ä¾‹è®¾è®¡æ¨¡å¼ã€‚</li>
</ul>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼ŒåŒé‡æ£€æŸ¥</span></span><br><span class="line"><span class="comment"> * åŒé‡æ£€æŸ¥çš„æ–¹å¼ï¼Œæ—¢è§£å†³äº†æ•ˆç‡é—®é¢˜ï¼Œä¹Ÿè§£å†³äº†å¤šæ¬¡å®ä¾‹åŒ–çš„é—®é¢˜ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon06</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon06 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon06</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon06 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (SingleTon06.class) &#123;</span><br><span class="line">                <span class="comment">//é¿å…æ•ˆç‡é—®é¢˜ï¼Œä»¥åŠå¤šæ¬¡å®ä¾‹åŒ–é—®é¢˜</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">SingleTon06</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•ä¾‹ï¼šé™æ€å†…éƒ¨ç±»"><a href="#å•ä¾‹ï¼šé™æ€å†…éƒ¨ç±»" class="headerlink" title="å•ä¾‹ï¼šé™æ€å†…éƒ¨ç±»"></a>å•ä¾‹ï¼šé™æ€å†…éƒ¨ç±»</h3><blockquote>
<ol>
<li><p>è¿™ç§æ–¹å¼é‡‡ç”¨äº†ç±»è£…è½½çš„æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ–å®ä¾‹æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚</p>
</li>
<li><p>é™æ€å†…éƒ¨ç±»æ–¹å¼åœ¨ Singleton ç±»è¢«è£…è½½æ—¶å¹¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨éœ€è¦å®ä¾‹åŒ–æ—¶ï¼Œè°ƒç”¨ getInstance æ–¹æ³•ï¼Œæ‰ä¼šè£…è½½ SingletonInstance ç±»ï¼Œä»è€Œå®Œæˆ Singleton çš„å®ä¾‹åŒ–ã€‚</p>
</li>
<li><p>ç±»çš„é™æ€å±æ€§åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»çš„æ—¶å€™åˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼ŒJVMå¸®åŠ©æˆ‘ä»¬ä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œåœ¨ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯æ— æ³•è¿›å…¥çš„ã€‚</p>
</li>
<li><p>ä¼˜ç‚¹ï¼šé¿å…äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œåˆ©ç”¨é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹å®ç°å»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡é«˜ã€‚</p>
</li>
<li><p>ç»“è®ºï¼šæ¨èä½¿ç”¨ã€‚</p>
</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‡’æ±‰å¼ï¼šé™æ€å†…éƒ¨ç±»</span></span><br><span class="line"><span class="comment"> * è¿™ç§æ–¹å¼é‡‡ç”¨äº†ç±»è£…è½½çš„æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ–å®ä¾‹æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹</span></span><br><span class="line"><span class="comment"> * é™æ€å†…éƒ¨ç±»æ–¹å¼åœ¨Singletonç±»è¢«è£…è½½æ—¶å¹¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨éœ€è¦å®ä¾‹åŒ–æ—¶ï¼Œè°ƒç”¨getInstanceæ–¹æ³•ï¼Œæ‰ä¼šè£…è½½SingletonInstanceç±»ï¼Œä»è€Œå®ŒæˆSingletonçš„å®ä¾‹åŒ–ã€‚</span></span><br><span class="line"><span class="comment"> * ç±»çš„é™æ€å±æ€§åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»çš„æ—¶å€™åˆå§‹åŒ–ï¼ŒJVMå¸®åŠ©æˆ‘ä»¬ä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œåœ¨ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯æ— æ³•è¿›å…¥çš„ã€‚</span></span><br><span class="line"><span class="comment"> * ä¼˜ç‚¹: é¿å…äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œåˆ©ç”¨é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹å®ç°å»¶è¿ŸåŠ è½½,æ•ˆç‡é«˜</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SingleTon07</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> SingleTon06 instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingleTon07</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SingleTonInstance</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SingleTon07</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingleTon07</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingleTon07 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SingleTonInstance.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•ä¾‹ï¼šæšä¸¾æ–¹å¼"><a href="#å•ä¾‹ï¼šæšä¸¾æ–¹å¼" class="headerlink" title="å•ä¾‹ï¼šæšä¸¾æ–¹å¼"></a>å•ä¾‹ï¼šæšä¸¾æ–¹å¼</h3><blockquote>
<ol>
<li><p>è¿™å€ŸåŠ©JDK1.5ä¸­æ·»åŠ çš„æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚ä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p>
</li>
<li><p>è¿™ç§æ–¹å¼æ˜¯Effective Javaä½œè€…Josh Bloch æå€¡çš„æ–¹å¼ã€‚</p>
</li>
<li><p>ç»“è®ºï¼šæ¨èä½¿ç”¨ã€‚</p>
</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">SingleTon</span>&#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨å†Œå¼å•ä¾‹"><a href="#æ³¨å†Œå¼å•ä¾‹" class="headerlink" title="æ³¨å†Œå¼å•ä¾‹"></a>æ³¨å†Œå¼å•ä¾‹</h3><h3 id="å®¹å™¨å¼å•ä¾‹"><a href="#å®¹å™¨å¼å•ä¾‹" class="headerlink" title="å®¹å™¨å¼å•ä¾‹"></a>å®¹å™¨å¼å•ä¾‹</h3><h2 id="å•ä¾‹æ¨¡å¼çš„ç ´å"><a href="#å•ä¾‹æ¨¡å¼çš„ç ´å" class="headerlink" title="å•ä¾‹æ¨¡å¼çš„ç ´å"></a>å•ä¾‹æ¨¡å¼çš„ç ´å</h2><h3 id="åå°„-ç ´åå•ä¾‹"><a href="#åå°„-ç ´åå•ä¾‹" class="headerlink" title="åå°„ ç ´åå•ä¾‹"></a>åå°„ ç ´åå•ä¾‹</h3><h3 id="åºåˆ—åŒ–-ç ´åå•ä¾‹"><a href="#åºåˆ—åŒ–-ç ´åå•ä¾‹" class="headerlink" title="åºåˆ—åŒ– ç ´åå•ä¾‹"></a>åºåˆ—åŒ– ç ´åå•ä¾‹</h3><h2 id="å•ä¾‹æ¨¡å¼åœ¨JDKæºç ä¸­çš„åº”ç”¨"><a href="#å•ä¾‹æ¨¡å¼åœ¨JDKæºç ä¸­çš„åº”ç”¨" class="headerlink" title="å•ä¾‹æ¨¡å¼åœ¨JDKæºç ä¸­çš„åº”ç”¨"></a>å•ä¾‹æ¨¡å¼åœ¨JDKæºç ä¸­çš„åº”ç”¨</h2><p>java.lang.Runtime å°±æ˜¯ç»å…¸çš„å•ä¾‹æ¨¡å¼ï¼ˆé¥¿æ±‰å¼ï¼‰ </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Runtime</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Runtime</span> <span class="variable">currentRuntime</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runtime</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the runtime object associated with the current Java application.</span></span><br><span class="line"><span class="comment">     * Most of the methods of class &lt;code&gt;Runtime&lt;/code&gt; are instance</span></span><br><span class="line"><span class="comment">     * methods and must be invoked with respect to the current runtime object.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  the &lt;code&gt;Runtime&lt;/code&gt; object associated with the current</span></span><br><span class="line"><span class="comment">     *          Java application.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Runtime <span class="title function_">getRuntime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> currentRuntime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Don&#x27;t let anyone else instantiate this class */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Runtime</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h1><h2 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h2><h2 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h2><h2 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h2><h1 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-8"><a href="#åŸºæœ¬ä»‹ç»-8" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-3"><a href="#åº”ç”¨ç¤ºä¾‹-3" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-9"><a href="#åŸºæœ¬ä»‹ç»-9" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-1"><a href="#ä¼˜ç¼ºç‚¹-1" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-4"><a href="#åº”ç”¨ç¤ºä¾‹-4" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-1"><a href="#ç±»å›¾-1" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-1"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-1" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-10"><a href="#åŸºæœ¬ä»‹ç»-10" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-2"><a href="#ä¼˜ç¼ºç‚¹-2" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-5"><a href="#åº”ç”¨ç¤ºä¾‹-5" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-2"><a href="#ç±»å›¾-2" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-2"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-2" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="æ¡¥æ¥æ¨¡å¼"><a href="#æ¡¥æ¥æ¨¡å¼" class="headerlink" title="æ¡¥æ¥æ¨¡å¼"></a>æ¡¥æ¥æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-11"><a href="#åŸºæœ¬ä»‹ç»-11" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-4"><a href="#åº”ç”¨åœºæ™¯-4" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-3"><a href="#ä¼˜ç¼ºç‚¹-3" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-6"><a href="#åº”ç”¨ç¤ºä¾‹-6" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-3"><a href="#ç±»å›¾-3" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-3"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-3" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-12"><a href="#åŸºæœ¬ä»‹ç»-12" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-5"><a href="#åº”ç”¨åœºæ™¯-5" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-4"><a href="#ä¼˜ç¼ºç‚¹-4" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-7"><a href="#åº”ç”¨ç¤ºä¾‹-7" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-4"><a href="#ç±»å›¾-4" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-4"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-4" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title="ç»„åˆæ¨¡å¼"></a>ç»„åˆæ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-13"><a href="#åŸºæœ¬ä»‹ç»-13" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-6"><a href="#åº”ç”¨åœºæ™¯-6" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-5"><a href="#ä¼˜ç¼ºç‚¹-5" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-8"><a href="#åº”ç”¨ç¤ºä¾‹-8" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-5"><a href="#ç±»å›¾-5" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-5"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-5" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="å¤–è§‚æ¨¡å¼"><a href="#å¤–è§‚æ¨¡å¼" class="headerlink" title="å¤–è§‚æ¨¡å¼"></a>å¤–è§‚æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-14"><a href="#åŸºæœ¬ä»‹ç»-14" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-7"><a href="#åº”ç”¨åœºæ™¯-7" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-6"><a href="#ä¼˜ç¼ºç‚¹-6" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-9"><a href="#åº”ç”¨ç¤ºä¾‹-9" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-6"><a href="#ç±»å›¾-6" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-6"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-6" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h1><h2 id="éœ€æ±‚ç¤ºä¾‹"><a href="#éœ€æ±‚ç¤ºä¾‹" class="headerlink" title="éœ€æ±‚ç¤ºä¾‹"></a>éœ€æ±‚ç¤ºä¾‹</h2><blockquote>
<p>å°å‹çš„å¤–åŒ…é¡¹ç›®ï¼Œç»™å®¢æˆ· A åšä¸€ä¸ªäº§å“å±•ç¤ºç½‘ç«™ï¼Œå®¢æˆ· A çš„æœ‹å‹æ„Ÿè§‰æ•ˆæœä¸é”™ï¼Œä¹Ÿå¸Œæœ›åšè¿™æ ·çš„äº§å“å±•ç¤ºç½‘ç«™ï¼Œä½†æ˜¯è¦æ±‚éƒ½æœ‰äº›ä¸åŒï¼š</p>
<ul>
<li>æœ‰å®¢æˆ·è¦æ±‚ä»¥æ–°é—»çš„å½¢å¼å‘å¸ƒ</li>
<li>æœ‰å®¢æˆ·äººè¦æ±‚ä»¥åšå®¢çš„å½¢å¼å‘å¸ƒ</li>
<li>æœ‰å®¢æˆ·å¸Œæœ›ä»¥å¾®ä¿¡å…¬ä¼—å·çš„å½¢å¼å‘å¸ƒ</li>
</ul>
<p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³æ€è·¯ï¼š</strong></p>
<p>æ ¹æ®å®¢æˆ·çš„ä¸åŒè¦æ±‚ï¼Œå¤åˆ¶å¤šä»½ç½‘ç«™ï¼Œè¿›è¡Œå®šåˆ¶ä¿®æ”¹ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>éœ€è¦çš„ç½‘ç«™ç»“æ„ç›¸ä¼¼åº¦å¾ˆé«˜ï¼Œè€Œä¸”éƒ½ä¸æ˜¯é«˜è®¿é—®é‡ç½‘ç«™ï¼Œå¦‚æœåˆ†æˆå¤šä¸ªè™šæ‹Ÿç©ºé—´æ¥å¤„ç†ï¼Œç›¸å½“äºä¸€ä¸ªç›¸åŒç½‘ç«™çš„å®ä¾‹å¯¹è±¡å¾ˆå¤šï¼Œé€ æˆæœåŠ¡å™¨çš„èµ„æºæµªè´¹ã€‚</li>
<li>è§£å†³æ€è·¯ï¼šæ•´åˆåˆ°ä¸€ä¸ªç½‘ç«™ä¸­ï¼Œå…±äº«å…¶ç›¸å…³çš„ä»£ç å’Œæ•°æ®ï¼Œå¯¹äºç¡¬ç›˜ã€å†…å­˜ã€CPUã€æ•°æ®åº“ç©ºé—´ç­‰æœåŠ¡å™¨èµ„æºéƒ½å¯ä»¥è¾¾æˆå…±äº«ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºã€‚</li>
<li>å¯¹äºä»£ç æ¥è¯´ï¼Œç”±äºæ˜¯ä¸€ä»½å®ä¾‹ï¼Œç»´æŠ¤å’Œæ‰©å±•éƒ½æ›´åŠ å®¹æ˜“ã€‚</li>
</ul>
</blockquote>
<h2 id="åŸºæœ¬ä»‹ç»-15"><a href="#åŸºæœ¬ä»‹ç»-15" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<p>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ä¹Ÿå«è‡é‡æ¨¡å¼ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</p>
<p>å¸¸ç”¨äºç³»ç»Ÿåº•å±‚å¼€å‘ï¼Œè§£å†³ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚åƒæ•°æ®åº“è¿æ¥æ± ï¼Œé‡Œé¢éƒ½æ˜¯åˆ›å»ºå¥½çš„è¿æ¥å¯¹è±¡ï¼Œåœ¨è¿™äº›è¿æ¥å¯¹è±¡ä¸­æœ‰æˆ‘ä»¬éœ€è¦çš„åˆ™ç›´æ¥æ‹¿æ¥ç”¨ï¼Œé¿å…é‡æ–°åˆ›å»ºï¼Œå¦‚æœæ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªã€‚</p>
<p>äº«å…ƒæ¨¡å¼èƒ½å¤Ÿè§£å†³é‡å¤å¯¹è±¡çš„å†…å­˜æµªè´¹çš„é—®é¢˜ï¼Œå½“ç³»ç»Ÿä¸­æœ‰å¤§é‡ç›¸ä¼¼å¯¹è±¡ï¼Œéœ€è¦ç¼“å†²æ± æ—¶ã€‚ä¸éœ€æ€»æ˜¯åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¯ä»¥ä»ç¼“å†²æ± é‡Œæ‹¿ã€‚è¿™æ ·å¯ä»¥é™ä½ç³»ç»Ÿå†…å­˜ï¼ŒåŒæ—¶æé«˜æ•ˆç‡ã€‚</p>
<p>äº«å…ƒæ¨¡å¼ç»å…¸çš„åº”ç”¨åœºæ™¯å°±æ˜¯æ± æŠ€æœ¯äº†ï¼ŒString å¸¸é‡æ± ã€æ•°æ®åº“è¿æ¥æ± ã€ç¼“å†²æ± ç­‰ç­‰éƒ½æ˜¯äº«å…ƒæ¨¡å¼çš„åº”ç”¨ï¼Œäº«å…ƒæ¨¡å¼æ˜¯æ± æŠ€æœ¯çš„é‡è¦å®ç°æ–¹å¼ã€‚</p>
<p>UML å›¾</p>
<p><img src="/2023/02/28/DesignPattern/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F.png" alt="äº«å…ƒæ¨¡å¼.png"></p>
<ul>
<li><p>UML å›¾è¯´æ˜ï¼š</p>
<ul>
<li>FlyWeightæ˜¯æŠ½è±¡çš„äº«å…ƒè§’è‰²ï¼Œæ˜¯äº§å“çš„æŠ½è±¡ç±»ï¼ŒåŒæ—¶å®šä¹‰å‡ºå¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€çš„æ¥å£æˆ–å®ç°ã€‚</li>
<li>ConcreteFlyWeightæ˜¯å…·ä½“çš„äº«å…ƒè§’è‰²ï¼Œæ˜¯å…·ä½“çš„äº§å“ç±»ï¼Œå®ç°æŠ½è±¡è§’è‰²å®šä¹‰ç›¸å…³ä¸šåŠ¡UnSharedConcreteFlyWeightæ˜¯ä¸å¯å…±äº«çš„è§’è‰²ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°åœ¨äº«å…ƒå·¥å‚ã€‚</li>
<li>FlyWeightFactoryäº«å…ƒå·¥å‚ç±»ï¼Œç”¨äºæ„å»ºä¸€ä¸ªæ± å®¹å™¨ï¼ˆé›†åˆï¼‰ï¼ŒåŒæ—¶æä¾›ä»æ± ä¸­è·å–å¯¹è±¡æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p><strong>å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€</strong></p>
<p>æ¯”å¦‚å›´æ£‹ã€äº”å­æ£‹ã€è·³æ£‹ï¼Œå®ƒä»¬éƒ½æœ‰å¤§é‡çš„æ£‹å­å¯¹è±¡ï¼Œå›´æ£‹å’Œäº”å­æ£‹åªæœ‰é»‘ç™½ä¸¤è‰²ï¼Œè·³æ£‹é¢œè‰²å¤šä¸€ç‚¹ï¼Œæ‰€ä»¥æ£‹å­é¢œè‰²å°±æ˜¯æ£‹å­çš„å†…éƒ¨çŠ¶æ€ï¼›è€Œå„ä¸ªæ£‹å­ä¹‹é—´çš„å·®åˆ«å°±æ˜¯ä½ç½®çš„ä¸åŒï¼Œå½“æˆ‘ä»¬è½å­åï¼Œè½å­é¢œè‰²æ˜¯å®šçš„ï¼Œä½†ä½ç½®æ˜¯å˜åŒ–çš„ï¼Œæ‰€ä»¥æ£‹å­åæ ‡å°±æ˜¯æ£‹å­çš„å¤–éƒ¨çŠ¶æ€ã€‚</p>
<p>äº«å…ƒæ¨¡å¼æå‡ºäº†ä¸¤ä¸ªè¦æ±‚ï¼šç»†ç²’åº¦å’Œå…±äº«å¯¹è±¡ã€‚è¿™é‡Œå°±æ¶‰åŠåˆ°å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€äº†ï¼Œå³å°†å¯¹è±¡çš„ä¿¡æ¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚</p>
<p>å†…éƒ¨çŠ¶æ€æŒ‡å¯¹è±¡å…±äº«å‡ºæ¥çš„ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨äº«å…ƒå¯¹è±¡å†…éƒ¨ä¸”ä¸ä¼šéšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ã€‚</p>
<p>å¤–éƒ¨çŠ¶æ€æŒ‡å¯¹è±¡å¾—ä»¥ä¾èµ–çš„ä¸€ä¸ªæ ‡è®°ï¼Œæ˜¯éšç¯å¢ƒæ”¹å˜è€Œæ”¹å˜çš„ã€ä¸å¯å…±äº«çš„çŠ¶æ€ã€‚</p>
</li>
</ul>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-8"><a href="#åº”ç”¨åœºæ™¯-8" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-7"><a href="#ä¼˜ç¼ºç‚¹-7" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-10"><a href="#åº”ç”¨ç¤ºä¾‹-10" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><blockquote>
<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F_%E7%BD%91%E7%AB%99%E5%8F%91%E5%B8%83.png" alt="äº«å…ƒæ¨¡å¼_ç½‘ç«™å‘å¸ƒ.png"></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">WebSite</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">(User user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®šåˆ¶çš„ç½‘ç«™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteWebSite</span> <span class="keyword">extends</span> <span class="title class_">WebSite</span> &#123;</span><br><span class="line">    <span class="comment">//å…±äº«çš„éƒ¨åˆ†ï¼Œå†…éƒ¨çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>; <span class="comment">//ç½‘ç«™å‘å¸ƒçš„å½¢å¼(ç±»å‹)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteWebSite</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">use</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç½‘ç«™çš„å‘å¸ƒå½¢å¼ä¸º:&quot;</span> + type + <span class="string">&quot;, ä½¿ç”¨è€…æ˜¯&quot;</span> + user.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSiteFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> HashMap&lt;String, ConcreteWebSite&gt; pool = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> WebSite <span class="title function_">getWebSiteCategory</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!pool.containsKey(type)) &#123;</span><br><span class="line">            pool.put(type, <span class="keyword">new</span> <span class="title class_">ConcreteWebSite</span>(type));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pool.get(type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–ç½‘ç«™æ•°é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getTotal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pool.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WebSiteFactory</span> <span class="variable">webSiteFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WebSiteFactory</span>();</span><br><span class="line">        <span class="type">WebSite</span> <span class="variable">news</span> <span class="operator">=</span> webSiteFactory.getWebSiteCategory(<span class="string">&quot;News&quot;</span>);</span><br><span class="line">        news.use(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;tom&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">WebSite</span> <span class="variable">blog</span> <span class="operator">=</span> webSiteFactory.getWebSiteCategory(<span class="string">&quot;Blog&quot;</span>);</span><br><span class="line">        blog.use(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;rose&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">WebSite</span> <span class="variable">weiXin</span> <span class="operator">=</span> webSiteFactory.getWebSiteCategory(<span class="string">&quot;WeiXin&quot;</span>);</span><br><span class="line">        weiXin.use(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;alice&quot;</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(webSiteFactory.getTotal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº«å…ƒæ¨¡å¼åœ¨-Jdk-Integer-æºç ä¸­çš„åº”ç”¨"><a href="#äº«å…ƒæ¨¡å¼åœ¨-Jdk-Integer-æºç ä¸­çš„åº”ç”¨" class="headerlink" title="äº«å…ƒæ¨¡å¼åœ¨ Jdk-Integer æºç ä¸­çš„åº”ç”¨"></a>äº«å…ƒæ¨¡å¼åœ¨ Jdk-Integer æºç ä¸­çš„åº”ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Integer</span> <span class="keyword">extends</span> <span class="title class_">Number</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">char</span>[] digits = &#123;</span><br><span class="line">        <span class="string">&#x27;0&#x27;</span> , <span class="string">&#x27;1&#x27;</span> , <span class="string">&#x27;2&#x27;</span> , <span class="string">&#x27;3&#x27;</span> , <span class="string">&#x27;4&#x27;</span> , <span class="string">&#x27;5&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;6&#x27;</span> , <span class="string">&#x27;7&#x27;</span> , <span class="string">&#x27;8&#x27;</span> , <span class="string">&#x27;9&#x27;</span> , <span class="string">&#x27;a&#x27;</span> , <span class="string">&#x27;b&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;c&#x27;</span> , <span class="string">&#x27;d&#x27;</span> , <span class="string">&#x27;e&#x27;</span> , <span class="string">&#x27;f&#x27;</span> , <span class="string">&#x27;g&#x27;</span> , <span class="string">&#x27;h&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;i&#x27;</span> , <span class="string">&#x27;j&#x27;</span> , <span class="string">&#x27;k&#x27;</span> , <span class="string">&#x27;l&#x27;</span> , <span class="string">&#x27;m&#x27;</span> , <span class="string">&#x27;n&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;o&#x27;</span> , <span class="string">&#x27;p&#x27;</span> , <span class="string">&#x27;q&#x27;</span> , <span class="string">&#x27;r&#x27;</span> , <span class="string">&#x27;s&#x27;</span> , <span class="string">&#x27;t&#x27;</span> ,</span><br><span class="line">        <span class="string">&#x27;u&#x27;</span> , <span class="string">&#x27;v&#x27;</span> , <span class="string">&#x27;w&#x27;</span> , <span class="string">&#x27;x&#x27;</span> , <span class="string">&#x27;y&#x27;</span> , <span class="string">&#x27;z&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">            <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">IntegerCache</span> &#123;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> -<span class="number">128</span>;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> high;</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> &#123;</span><br><span class="line">            <span class="comment">// high value may be configured by property</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">integerCacheHighPropValue</span> <span class="operator">=</span></span><br><span class="line">                sun.misc.VM.getSavedProperty(<span class="string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (integerCacheHighPropValue != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> parseInt(integerCacheHighPropValue);</span><br><span class="line">                    i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                    <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                    h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                    <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            high = h;</span><br><span class="line"></span><br><span class="line">            cache = <span class="keyword">new</span> <span class="title class_">Integer</span>[(high - low) + <span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> low;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">                cache[k] = <span class="keyword">new</span> <span class="title class_">Integer</span>(j++);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">            <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="title function_">IntegerCache</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>åœ¨ valueOfæ–¹æ³•ä¸­ï¼Œå…ˆåˆ¤æ–­å€¼æ˜¯å¦åœ¨IntegerCache ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œå°±åˆ›å»ºæ–°çš„ Integer(new)ï¼Œå¦åˆ™ï¼Œå°±ç›´æ¥ä»ç¼“å­˜æ± è¿”å›ã€‚</li>
<li>valueOfæ–¹æ³•ï¼Œå°±ä½¿ç”¨åˆ°äº«å…ƒæ¨¡å¼ã€‚</li>
<li>å¦‚æœä½¿ç”¨valueOfæ–¹æ³•å¾—åˆ°ä¸€ä¸ªInteger å®ä¾‹ï¼ŒèŒƒå›´åœ¨-128-127ï¼Œæ‰§è¡Œé€Ÿåº¦æ¯” newå¿«ã€‚</li>
</ul>
</blockquote>
<h1 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-16"><a href="#åŸºæœ¬ä»‹ç»-16" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<ul>
<li>ä»£ç†æ¨¡å¼ï¼šä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªæ›¿èº«ï¼Œä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚å³é€šè¿‡ä»£ç†å¯¹è±¡è®¿é—®ç›®æ ‡å¯¹è±¡ã€‚å¯ä»¥åœ¨ç›®æ ‡å¯¹è±¡å®ç°çš„åŸºç¡€ä¸Šï¼Œå¢å¼ºé¢å¤–çš„åŠŸèƒ½æ“ä½œï¼Œå³æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ã€‚</li>
<li>è¢«ä»£ç†çš„å¯¹è±¡å¯ä»¥æ˜¯è¿œç¨‹å¯¹è±¡ã€åˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡æˆ–éœ€è¦å®‰å…¨æ§åˆ¶çš„å¯¹è±¡</li>
<li>ä»£ç†æ¨¡å¼æœ‰ä¸åŒçš„å½¢å¼ï¼Œä¸»è¦æœ‰ä¸‰ç§é™æ€ä»£ç†ã€åŠ¨æ€ä»£ç†ï¼ˆJDKä»£ç†ã€æ¥å£ä»£ç†ï¼‰å’ŒCglibä»£ç†ï¼ˆå¯ä»¥åœ¨å†…å­˜åŠ¨æ€çš„åˆ›å»ºå¯¹è±¡ï¼Œè€Œä¸éœ€è¦å®ç°æ¥å£ï¼Œä»–æ˜¯å±äºåŠ¨æ€ä»£ç†çš„èŒƒç•´ï¼‰ã€‚</li>
</ul>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-9"><a href="#åº”ç”¨åœºæ™¯-9" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-8"><a href="#ä¼˜ç¼ºç‚¹-8" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-11"><a href="#åº”ç”¨ç¤ºä¾‹-11" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h3 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h3><blockquote>
<p>é™æ€ä»£ç†åœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦å®šä¹‰æ¥å£æˆ–è€…çˆ¶ç±»ï¼Œè¢«ä»£ç†å¯¹è±¡ï¼ˆå³ç›®æ ‡å¯¹è±¡ï¼‰ä¸ä»£ç†å¯¹è±¡ä¸€èµ·å®ç°ç›¸åŒçš„æ¥å£æˆ–è€…æ˜¯ç»§æ‰¿ç›¸åŒçˆ¶ç±»ï¼Œä»£ç†å¯¹è±¡ä¸ç›®æ ‡å¯¹è±¡è¦å®ç°ç›¸åŒçš„æ¥å£ï¼Œç„¶åé€šè¿‡è°ƒç”¨ç›¸åŒçš„æ–¹æ³•æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<h3 id="ä¼˜ç¼ºç‚¹-9"><a href="#ä¼˜ç¼ºç‚¹-9" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h3><ul>
<li>ä¼˜ç‚¹ï¼šåœ¨ä¸ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½å‰æä¸‹ï¼Œèƒ½é€šè¿‡ä»£ç†å¯¹è±¡å¯¹ç›®æ ‡åŠŸèƒ½æ‰©å±•ã€‚</li>
<li>ç¼ºç‚¹ï¼šå› ä¸ºä»£ç†å¯¹è±¡éœ€è¦ä¸ç›®æ ‡å¯¹è±¡å®ç°ä¸€æ ·çš„æ¥å£ï¼Œæ‰€ä»¥ä¼šæœ‰å¾ˆå¤šä»£ç†ç±»ï¼Œä¸€æ—¦æ¥å£å¢åŠ æ–¹æ³•ï¼Œç›®æ ‡å¯¹è±¡ä¸ä»£ç†å¯¹è±¡éƒ½è¦ç»´æŠ¤ã€‚</li>
</ul>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é™æ€ä»£ç†ï¼šå®ç°æ¥å£æˆ–ç»§æ‰¿çˆ¶ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticProxyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TargetProxy01</span>(<span class="keyword">new</span> <span class="title class_">Target01</span>()).method();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£æˆ–è¶…ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TargetInterface01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Target01</span> <span class="keyword">implements</span> <span class="title class_">TargetInterface01</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Target01 method......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»£ç†ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TargetProxy01</span> <span class="keyword">implements</span> <span class="title class_">TargetInterface01</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¯¹ç›®æ ‡ç±»è¿›è¡ŒåŒ…è£…</span></span><br><span class="line">    <span class="keyword">private</span> TargetInterface01 targetProxy01;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TargetProxy01</span><span class="params">(TargetInterface01 interface01)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.targetProxy01 = interface01;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        before();</span><br><span class="line">        targetProxy01.method();</span><br><span class="line">        after();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy01 before......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy01 after......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JDKåŠ¨æ€ä»£ç†"><a href="#JDKåŠ¨æ€ä»£ç†" class="headerlink" title="JDKåŠ¨æ€ä»£ç†"></a>JDKåŠ¨æ€ä»£ç†</h2><blockquote>
<p>ä½¿ç”¨ä»£ç†å¯¹è±¡ä¸­çš„API</p>
<p>java.lang.reflect.proxy.newProxyInstance(â€¦)</p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * JDK åŠ¨æ€ä»£ç†ï¼šå®ç°æ¥å£ã€çˆ¶ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdkProxyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ProxyFactory</span> <span class="variable">proxyFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProxyFactory</span>(<span class="keyword">new</span> <span class="title class_">Target02</span>());</span><br><span class="line">        <span class="type">TargetInterface02</span> <span class="variable">proxyInstance</span> <span class="operator">=</span> (TargetInterface02) proxyFactory.getProxyInstance();</span><br><span class="line">        proxyInstance.method();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£æˆ–è¶…ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">TargetInterface02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Target02</span> <span class="keyword">implements</span> <span class="title class_">TargetInterface02</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Target02 method......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»£ç†ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProxyFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> TargetInterface02 targetInterface;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProxyFactory</span><span class="params">(TargetInterface02 targetInterface)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.targetInterface = targetInterface;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxyInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * public static Object newProxyInstance(</span></span><br><span class="line"><span class="comment">         * ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</span></span><br><span class="line"><span class="comment">         * å½“å‰ç›®æ ‡å¯¹è±¡çš„ç±»åŠ è½½å™¨ï¼Œç›®æ ‡çš„æ¥å£ç±»å‹ï¼Œhandler</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(targetInterface.getClass().getClassLoader(),</span><br><span class="line">                targetInterface.getClass().getInterfaces(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                        before();</span><br><span class="line">                        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(targetInterface, args);</span><br><span class="line">                        after();</span><br><span class="line">                        <span class="keyword">return</span> result;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy02 before......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy02 after......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CglibåŠ¨æ€ä»£ç†"><a href="#CglibåŠ¨æ€ä»£ç†" class="headerlink" title="CglibåŠ¨æ€ä»£ç†"></a>CglibåŠ¨æ€ä»£ç†</h2><blockquote>
<ul>
<li><p>é™æ€ä»£ç†å’ŒJDKä»£ç†æ¨¡å¼éƒ½è¦æ±‚ç›®æ ‡å¯¹è±¡æ˜¯å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯æœ‰æ—¶å€™ç›®æ ‡å¯¹è±¡åªæ˜¯ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰å®ç°ä»»ä½•çš„æ¥å£ï¼Œè¿™ä¸ªæ—¶å€™å¯ä½¿ç”¨ç›®æ ‡å¯¹è±¡å­ç±»æ¥å®ç°ä»£ç†ï¼Œå³Cglibä»£ç†ã€‚</p>
</li>
<li><p>Cglibä»£ç†ä¹Ÿå«ä½œå­ç±»ä»£ç†ï¼Œå®ƒæ˜¯åœ¨å†…å­˜ä¸­æ„å»ºä¸€ä¸ªå­ç±»å¯¹è±¡ä»è€Œå®ç°å¯¹ç›®æ ‡å¯¹è±¡åŠŸèƒ½æ‰©å±•ï¼Œæœ‰äº›ä¹¦ä¹Ÿå°†Cglibä»£ç†å½’å±åˆ°åŠ¨æ€ä»£ç†ã€‚</p>
</li>
<li><p>Cglibæ˜¯ä¸€ä¸ªå¼ºå¤§çš„é«˜æ€§èƒ½çš„ä»£ç ç”ŸæˆåŒ…ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•javaç±»ä¸å®ç°javaæ¥å£ï¼Œå®ƒå¹¿æ³›çš„è¢«è®¸å¤šAOPçš„æ¡†æ¶ä½¿ç”¨ï¼Œä¾‹å¦‚Spring AOPï¼Œå®ç°æ–¹æ³•æ‹¦æˆªã€‚</p>
</li>
<li><p>åœ¨AOPç¼–ç¨‹ä¸­å¦‚ä½•é€‰æ‹©ä»£ç†æ¨¡å¼ï¼š</p>
<ul>
<li>ç›®æ ‡å¯¹è±¡éœ€è¦å®ç°æ¥å£ï¼Œç”¨JDKä»£ç†</li>
<li>ç›®æ ‡å¯¹è±¡ä¸éœ€è¦å®ç°æ¥å£ï¼Œç”¨Cglibä»£ç†</li>
</ul>
</li>
<li><p><strong>CglibåŒ…çš„åº•å±‚æ˜¯é€šè¿‡ä½¿ç”¨å­—èŠ‚ç å¤„ç†æ¡†æ¶ASMæ¥è½¬æ¢å­—èŠ‚ç å¹¶ç”Ÿæˆæ–°çš„ç±»ã€‚</strong></p>
<p><strong>å¼•å…¥ä¾èµ–ï¼š</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- cglibä»£ç†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * CGLIBä»£ç†ï¼šåŸºäºå­ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CglibProxyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Target03</span> <span class="variable">proxyInstance</span> <span class="operator">=</span></span><br><span class="line">                (Target03) <span class="keyword">new</span> <span class="title class_">ProxyFactory03</span>(<span class="keyword">new</span> <span class="title class_">Target03</span>()).getProxyInstance();</span><br><span class="line">        proxyInstance.method();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Target03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Target03 method......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MethodInterceptor implements CallBack</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProxyFactory03</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Target03 target03;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProxyFactory03</span><span class="params">(Target03 target03)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target03 = target03;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxyInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®çˆ¶ç±»</span></span><br><span class="line">        enhancer.setSuperclass(target03.getClass());</span><br><span class="line">        <span class="comment">//è®¾ç½®å›è°ƒå‡½æ•°</span></span><br><span class="line">        enhancer.setCallback(<span class="built_in">this</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> enhancer.create();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object o, Method method, Object[] objects, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        before();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">returnVal</span> <span class="operator">=</span> method.invoke(target03, objects);</span><br><span class="line">        after();</span><br><span class="line">        <span class="keyword">return</span> returnVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy02 before......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TargetProxy02 after......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‡ ç§ä»£ç†æ¨¡å¼å˜ä½“"><a href="#å‡ ç§ä»£ç†æ¨¡å¼å˜ä½“" class="headerlink" title="å‡ ç§ä»£ç†æ¨¡å¼å˜ä½“"></a>å‡ ç§ä»£ç†æ¨¡å¼å˜ä½“</h2><h3 id="é˜²ç«å¢™ä»£ç†"><a href="#é˜²ç«å¢™ä»£ç†" class="headerlink" title="é˜²ç«å¢™ä»£ç†"></a>é˜²ç«å¢™ä»£ç†</h3><blockquote>
<p>å†…ç½‘é€šè¿‡ä»£ç†ç©¿é€é˜²ç«å¢™ï¼Œå®ç°å¯¹å…¬ç½‘çš„è®¿é—®ã€‚</p>
</blockquote>
<h3 id="ç¼“å­˜ä»£ç†"><a href="#ç¼“å­˜ä»£ç†" class="headerlink" title="ç¼“å­˜ä»£ç†"></a>ç¼“å­˜ä»£ç†</h3><blockquote>
<p>æ¯”å¦‚å½“è¯·æ±‚å›¾ç‰‡æ–‡ä»¶ç­‰èµ„æºæ—¶ï¼Œå…ˆåˆ°ç¼“å­˜ä»£ç†å–ï¼Œå¦‚æœå–åˆ°èµ„æºåˆ™è¿”å›ï¼Œå¦‚æœå–ä¸åˆ°èµ„æºï¼Œå†åˆ°å…¬ç½‘æˆ–è€…æ•°æ®åº“å–ï¼Œç„¶åç¼“å­˜ã€‚</p>
</blockquote>
<h3 id="è¿œç¨‹ä»£ç†"><a href="#è¿œç¨‹ä»£ç†" class="headerlink" title="è¿œç¨‹ä»£ç†"></a>è¿œç¨‹ä»£ç†</h3><blockquote>
<p>è¿œç¨‹å¯¹è±¡çš„æœ¬åœ°ä»£è¡¨ï¼Œé€šè¿‡å®ƒå¯ä»¥æŠŠè¿œç¨‹å¯¹è±¡å½“æœ¬åœ°å¯¹è±¡æ¥è°ƒç”¨ã€‚è¿œç¨‹ä»£ç†é€šè¿‡ç½‘ç»œå’ŒçœŸæ­£çš„è¿œç¨‹å¯¹è±¡æ²Ÿé€šä¿¡æ¯ã€‚</p>
</blockquote>
<h3 id="åŒæ­¥ä»£ç†"><a href="#åŒæ­¥ä»£ç†" class="headerlink" title="åŒæ­¥ä»£ç†"></a>åŒæ­¥ä»£ç†</h3><blockquote>
<p>ä¸»è¦ä½¿ç”¨åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œå®Œæˆå¤šçº¿ç¨‹é—´åŒæ­¥å·¥ä½œåŒæ­¥ä»£ç†ï¼šä¸»è¦ä½¿ç”¨åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œå®Œæˆå¤šçº¿ç¨‹é—´åŒæ­¥å·¥ä½œã€‚</p>
</blockquote>
<h1 id="æ¨¡æ¿æ¨¡å¼"><a href="#æ¨¡æ¿æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ¨¡å¼"></a>æ¨¡æ¿æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-17"><a href="#åŸºæœ¬ä»‹ç»-17" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<ul>
<li><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰ï¼Œåˆå«æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ï¼Œåœ¨ä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œã€‚</p>
</li>
<li><p>ç®€å•è¯´ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸ªç®—æ³•çš„ç»“æ„ï¼Œå°±å¯ä»¥é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p>
</li>
<li><p>è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
</li>
<li><p>UML å›¾</p>
<p><img src="/2023/02/28/DesignPattern/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F.png" alt="æ¨¡æ¿æ¨¡å¼png"></p>
<p>å¯¹åŸç†ç±»å›¾çš„è¯´æ˜ï¼š</p>
<ol>
<li><p>AbstractClass æŠ½è±¡ç±»ï¼Œ ç±»ä¸­å®ç°äº†æ¨¡æ¿æ–¹æ³•ï¼ˆtemplateï¼‰ï¼Œå®šä¹‰äº†ç®—æ³•çš„éª¨æ¶ï¼Œå…·ä½“å­ç±»éœ€è¦å»å®ç° å…¶å®ƒçš„æŠ½è±¡æ–¹æ³•operationr2, 3, 4ã€‚</p>
</li>
<li><p>ConcreteClass å®ç°æŠ½è±¡æ–¹æ³•operationr2, 3, 4ï¼Œä»¥å®Œæˆç®—æ³•ä¸­ç‰¹ç‚¹å­ç±»çš„æ­¥éª¤ã€‚</p>
</li>
</ol>
</li>
</ul>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-10"><a href="#åº”ç”¨åœºæ™¯-10" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><blockquote>
<p>å½“è¦å®Œæˆåœ¨æŸä¸ªè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹è¦æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ï¼Œè¿™ä¸€ç³»åˆ—çš„æ­¥éª¤åŸºæœ¬ç›¸åŒï¼Œä½†å…¶ä¸ªåˆ«æ­¥éª¤åœ¨å®ç°æ—¶å¯èƒ½ä¸åŒï¼Œé€šå¸¸è€ƒè™‘ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¥å¤„ç†ã€‚</p>
</blockquote>
<h2 id="åº”ç”¨ç¤ºä¾‹-12"><a href="#åº”ç”¨ç¤ºä¾‹-12" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><blockquote>
<p>åˆ¶ä½œè±†æµ†çš„æµç¨‹ï¼šé€‰æ â€”â€”&gt; æ·»åŠ é…æ–™ â€”â€”&gt; æµ¸æ³¡ â€”â€”&gt; è±†æµ†æœºç ´ç¢é€šè¿‡æ·»åŠ ä¸åŒçš„é…æ–™ï¼Œå¯ä»¥åˆ¶ä½œå‡ºä¸åŒå£å‘³çš„è±†æµ†ã€‚å…¶ä¸­é€‰æã€æµ¸æ³¡å’Œæ”¾åˆ°è±†æµ†æœºç ´ç¢ï¼Œè¿™å‡ ä¸ªæ­¥éª¤å¯¹äºåˆ¶ä½œæ¯ç§å£å‘³çš„è±†æµ†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F_%E5%88%B6%E4%BD%9C%E8%B1%86%E6%B5%86.png" alt="æ¨¡æ¿æ¨¡å¼_åˆ¶ä½œè±†æµ†.png"></p>
</blockquote>
<p><strong>ä»£ç å®ç°ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡æ¿æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">SoyaMilk</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¨¡æ¿æ–¹æ³•, å¯ä»¥åšæˆfinal, ä¸è®©å­ç±»å»è¦†ç›–</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">make</span><span class="params">()</span> &#123;</span><br><span class="line">        select();</span><br><span class="line">        addCondiments();</span><br><span class="line">        soak();</span><br><span class="line">        beat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­ç±»å®ç°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">addCondiments</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç§æœ‰æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">select</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk select()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">soak</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk soak()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">beat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk beat()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PeanutSoyaMilk</span> <span class="keyword">extends</span> <span class="title class_">SoyaMilk</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addCondiments</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;PeanutSoyaMilk addCondiments...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedBeanSoyaMilk</span> <span class="keyword">extends</span> <span class="title class_">SoyaMilk</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addCondiments</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;RedBeanSoyaMilk addCondiments...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">RedBeanSoyaMilk</span>().make();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">PeanutSoyaMilk</span>().make();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨é’©å­å‡½æ•°è·³è¿‡æŒ‡å®šæ­¥éª¤"><a href="#ä½¿ç”¨é’©å­å‡½æ•°è·³è¿‡æŒ‡å®šæ­¥éª¤" class="headerlink" title="ä½¿ç”¨é’©å­å‡½æ•°è·³è¿‡æŒ‡å®šæ­¥éª¤"></a>ä½¿ç”¨é’©å­å‡½æ•°è·³è¿‡æŒ‡å®šæ­¥éª¤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡æ¿æ¨¡å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">SoyaMilk2</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¨¡æ¿æ–¹æ³•, å¯ä»¥åšæˆfinal, ä¸è®©å­ç±»å»è¦†ç›–</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">make</span><span class="params">()</span> &#123;</span><br><span class="line">        select();</span><br><span class="line">        <span class="keyword">if</span> (customWantCondiments()) &#123;</span><br><span class="line">            addCondiments();</span><br><span class="line">        &#125;</span><br><span class="line">        soak();</span><br><span class="line">        beat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é’©å­ï¼šæ˜¯å¦è·³è¿‡æŒ‡å®šæ­¥éª¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">customWantCondiments</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­ç±»å®ç°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">addCondiments</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç§æœ‰æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">select</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk select()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">soak</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk soak()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">beat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SoyaMilk beat()......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PeanutSoyaMilk2</span> <span class="keyword">extends</span> <span class="title class_">SoyaMilk2</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addCondiments</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;PeanutSoyaMilk addCondiments...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">customWantCondiments</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ³¨æ„äº‹é¡¹ä¸ä¼˜ç¼ºç‚¹"><a href="#æ³¨æ„äº‹é¡¹ä¸ä¼˜ç¼ºç‚¹" class="headerlink" title="æ³¨æ„äº‹é¡¹ä¸ä¼˜ç¼ºç‚¹"></a>æ³¨æ„äº‹é¡¹ä¸ä¼˜ç¼ºç‚¹</h2><blockquote>
<ul>
<li>åŸºæœ¬æ€æƒ³æ˜¯ï¼šç®—æ³•åªå­˜åœ¨äºä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯åœ¨çˆ¶ç±»ä¸­ï¼Œå®¹æ˜“ä¿®æ”¹ã€‚éœ€è¦ä¿®æ”¹ç®—æ³•æ—¶ï¼Œåªè¦ä¿®æ”¹çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•æˆ–è€…å·²ç»å®ç°çš„æŸäº›æ­¥éª¤ï¼Œå­ç±»å°±ä¼šç»§æ‰¿è¿™äº›ä¿®æ”¹ã€‚</li>
<li>å®ç°äº†æœ€å¤§åŒ–ä»£ç å¤ç”¨ã€‚çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•å’Œå·²å®ç°çš„æŸäº›æ­¥éª¤ä¼šè¢«å­ç±»ç»§æ‰¿è€Œç›´æ¥ä½¿ç”¨ã€‚</li>
<li>æ—¢ç»Ÿä¸€äº†ç®—æ³•ï¼Œä¹Ÿæä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§ã€‚çˆ¶ç±»çš„æ¨¡æ¿æ–¹æ³•ç¡®ä¿äº†ç®—æ³•çš„ç»“æ„ä¿æŒä¸å˜ï¼ŒåŒæ—¶ç”±å­ç±»æä¾›éƒ¨åˆ†æ­¥éª¤çš„å®ç°ã€‚</li>
<li>è¯¥æ¨¡å¼çš„ä¸è¶³ä¹‹å¤„ï¼šæ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ åºå¤§ä¸€èˆ¬æ¨¡æ¿æ–¹æ³•éƒ½åŠ ä¸Š final å…³é”®å­—ï¼Œé˜²æ­¢å­ç±»é‡å†™æ¨¡æ¿æ–¹æ³•ã€‚</li>
<li>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä½¿ç”¨åœºæ™¯ï¼šå½“è¦å®Œæˆåœ¨æŸä¸ªè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹è¦æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ï¼Œè¿™ä¸€ç³»åˆ—çš„æ­¥éª¤åŸºæœ¬ç›¸åŒï¼Œä½†å…¶ä¸ªåˆ«æ­¥éª¤åœ¨å®ç°æ—¶å¯èƒ½ä¸åŒï¼Œé€šå¸¸è€ƒè™‘ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¥å¤„ç†ã€‚</li>
</ul>
</blockquote>
<h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-7"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-7" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><blockquote>
<p>Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶ä½¿ç”¨çš„æ˜¯ æ¨¡æ¿æ¨¡å¼ã€‚</p>
<p>æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ConfigurableApplicationContext</span> <span class="keyword">extends</span> <span class="title class_">ApplicationContext</span>, Lifecycle, Closeable &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">refresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æŠ½è±¡ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractApplicationContext</span> <span class="keyword">extends</span> <span class="title class_">DefaultResourceLoader</span></span><br><span class="line">		<span class="keyword">implements</span> <span class="title class_">ConfigurableApplicationContext</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">refresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException &#123;</span><br><span class="line">		<span class="keyword">synchronized</span> (<span class="built_in">this</span>.startupShutdownMonitor) &#123;</span><br><span class="line">			<span class="comment">// Prepare this context for refreshing.</span></span><br><span class="line">			prepareRefresh();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Tell the subclass to refresh the internal bean factory.</span></span><br><span class="line">            <span class="comment">// æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">			<span class="type">ConfigurableListableBeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> obtainFreshBeanFactory();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Prepare the bean factory for use in this context.</span></span><br><span class="line">			prepareBeanFactory(beanFactory);</span><br><span class="line">            </span><br><span class="line">            postProcessBeanFactory(beanFactory);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// Initialize other special beans in specific context subclasses.</span></span><br><span class="line">            <span class="comment">//é’©å­æ–¹æ³•</span></span><br><span class="line">            onRefresh();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//å­ç±»å®ç°</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">refreshBeanFactory</span><span class="params">()</span> <span class="keyword">throws</span> BeansException, IllegalStateException;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é’©å­æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onRefresh</span><span class="params">()</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">	<span class="comment">// For subclasses: do nothing by default.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">postProcessBeanFactory</span><span class="params">(ConfigurableListableBeanFactory beanFactory)</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E6%A8%A1%E6%9D%BF%E6%A8%A1%E5%BC%8F_Spring%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8.png" alt="æ¨¡æ¿æ¨¡å¼_Springå®¹å™¨å¯åŠ¨.png"></p>
</blockquote>
<h1 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-18"><a href="#åŸºæœ¬ä»‹ç»-18" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-11"><a href="#åº”ç”¨åœºæ™¯-11" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-10"><a href="#ä¼˜ç¼ºç‚¹-10" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-13"><a href="#åº”ç”¨ç¤ºä¾‹-13" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-7"><a href="#ç±»å›¾-7" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-8"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-8" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="è®¿é—®è€…æ¨¡å¼"><a href="#è®¿é—®è€…æ¨¡å¼" class="headerlink" title="è®¿é—®è€…æ¨¡å¼"></a>è®¿é—®è€…æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-19"><a href="#åŸºæœ¬ä»‹ç»-19" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-12"><a href="#åº”ç”¨åœºæ™¯-12" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-11"><a href="#ä¼˜ç¼ºç‚¹-11" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-14"><a href="#åº”ç”¨ç¤ºä¾‹-14" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-8"><a href="#ç±»å›¾-8" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-9"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-9" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼"></a>è¿­ä»£å™¨æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-20"><a href="#åŸºæœ¬ä»‹ç»-20" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-13"><a href="#åº”ç”¨åœºæ™¯-13" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-12"><a href="#ä¼˜ç¼ºç‚¹-12" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-15"><a href="#åº”ç”¨ç¤ºä¾‹-15" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-9"><a href="#ç±»å›¾-9" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-10"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-10" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-21"><a href="#åŸºæœ¬ä»‹ç»-21" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<p>â€‹		å½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ã€‚æ¯”å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥ä¾èµ–å®ƒçš„å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-14"><a href="#åº”ç”¨åœºæ™¯-14" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><blockquote>
<p>ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡ï¼‰éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œå¹¿æ’­é€šçŸ¥ã€‚</p>
<p>ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡å°†å‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚</p>
</blockquote>
<h2 id="æ³¨æ„äº‹é¡¹-3"><a href="#æ³¨æ„äº‹é¡¹-3" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><blockquote>
<ul>
<li>JAVA ä¸­å·²ç»æœ‰äº†å¯¹è§‚å¯Ÿè€…æ¨¡å¼çš„æ”¯æŒç±»ã€‚</li>
<li>é¿å…å¾ªç¯å¼•ç”¨ã€‚</li>
<li><strong>å¦‚æœé¡ºåºæ‰§è¡Œï¼ŒæŸä¸€è§‚å¯Ÿè€…é”™è¯¯ä¼šå¯¼è‡´ç³»ç»Ÿå¡å£³ï¼Œä¸€èˆ¬é‡‡ç”¨å¼‚æ­¥æ–¹å¼ã€‚</strong></li>
</ul>
</blockquote>
<h2 id="ä¼˜ç¼ºç‚¹-13"><a href="#ä¼˜ç¼ºç‚¹-13" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><blockquote>
<p>ä¼˜ç‚¹ï¼š </p>
<ul>
<li>è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚</li>
<li>å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶ã€‚</li>
</ul>
<p>ç¼ºç‚¹ï¼š </p>
<ul>
<li>å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚ </li>
<li>å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
</ul>
</blockquote>
<h2 id="åº”ç”¨ç¤ºä¾‹-16"><a href="#åº”ç”¨ç¤ºä¾‹-16" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><blockquote>
<p>è¾“å…¥ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œåˆ†åˆ«è¾“å‡ºå®ƒçš„äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€‚</p>
<p><img src="/2023/02/28/DesignPattern/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F_%E8%BF%9B%E5%88%B6%E8%BE%93%E5%87%BA.png" alt="è§‚å¯Ÿè€…æ¨¡å¼_è¿›åˆ¶è¾“å‡º.png"></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§‚å¯Ÿçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Subject subject;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§‚å¯Ÿçš„å¯¹è±¡æ”¹å˜æ—¶ï¼Œè°ƒç”¨è¯¥æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¢«è§‚å¯Ÿå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        çŠ¶æ€ï¼Œæ”¹å˜æ—¶é€šçŸ¥å…¶ä»–è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(<span class="type">int</span> state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">        notifyAllObserver();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§‚å¯Ÿè€…åˆ—è¡¨ï¼Œä¸å®œè¿‡å¤§ï¼Œä¸å®œä¾èµ–è‡ªèº«</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observerList;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Subject</span><span class="params">()</span> &#123;</span><br><span class="line">        observerList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">register</span><span class="params">(Observer observer)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.observerList.add(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">notifyAllObserver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            æ­¤å¤„åº”è¯¥å¼‚æ­¥åŒæ­¥ï¼Œé¿å…å‡ºç°å¼‚å¸¸é˜»å¡é€šçŸ¥ä¸‹ä¸€ä¸ªè§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">for</span> (Observer o : observerList) &#123;</span><br><span class="line">            o.update();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…·ä½“çš„è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BinaryObserver</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        æ„é€ æ–¹æ³•ï¼šæŒ‡æ˜è§‚å¯Ÿçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BinaryObserver</span><span class="params">(Subject subject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subject = subject;</span><br><span class="line">        <span class="built_in">this</span>.subject.register(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;BinaryObserver: &quot;</span> + Integer.toBinaryString(subject.getState()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OctalObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OctalObserver</span><span class="params">(Subject subject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subject = subject;</span><br><span class="line">        <span class="built_in">this</span>.subject.register(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;OctalObserver: &quot;</span> + Integer.toOctalString(subject.getState()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HexObserver</span> <span class="keyword">extends</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HexObserver</span><span class="params">(Subject subject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.subject = subject;</span><br><span class="line">        <span class="built_in">this</span>.subject.register(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;HexObserver: &quot;</span> + Integer.toHexString(subject.getState()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line">        <span class="type">BinaryObserver</span> <span class="variable">binaryObserver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BinaryObserver</span>(subject);</span><br><span class="line">        <span class="type">OctalObserver</span> <span class="variable">octalObserver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OctalObserver</span>(subject);</span><br><span class="line">        <span class="type">HexObserver</span> <span class="variable">hexObserver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HexObserver</span>(subject);</span><br><span class="line">        subject.setState(<span class="number">17</span>);</span><br><span class="line">        <span class="comment">//BinaryObserver: 10001</span></span><br><span class="line">        <span class="comment">//OctalObserver: 21</span></span><br><span class="line">        <span class="comment">//HexObserver: 11</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è§‚å¯Ÿè€…æ¨¡å¼åœ¨JDKä¸­çš„åº”ç”¨"><a href="#è§‚å¯Ÿè€…æ¨¡å¼åœ¨JDKä¸­çš„åº”ç”¨" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼åœ¨JDKä¸­çš„åº”ç”¨"></a>è§‚å¯Ÿè€…æ¨¡å¼åœ¨JDKä¸­çš„åº”ç”¨</h2><p>Jdkæœ‰è‡ªå·±å†…ç½®çš„è§‚å¯Ÿè€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * This method is called whenever the observed object is changed. An</span></span><br><span class="line"><span class="comment">     * application calls an &lt;tt&gt;Observable&lt;/tt&gt; object&#x27;s</span></span><br><span class="line"><span class="comment">     * &lt;code&gt;notifyObservers&lt;/code&gt; method to have all the object&#x27;s</span></span><br><span class="line"><span class="comment">     * observers notified of the change.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>   o     the observable object.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>   arg   an argument passed to the &lt;code&gt;notifyObservers&lt;/code&gt;</span></span><br><span class="line"><span class="comment">     *                 method.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Observable o, Object arg)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Observable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">changed</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Observer&gt; obs;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Construct an Observable with zero Observers. */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Observable</span><span class="params">()</span> &#123;</span><br><span class="line">        obs = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">// â€¦â€¦</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>Observableçš„ä½œç”¨å’Œåœ°ä½ç­‰ä»·äºç¤ºä¾‹ä¸­çš„Subjectã€‚</li>
<li>Observableæ˜¯ç±»ï¼Œä¸æ˜¯æ¥å£ï¼Œç±»ä¸­å·²ç»å®ç°äº†æ ¸å¿ƒçš„æ–¹æ³• ,å³ç®¡ç†Observerçš„æ–¹æ³• add.. delete .. notifyâ€¦</li>
<li>Observerçš„ä½œç”¨å’Œåœ°ä½ç­‰ä»·äºç¤ºä¾‹ä¸­çš„Observerã€‚</li>
<li>Observableå’Œ Observer çš„ä½¿ç”¨æ–¹æ³•å’Œå‰é¢è®²è¿‡çš„ä¸€æ ·ï¼Œåªæ˜¯Observableæ˜¯ç±»ï¼Œé€šè¿‡ç»§æ‰¿æ¥å®ç°è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li>
</ul>
</blockquote>
<h1 id="ä¸­ä»‹è€…æ¨¡å¼"><a href="#ä¸­ä»‹è€…æ¨¡å¼" class="headerlink" title="ä¸­ä»‹è€…æ¨¡å¼"></a>ä¸­ä»‹è€…æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-22"><a href="#åŸºæœ¬ä»‹ç»-22" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-15"><a href="#åº”ç”¨åœºæ™¯-15" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-14"><a href="#ä¼˜ç¼ºç‚¹-14" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-17"><a href="#åº”ç”¨ç¤ºä¾‹-17" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-10"><a href="#ç±»å›¾-10" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-11"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-11" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="å¤‡å¿˜å½•æ¨¡å¼"><a href="#å¤‡å¿˜å½•æ¨¡å¼" class="headerlink" title="å¤‡å¿˜å½•æ¨¡å¼"></a>å¤‡å¿˜å½•æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-23"><a href="#åŸºæœ¬ä»‹ç»-23" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-16"><a href="#åº”ç”¨åœºæ™¯-16" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-15"><a href="#ä¼˜ç¼ºç‚¹-15" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-18"><a href="#åº”ç”¨ç¤ºä¾‹-18" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-11"><a href="#ç±»å›¾-11" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-12"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-12" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="è§£é‡Šå™¨æ¨¡å¼"><a href="#è§£é‡Šå™¨æ¨¡å¼" class="headerlink" title="è§£é‡Šå™¨æ¨¡å¼"></a>è§£é‡Šå™¨æ¨¡å¼</h1><h2 id="åŸºæœ¬ä»‹ç»-24"><a href="#åŸºæœ¬ä»‹ç»-24" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><h2 id="åº”ç”¨åœºæ™¯-17"><a href="#åº”ç”¨åœºæ™¯-17" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-16"><a href="#ä¼˜ç¼ºç‚¹-16" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-19"><a href="#åº”ç”¨ç¤ºä¾‹-19" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-12"><a href="#ç±»å›¾-12" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-13"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-13" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h1><h2 id="éœ€æ±‚ç¤ºä¾‹-1"><a href="#éœ€æ±‚ç¤ºä¾‹-1" class="headerlink" title="éœ€æ±‚ç¤ºä¾‹"></a>éœ€æ±‚ç¤ºä¾‹</h2><blockquote>
<h3 id="APPæŠ½å¥–æ´»åŠ¨é—®é¢˜"><a href="#APPæŠ½å¥–æ´»åŠ¨é—®é¢˜" class="headerlink" title="APPæŠ½å¥–æ´»åŠ¨é—®é¢˜"></a>APPæŠ½å¥–æ´»åŠ¨é—®é¢˜</h3><p>è¯·ç¼–å†™ç¨‹åºå®ŒæˆAPPæŠ½å¥–æ´»åŠ¨å…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š </p>
<ul>
<li>å‡å¦‚æ¯å‚åŠ ä¸€æ¬¡è¿™ä¸ªæ´»åŠ¨è¦ æ‰£é™¤ç”¨æˆ·50ç§¯åˆ†ï¼Œä¸­å¥–æ¦‚ç‡ æ˜¯10% </li>
<li>å¥–å“æ•°é‡å›ºå®šï¼ŒæŠ½å®Œå°±ä¸èƒ½æŠ½å¥–</li>
<li>æ´»åŠ¨æœ‰å››ä¸ªçŠ¶æ€ï¼š å¯ä»¥æŠ½å¥–ã€ä¸èƒ½æŠ½å¥–ã€å‘æ”¾å¥–å“å’Œå¥–å“é¢†å®Œ</li>
<li>æ´»åŠ¨çš„å››ä¸ªçŠ¶æ€è½¬æ¢å…³ç³»å›¾</li>
</ul>
<p><img src="/2023/02/28/DesignPattern/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F_%E6%8A%BD%E5%A5%96%E6%B4%BB%E5%8A%A8.png" alt="çŠ¶æ€æ¨¡å¼_æŠ½å¥–æ´»åŠ¨.png"></p>
</blockquote>
<h2 id="åŸºæœ¬ä»‹ç»-25"><a href="#åŸºæœ¬ä»‹ç»-25" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<p>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ï¼šå®ƒä¸»è¦ç”¨æ¥è§£å†³å¯¹è±¡åœ¨å¤šç§çŠ¶æ€è½¬æ¢æ—¶ï¼Œéœ€è¦å¯¹å¤–è¾“å‡ºä¸åŒçš„è¡Œä¸ºçš„é—®é¢˜ã€‚çŠ¶æ€å’Œè¡Œä¸ºæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ 2) å½“ä¸€ä¸ªå¯¹è±¡çš„å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œå…è®¸æ”¹å˜å…¶è¡Œä¸ºï¼Œè¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ˜¯æ”¹å˜äº†å…¶ç±»ã€‚</p>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-18"><a href="#åº”ç”¨åœºæ™¯-18" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-17"><a href="#ä¼˜ç¼ºç‚¹-17" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-20"><a href="#åº”ç”¨ç¤ºä¾‹-20" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><h2 id="ç±»å›¾-13"><a href="#ç±»å›¾-13" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-14"><a href="#åœ¨-Spring-å®¹å™¨ä¸­çš„ä½¿ç”¨-14" class="headerlink" title="åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨"></a>åœ¨ Spring å®¹å™¨ä¸­çš„ä½¿ç”¨</h2><h1 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h1><h2 id="éœ€æ±‚ç¤ºä¾‹-2"><a href="#éœ€æ±‚ç¤ºä¾‹-2" class="headerlink" title="éœ€æ±‚ç¤ºä¾‹"></a>éœ€æ±‚ç¤ºä¾‹</h2><blockquote>
<p>é¸­å­é—®é¢˜ï¼šæ˜¾ç¤ºé¸­å­ä¿¡æ¯ï¼ˆé‡é¸­ã€åŒ—äº¬é¸­ã€ç©å…·é¸­ï¼Œé¸­å­æœ‰å„ç§è¡Œä¸ºï¼Œé£è¡Œã€æ¸¸æ³³ã€å«ï¼‰</p>
<p><strong>ä¼ ç»Ÿæ–¹å¼è§£å†³é¸­å­é—®é¢˜ï¼š</strong></p>
<p>å®šä¹‰è¶…ç±»ï¼Œå®šä¹‰é£è¡Œã€æ¸¸æ³³ã€å«ç­‰æ–¹æ³•ï¼Œå­ç±»å»å®ç°è¿™äº›æ–¹æ³•ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸åŒçš„é¸­å­å…·æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œå¦‚æœç»§æ‰¿äº†è¿™ä¸ªè¶…ç±»ï¼Œåˆ™æ‹¥æœ‰äº†ä¸å±äºå®ƒçš„è¡Œä¸ºï¼Œå¦‚æœè¶…ç±»ä¸­æœ‰å…¶ä»–æŠ½è±¡æ–¹æ³•ï¼Œåˆ™è¦ä¸€ä¸€è¦†ç›–è¿™äº›æ–¹æ³•ã€‚</p>
<p>ä¼ ç»Ÿå®ç°ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Duck</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Duck quack()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Duck swim()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Duck fly()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WildDuck</span> <span class="keyword">extends</span> <span class="title class_">Duck</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Wild Duck...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PekingDuck</span> <span class="keyword">extends</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;PekingDuck...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//PekingDuckä¸ä¼šé£ç¿”</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;PekingDuck Can not fly...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ToyDuck</span> <span class="keyword">extends</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ToyDuck...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ToyDuck Cannot quack...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ToyDuck Cannot swim...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ToyDuck Cannot fly...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="åŸºæœ¬ä»‹ç»-26"><a href="#åŸºæœ¬ä»‹ç»-26" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<p>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ä¸­ï¼Œå®šä¹‰ç®—æ³•æ—ï¼ˆç­–ç•¥ç»„ï¼‰ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚</p>
<p>è¿™ç®—æ³•ä½“ç°äº†å‡ ä¸ªè®¾è®¡åŸåˆ™ï¼š</p>
<ul>
<li>æŠŠå˜åŒ–çš„ä»£ç ä»ä¸å˜çš„ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</li>
<li>é’ˆå¯¹æ¥å£ç¼–ç¨‹è€Œä¸æ˜¯å…·ä½“ç±»ï¼ˆå®šä¹‰äº†ç­–ç•¥æ¥å£ï¼‰ã€‚</li>
<li>å¤šç”¨ç»„åˆ&#x2F;èšåˆï¼Œå°‘ç”¨ç»§æ‰¿ï¼ˆå®¢æˆ·é€šè¿‡ç»„åˆæ–¹å¼ä½¿ç”¨ç­–ç•¥ï¼‰ã€‚</li>
</ul>
<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.png" alt="ç­–ç•¥æ¨¡å¼.png"></p>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-19"><a href="#åº”ç”¨åœºæ™¯-19" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-18"><a href="#ä¼˜ç¼ºç‚¹-18" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-21"><a href="#åº”ç”¨ç¤ºä¾‹-21" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><blockquote>
<p>å°†é£è¡Œã€æ¸¸æ³³ã€å«ç­‰é’ˆå¯¹å­ç±»å˜åŒ–çš„è¡Œä¸ºåšæˆæ¥å£ï¼Œå¤šç”¨ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿</p>
<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F_%E9%B8%AD%E5%AD%90%E9%97%AE%E9%A2%98.png" alt="ç­–ç•¥æ¨¡å¼_é¸­å­é—®é¢˜.png"></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">FlyBehavior</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">QuackBehavior</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GoodFlyBehavior</span> <span class="keyword">implements</span> <span class="title class_">FlyBehavior</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;GoodFlyBehavior fly!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BadFlyBehavior</span> <span class="keyword">implements</span> <span class="title class_">FlyBehavior</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;BadFlyBehavior fly!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NoFlyBehavior</span> <span class="keyword">implements</span> <span class="title class_">FlyBehavior</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;NoFlyBehavior fly!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GaGaQuackBehavior</span> <span class="keyword">implements</span> <span class="title class_">QuackBehavior</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;GaGaQuackBehavior quack!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeGeQuackBehavior</span> <span class="keyword">implements</span> <span class="title class_">QuackBehavior</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;GeGeQuackBehavior quack!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NoQuackBehavior</span> <span class="keyword">implements</span> <span class="title class_">QuackBehavior</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;NoQuackBehavior quack!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> FlyBehavior flyBehavior;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> QuackBehavior quackBehavior;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (flyBehavior != <span class="literal">null</span>) &#123;</span><br><span class="line">            flyBehavior.fly();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">quack</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (quackBehavior != <span class="literal">null</span>) &#123;</span><br><span class="line">            quackBehavior.quack();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFlyBehavior</span><span class="params">(FlyBehavior flyBehavior)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flyBehavior = flyBehavior;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setQuackBehavior</span><span class="params">(QuackBehavior quackBehavior)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.quackBehavior = quackBehavior;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WildDuck</span> <span class="keyword">extends</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WildDuck</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flyBehavior = <span class="keyword">new</span> <span class="title class_">GoodFlyBehavior</span>();</span><br><span class="line">        <span class="built_in">this</span>.quackBehavior = <span class="keyword">new</span> <span class="title class_">GaGaQuackBehavior</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WildDuck display!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ToyDuck</span> <span class="keyword">extends</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ToyDuck</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flyBehavior = <span class="keyword">new</span> <span class="title class_">NoFlyBehavior</span>();</span><br><span class="line">        <span class="built_in">this</span>.quackBehavior = <span class="keyword">new</span> <span class="title class_">NoQuackBehavior</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ToyDuck display!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WildDuck</span> <span class="variable">wildDuck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WildDuck</span>();</span><br><span class="line">        wildDuck.fly();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ¨æ€æ”¹å˜è¡Œä¸º</span></span><br><span class="line">        wildDuck.setFlyBehavior(<span class="keyword">new</span> <span class="title class_">BadFlyBehavior</span>());</span><br><span class="line">        wildDuck.fly();</span><br><span class="line"></span><br><span class="line">        <span class="type">ToyDuck</span> <span class="variable">toyDuck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ToyDuck</span>();</span><br><span class="line">        toyDuck.quack();</span><br><span class="line">        <span class="comment">//GoodFlyBehavior fly!</span></span><br><span class="line">        <span class="comment">//BadFlyBehavior fly!</span></span><br><span class="line">        <span class="comment">//NoQuackBehavior quack!</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç­–ç•¥æ¨¡å¼åœ¨-Jdk-Arrays-ä¸­çš„ä½¿ç”¨"><a href="#ç­–ç•¥æ¨¡å¼åœ¨-Jdk-Arrays-ä¸­çš„ä½¿ç”¨" class="headerlink" title="ç­–ç•¥æ¨¡å¼åœ¨ Jdk-Arrays ä¸­çš„ä½¿ç”¨"></a>ç­–ç•¥æ¨¡å¼åœ¨ Jdk-Arrays ä¸­çš„ä½¿ç”¨</h2><h2 id="æ³¨æ„äº‹é¡¹-4"><a href="#æ³¨æ„äº‹é¡¹-4" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><blockquote>
<ul>
<li>ç­–ç•¥æ¨¡å¼çš„å…³é”®æ˜¯ï¼šåˆ†æé¡¹ç›®ä¸­å˜åŒ–éƒ¨åˆ†ä¸ä¸å˜éƒ¨åˆ†ã€‚</li>
<li>ç­–ç•¥æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šç”¨ç»„åˆ&#x2F;èšåˆå°‘ç”¨ç»§æ‰¿ï¼›è¡Œä¸ºç±»ç»„åˆï¼Œè€Œä¸æ˜¯è¡Œä¸ºçš„ç»§æ‰¿ã€‚</li>
<li>ä½“ç°äº† â€œå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾â€ åŸåˆ™ï¼Œå®¢æˆ·ç«¯å¢åŠ è¡Œä¸ºä¸ç”¨ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œåªè¦æ·»åŠ ä¸€ç§ç­–ç•¥ï¼ˆæˆ–è€…è¡Œä¸ºï¼‰ï¼Œé¿å…äº†ä½¿ç”¨å¤šé‡è½¬ç§»è¯­å¥ï¼ˆifâ€¦else ifâ€¦elseï¼‰</li>
<li>æä¾›äº†å¯ä»¥æ›¿æ¢ç»§æ‰¿å…³ç³»çš„åŠæ³•ï¼šç­–ç•¥æ¨¡å¼å°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„Strategyç±»ä¸­ä½¿å¾—ä½ å¯ä»¥ç‹¬ç«‹äºå…¶ Context æ”¹å˜å®ƒï¼Œä½¿å®ƒæ˜“äºåˆ‡æ¢ã€æ˜“äºç†è§£ã€æ˜“äºæ‰©å±•ã€‚</li>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ¯æ·»åŠ ä¸€ä¸ªç­–ç•¥å°±è¦å¢åŠ ä¸€ä¸ªç±»ï¼Œå½“ç­–ç•¥è¿‡å¤šæ˜¯ä¼šå¯¼è‡´ç±»æ•°ç›®åºå¤§ã€‚</li>
</ul>
</blockquote>
<h1 id="èŒè´£é“¾æ¨¡å¼"><a href="#èŒè´£é“¾æ¨¡å¼" class="headerlink" title="èŒè´£é“¾æ¨¡å¼"></a>èŒè´£é“¾æ¨¡å¼</h1><h2 id="éœ€æ±‚ç¤ºä¾‹-3"><a href="#éœ€æ±‚ç¤ºä¾‹-3" class="headerlink" title="éœ€æ±‚ç¤ºä¾‹"></a>éœ€æ±‚ç¤ºä¾‹</h2><blockquote>
<p>é‡‡è´­å‘˜é‡‡è´­æ•™å­¦å™¨æ</p>
<p>å¦‚æœé‡‘é¢å°äºç­‰äº5000ï¼Œç”±æ•™å­¦ä¸»ä»»å®¡æ‰¹ï¼ˆ0&lt;&#x3D;x&lt;&#x3D;5000ï¼‰</p>
<p>å¦‚æœé‡‘é¢å°äºç­‰äº10000ï¼Œç”±é™¢é•¿å®¡æ‰¹ï¼ˆ5000&lt;x&lt;&#x3D;10000ï¼‰</p>
<p>å¦‚æœé‡‘é¢å°äºç­‰äº30000ï¼Œç”±å‰¯æ ¡é•¿å®¡æ‰¹ï¼ˆ10000&lt;x&lt;&#x3D;30000ï¼‰</p>
<p>å¦‚æœé‡‘é¢è¶…è¿‡30000 ä»¥ä¸Šï¼Œç”±æ ¡é•¿å®¡æ‰¹ï¼ˆ30000&lt;xï¼‰</p>
<p><strong>ä¼ ç»Ÿæ–¹æ¡ˆè§£å†³é‡‡è´­é—®é¢˜</strong></p>
<p>ä¼ ç»Ÿæ–¹å¼ï¼šæ¥æ”¶åˆ°ä¸€ä¸ªé‡‡è´­è¯·æ±‚åï¼Œæ ¹æ®é‡‡è´­é‡‘é¢æ¥è°ƒç”¨å¯¹åº”çš„Approver ï¼ˆå®¡æ‰¹äººï¼‰å®Œæˆå®¡æ‰¹ã€‚</p>
<p>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜åˆ†æï¸°å®¢æˆ·ç«¯è¿™é‡Œä¼šä½¿ç”¨åˆ°åˆ†æ”¯åˆ¤æ–­ï¼ˆæ¯”å¦‚ switchï¼‰æ¥å¯¹ä¸åŒçš„é‡‡è´­è¯·æ±‚å¤„ç†ï¼Œè¿™æ ·å°±å­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚æœå„ä¸ªçº§åˆ«çš„äººå‘˜å®¡æ‰¹é‡‘é¢å‘ç”Ÿå˜åŒ–ï¼Œå®¢æˆ·ç«¯ä¹Ÿéœ€è¦å˜åŒ–</li>
<li>å®¢æˆ·ç«¯å¿…é¡»æ˜ç¡®çš„çŸ¥é“æœ‰å¤šå°‘ä¸ªå®¡æ‰¹çº§åˆ«å’Œè®¿é—®</li>
<li>è¿™æ ·å¯¹ä¸€ä¸ªé‡‡è´­è¯·æ±‚è¿›è¡Œå¤„ç†å’Œ Approverï¼ˆå®¡æ‰¹äººï¼‰å°±å­˜åœ¨å¼ºè€¦åˆå…³ç³»ï¼Œä¸åˆ©äºä»£ç çš„æ‰©å±•å’Œç»´æŠ¤ã€‚</li>
</ul>
</blockquote>
<h2 id="åŸºæœ¬ä»‹ç»-27"><a href="#åŸºæœ¬ä»‹ç»-27" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h2><blockquote>
<ul>
<li><p>èŒè´£é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ï¼Œåˆå«è´£ä»»é“¾æ¨¡å¼ï¼Œä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚è¿™ç§æ¨¡å¼å¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦ã€‚</p>
</li>
<li><p>èŒè´£é“¾æ¨¡å¼é€šå¸¸æ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹å¦ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†è¯¥è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠç›¸åŒçš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ï¼Œä¾æ­¤ç±»æ¨ï¼Œè¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
</li>
<li><p>UML å›¾</p>
<p><img src="/2023/02/28/DesignPattern/%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F.png" alt="èŒè´£é“¾æ¨¡å¼.png"></p>
</li>
<li><p>Handlerï¼šæŠ½è±¡çš„å¤„ç†è€…ï¼Œå®šä¹‰äº†ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ¥å£ï¼ŒåŒæ—¶å«ä¹‰å¦å¤–Handler</p>
<p>ConcreteHandlerA , Bæ˜¯å…·ä½“çš„å¤„ç†è€…ï¼Œå¤„ç†å®ƒè‡ªå·±è´Ÿè´£çš„è¯·æ±‚ï¼Œå¯ä»¥è®¿é—®å®ƒçš„åç»§è€…ï¼ˆå³ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼‰ï¼Œå¦‚æœå¯ä»¥å¤„ç†å½“å‰è¯·æ±‚ï¼Œåˆ™å¤„ç†ï¼Œå¦åˆ™å°±å°†è¯¥è¯·æ±‚äº¤ä¸ªåç»§è€…å»å¤„ç†ï¼Œä»è€Œå½¢æˆä¸€ä¸ªèŒè´£é“¾</p>
<p>Request , å«ä¹‰å¾ˆå¤šå±æ€§ï¼Œè¡¨ç¤ºä¸€ä¸ªè¯·æ±‚ã€‚</p>
</li>
</ul>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯-20"><a href="#åº”ç”¨åœºæ™¯-20" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><h2 id="ä¼˜ç¼ºç‚¹-19"><a href="#ä¼˜ç¼ºç‚¹-19" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><h2 id="åº”ç”¨ç¤ºä¾‹-22"><a href="#åº”ç”¨ç¤ºä¾‹-22" class="headerlink" title="åº”ç”¨ç¤ºä¾‹"></a>åº”ç”¨ç¤ºä¾‹</h2><blockquote>
<p>èŒè´£é“¾è§£å†³é—®é¢˜ï¼š</p>
<p>UML å›¾ï¼š</p>
<p><img src="/2023/02/28/DesignPattern/%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F_%E9%87%87%E8%B4%AD%E9%97%AE%E9%A2%98.png" alt="èŒè´£é“¾æ¨¡å¼_é‡‡è´­é—®é¢˜.png"></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PurchaseRequest</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        è¯·æ±‚ç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">type</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">0.0f</span>;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        è¯·æ±‚ç¼–å· ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PurchaseRequest</span><span class="params">(<span class="type">int</span> type, <span class="type">float</span> price, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getType</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®¡æ‰¹äºº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Approver</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        ä¸‹ä¸€ä¸ªå®¡æ‰¹äºº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Approver nextApprover;</span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Approver</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Approver</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextApprover</span><span class="params">(Approver approver)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nextApprover = approver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†å®¡æ‰¹è¯·æ±‚çš„æ–¹æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªè¯·æ±‚, å¤„ç†æ˜¯å­ç±»å®Œæˆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(PurchaseRequest request)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DepartmentApprover</span> <span class="keyword">extends</span> <span class="title class_">Approver</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DepartmentApprover</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="comment">//é»˜è®¤è°ƒç”¨çˆ¶ç±»æ— å‚æ„é€ ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨superæ˜¾å¼è°ƒç”¨</span></span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(PurchaseRequest purchaseRequest)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (purchaseRequest.getPrice() &lt; <span class="number">5000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> + purchaseRequest.getId() + <span class="string">&quot; è¢« &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; å¤„ç†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nextApprover.processRequest(purchaseRequest);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollegeApprover</span> <span class="keyword">extends</span> <span class="title class_">Approver</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CollegeApprover</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(PurchaseRequest purchaseRequest)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (purchaseRequest.getPrice() &gt; <span class="number">5000</span> &amp;&amp; purchaseRequest.getPrice() &lt;= <span class="number">10000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> + purchaseRequest.getId() + <span class="string">&quot; è¢« &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; å¤„ç†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nextApprover.processRequest(purchaseRequest);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ViceSchoolMasterApprover</span> <span class="keyword">extends</span> <span class="title class_">Approver</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ViceSchoolMasterApprover</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(PurchaseRequest purchaseRequest)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (purchaseRequest.getPrice() &gt; <span class="number">10000</span> &amp;&amp; purchaseRequest.getPrice() &lt;= <span class="number">30000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> + purchaseRequest.getId() + <span class="string">&quot; è¢« &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; å¤„ç†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nextApprover.processRequest(purchaseRequest);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SchoolMasterApprover</span> <span class="keyword">extends</span> <span class="title class_">Approver</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SchoolMasterApprover</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(PurchaseRequest purchaseRequest)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (purchaseRequest.getPrice() &gt; <span class="number">30000</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ±‚ç¼–å·ï¼š&quot;</span> + purchaseRequest.getId() + <span class="string">&quot; è¢« &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; å¤„ç†&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nextApprover.processRequest(purchaseRequest);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">PurchaseRequest</span> <span class="variable">purchaseRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PurchaseRequest</span>(<span class="number">1</span>, <span class="number">6000</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="type">DepartmentApprover</span> <span class="variable">departmentApprover</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DepartmentApprover</span>(<span class="string">&quot;department&quot;</span>);</span><br><span class="line">        <span class="type">CollegeApprover</span> <span class="variable">collegeApprover</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CollegeApprover</span>(<span class="string">&quot;college&quot;</span>);</span><br><span class="line">        <span class="type">ViceSchoolMasterApprover</span> <span class="variable">viceSchoolMasterApprover</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ViceSchoolMasterApprover</span>(<span class="string">&quot;viceSchoolMaster&quot;</span>);</span><br><span class="line">        <span class="type">SchoolMasterApprover</span> <span class="variable">schoolMasterApprover</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SchoolMasterApprover</span>(<span class="string">&quot;schoolMaster&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            è®¾ç½®å®¡æ‰¹çº§åˆ«çš„ä¸‹ä¸€ä¸ªå®¡æ‰¹äºº,æ„æˆç¯å½¢!</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        departmentApprover.setNextApprover(collegeApprover);</span><br><span class="line">        collegeApprover.setNextApprover(viceSchoolMasterApprover);</span><br><span class="line">        viceSchoolMasterApprover.setNextApprover(schoolMasterApprover);</span><br><span class="line">        schoolMasterApprover.setNextApprover(departmentApprover);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            å¤„ç†è¯·æ±‚</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        departmentApprover.processRequest(purchaseRequest);</span><br><span class="line">        viceSchoolMasterApprover.processRequest(purchaseRequest);</span><br><span class="line">        schoolMasterApprover.processRequest(purchaseRequest);</span><br><span class="line">        <span class="comment">//è¯·æ±‚ç¼–å·ï¼š1 è¢« college å¤„ç†</span></span><br><span class="line">        <span class="comment">//è¯·æ±‚ç¼–å·ï¼š1 è¢« college å¤„ç†</span></span><br><span class="line">        <span class="comment">//è¯·æ±‚ç¼–å·ï¼š1 è¢« college å¤„ç†</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="èŒè´£é“¾æ¨¡å¼åœ¨SpringMVCä¸­çš„åº”ç”¨"><a href="#èŒè´£é“¾æ¨¡å¼åœ¨SpringMVCä¸­çš„åº”ç”¨" class="headerlink" title="èŒè´£é“¾æ¨¡å¼åœ¨SpringMVCä¸­çš„åº”ç”¨"></a>èŒè´£é“¾æ¨¡å¼åœ¨SpringMVCä¸­çš„åº”ç”¨</h2><blockquote>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>SpringMvcè¯·æ±‚çš„æµç¨‹å›¾ä¸­ï¼Œæ‰§è¡Œäº†æ‹¦æˆªå™¨ç›¸å…³æ–¹æ³• interceptor.preHandler ç­‰ã€‚</li>
<li>åœ¨å¤„ç†SpringMvcè¯·æ±‚æ—¶ï¼Œä½¿ç”¨åˆ°èŒè´£é“¾æ¨¡å¼è¿˜ä½¿ç”¨åˆ°é€‚é…å™¨æ¨¡å¼ã€‚</li>
<li>HandlerExecutionChainä¸»è¦è´Ÿè´£çš„æ˜¯è¯·æ±‚æ‹¦æˆªå™¨çš„æ‰§è¡Œå’Œè¯·æ±‚å¤„ç†ï¼Œä½†æ˜¯ä»–æœ¬èº«ä¸å¤„ç†è¯·æ±‚ï¼Œåªæ˜¯å°†è¯·æ±‚åˆ†é…ç»™é“¾ä¸Šæ³¨å†Œå¤„ç†å™¨æ‰§è¡Œï¼Œè¿™æ˜¯èŒè´£é“¾å®ç°æ–¹å¼,å‡å°‘èŒè´£é“¾æœ¬èº«ä¸å¤„ç†é€»è¾‘ä¹‹é—´çš„è€¦åˆï¼Œè§„èŒƒäº†å¤„ç†æµç¨‹ã€‚</li>
<li>HandlerExecutionChainç»´æŠ¤äº†HandlerInterceptor çš„é›†åˆï¼Œå¯ä»¥å‘å…¶ä¸­æ³¨å†Œç›¸åº”çš„æ‹¦æˆªå™¨ã€‚</li>
</ul>
</blockquote>
<h2 id="èŒè´£é“¾æ³¨æ„äº‹é¡¹"><a href="#èŒè´£é“¾æ³¨æ„äº‹é¡¹" class="headerlink" title="èŒè´£é“¾æ³¨æ„äº‹é¡¹"></a>èŒè´£é“¾æ³¨æ„äº‹é¡¹</h2><blockquote>
<ul>
<li>å°†è¯·æ±‚å’Œå¤„ç†åˆ†å¼€ï¼Œå®ç°è§£è€¦ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</li>
<li>ç®€åŒ–äº†å¯¹è±¡ï¼Œä½¿å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚</li>
<li>æ€§èƒ½ä¼šå—åˆ°å½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨é“¾æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œå› æ­¤éœ€æ§åˆ¶é“¾ä¸­æœ€å¤§èŠ‚ç‚¹æ•°é‡ï¼Œä¸€èˆ¬é€šè¿‡åœ¨Handlerä¸­è®¾ç½®ä¸€ä¸ªæœ€å¤§èŠ‚ç‚¹æ•°é‡ï¼Œåœ¨setNext()æ–¹æ³•ä¸­åˆ¤æ–­æ˜¯å¦å·²ç»è¶…è¿‡é˜€å€¼ï¼Œè¶…è¿‡åˆ™ä¸å…è®¸è¯¥é“¾å»ºç«‹ï¼Œé¿å…å‡ºç°è¶…é•¿é“¾æ— æ„è¯†åœ°ç ´åç³»ç»Ÿæ€§èƒ½ã€‚</li>
<li>è°ƒè¯•ä¸æ–¹ä¾¿ã€‚é‡‡ç”¨äº†ç±»ä¼¼é€’å½’çš„æ–¹å¼ï¼Œè°ƒè¯•æ—¶é€»è¾‘å¯èƒ½æ¯”è¾ƒå¤æ‚</li>
<li>æœ€ä½³åº”ç”¨åœºæ™¯ï¼šæœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæ¯”å¦‚ï¼šå¤šçº§è¯·æ±‚ã€è¯·å‡&#x2F;åŠ è–ªç­‰å®¡æ‰¹æµç¨‹ã€Java Webä¸­Tomcatå¯¹Encoding çš„å¤„ç†ã€æ‹¦æˆªå™¨ã€‚</li>
</ul>
</blockquote>
<h1 id="ä»£ç é‡æ„ç¤ºä¾‹"><a href="#ä»£ç é‡æ„ç¤ºä¾‹" class="headerlink" title="ä»£ç é‡æ„ç¤ºä¾‹"></a>ä»£ç é‡æ„ç¤ºä¾‹</h1><h2 id="æ¶ˆé™¤å®¢æˆ·ç«¯è°ƒç”¨æ—¶ç»å¸¸å‡ºç°å¤§é‡çš„-if-else-if-ç»“æ„"><a href="#æ¶ˆé™¤å®¢æˆ·ç«¯è°ƒç”¨æ—¶ç»å¸¸å‡ºç°å¤§é‡çš„-if-else-if-ç»“æ„" class="headerlink" title="æ¶ˆé™¤å®¢æˆ·ç«¯è°ƒç”¨æ—¶ç»å¸¸å‡ºç°å¤§é‡çš„ if -else-if ç»“æ„"></a>æ¶ˆé™¤å®¢æˆ·ç«¯è°ƒç”¨æ—¶ç»å¸¸å‡ºç°å¤§é‡çš„ if -else-if ç»“æ„</h2><h3 id="ç­–ç•¥æ¨¡å¼å®ç°"><a href="#ç­–ç•¥æ¨¡å¼å®ç°" class="headerlink" title="ç­–ç•¥æ¨¡å¼å®ç°"></a>ç­–ç•¥æ¨¡å¼å®ç°</h3><h3 id="èŒè´£é“¾æ¨¡å¼å®ç°"><a href="#èŒè´£é“¾æ¨¡å¼å®ç°" class="headerlink" title="èŒè´£é“¾æ¨¡å¼å®ç°"></a>èŒè´£é“¾æ¨¡å¼å®ç°</h3><h2 id="ä¿ƒé”€æ´»åŠ¨"><a href="#ä¿ƒé”€æ´»åŠ¨" class="headerlink" title="ä¿ƒé”€æ´»åŠ¨"></a>ä¿ƒé”€æ´»åŠ¨</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/JavaScript/" class="post-title-link" itemprop="url">JavaScript</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-26 23:24:27" itemprop="dateModified" datetime="2023-02-26T23:24:27+08:00">2023-02-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id><a href="#" class="headerlink" title></a></h1><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h1 id="JavaScriptç®€ä»‹ï¼ˆç•¥ï¼‰"><a href="#JavaScriptç®€ä»‹ï¼ˆç•¥ï¼‰" class="headerlink" title="JavaScriptç®€ä»‹ï¼ˆç•¥ï¼‰"></a>JavaScriptç®€ä»‹ï¼ˆç•¥ï¼‰</h1><h1 id="JavaScript-æ•°æ®ç±»å‹"><a href="#JavaScript-æ•°æ®ç±»å‹" class="headerlink" title="JavaScript æ•°æ®ç±»å‹"></a>JavaScript æ•°æ®ç±»å‹</h1><p>â€‹		ä¸€èˆ¬è®¤ä¸ºå…­ç§æ•°æ®ç±»å‹ï¼š5ç§åŸºæœ¬æ•°æ®ç±»å‹å’ŒObjectç±»å‹ï¼Œå…¶ä¸­Objectç±»å‹åŒ…æ‹¬å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰ã€‚</p>
<p>åŸºæœ¬æ•°æ®ç±»å‹ï¼šStringã€Numberã€Nullã€Booleanã€Undefined</p>
<p>å¼•ç”¨ç±»å‹ï¼šObjectï¼ˆArrayã€Objectã€Functionï¼‰</p>
<p>å¯ä»¥ä½¿ç”¨typeofæ“ä½œç¬¦æ£€æŸ¥å˜é‡çš„æ•°æ®ç±»å‹ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/HtmlCSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/HtmlCSS/" class="post-title-link" itemprop="url">Html5Css3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-13 00:47:12" itemprop="dateModified" datetime="2023-03-13T00:47:12+08:00">2023-03-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>HTML5CSS3</b></font></div>

<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="ç½‘é¡µæ¦‚è¿°"><a href="#ç½‘é¡µæ¦‚è¿°" class="headerlink" title="ç½‘é¡µæ¦‚è¿°"></a>ç½‘é¡µæ¦‚è¿°</h2><p>â€‹		HTMLï¼š<strong>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHyperText Markup Languageï¼‰</strong></p>
<p>ç½‘é¡µç»“æ„ï¼š</p>
<p>ä¸€ä¸ªç½‘é¡µç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç»“æ„ã€è¡¨ç°ã€è¡Œä¸ºã€‚</p>
<p>ç»“æ„ï¼šä½¿ç”¨HTMLç¼–å†™ï¼Œé¡µé¢çš„æ•´ä½“çš„ç»“æ„ï¼Œå¦‚æ ‡é¢˜ã€æ®µè½ã€å›¾ç‰‡ã€éŸ³è§†é¢‘ç­‰ã€‚</p>
<p>è¡¨ç°ï¼šä½¿ç”¨CSSç¼–å†™ï¼Œé¡µé¢çš„å¤–åœ¨æ ·å¼ï¼Œå­—ä½“ã€é¢œè‰²ã€èƒŒæ™¯ç­‰ã€‚</p>
<p>è¡Œä¸ºï¼šä½¿ç”¨JavaScriptç¼–å†™ï¼Œé¡µé¢ä¸ç”¨æˆ·ä¹‹é—´çš„äº¤äº’è¡Œä¸ºã€‚</p>
<p>ä¸€èˆ¬è¦æ±‚ç»“æ„ã€è¡¨ç°ã€è¡Œä¸ºä¸‰è€…åˆ†ç¦»ã€‚</p>
<p>HTMLä½¿ç”¨æ ‡ç­¾çš„çš„å½¢å¼æ¥æ ‡è¯†ç½‘é¡µä¸­çš„ä¸åŒç»„æˆéƒ¨åˆ†ã€‚   </p>
<p>ç½‘é¡µçš„åŸºæœ¬ç»“æ„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--DOCTYPEå£°æ˜HTMLçš„ç‰ˆæœ¬--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--htmlæ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ï¼Œå°½é‡å…¨éƒ¨å°å†™--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--headæ ‡ç­¾,æ˜¯å¯¹ç½‘é¡µå…ƒæ•°æ®çš„è¯´æ˜ï¼Œä¸€ä¸ªç½‘é¡µåªèƒ½æœ‰ä¸€ä¸ªæ ‡ç­¾--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--titleæ ‡ç­¾ä¸­çš„æ–‡å­—ï¼Œæ˜¯é¡µé¢ä¼˜åŒ–çš„æœ€é‡è¦å› ç´ ã€‚åœ¨æœç´¢å¼•æ“çš„æœç´¢æ—¶æœ€å…ˆçœ‹åˆ°çš„ã€æœ€é†’ç›®çš„å†…å®¹--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>HTMLå…¥é—¨ç¤ºä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--ä½¿ç”¨metaæ ‡ç­¾å¯ä»¥è®¾ç½®ç½‘é¡µçš„å…³é”®å­—--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;HTMLï¼ŒCSSï¼ŒJavaScriptï¼ŒjQuery,Vue&quot;</span>/&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--æŒ‡å®šç½‘é¡µçš„æè¿°ï¼Œæœç´¢å¼•æ“åœ¨æ£€ç´¢é¡µé¢æ—¶ï¼Œä¼šåŒæ—¶æ£€ç´¢é¡µé¢ä¸­çš„å…³é”®è¯å’Œæè¿°ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå€¼ä¸ä¼šå½±å“é¡µé¢åœ¨æœç´¢å¼•æ“ä¸­çš„æ’å--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;HTMLé¡µé¢çš„åŸºæœ¬ç¤ºä¾‹&quot;</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">			ä½¿ç”¨metaå¯ä»¥ç”¨æ¥åšè¯·æ±‚çš„é‡å®šå‘,æŒ‡å®šç§’æ•°ä¹‹åä¼šè·³è½¬åˆ°æŒ‡å®šçš„ç›®æ ‡è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment">			&lt;meta http-equiv=&quot;refresh&quot; content=&quot;ç§’æ•°;url=ç›®æ ‡è·¯å¾„&quot; /&gt;</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;3;url=http://www.baidu.com&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--bodyæ ‡ç­¾ä¸­æ˜¯HTMLé¡µé¢çš„å†…å®¹éƒ¨åˆ†--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--h1æ ‡ç­¾ï¼šæ ‡é¢˜æ ‡ç­¾ï¼Œæ˜¯æœç´¢å¼•æ“æ£€ç´¢çš„é‡è¦æ ‡ç­¾ï¼Œé‡è¦æ€§ä»…æ¬¡äºtitle--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="å¸¸ç”¨æ ‡ç­¾"><a href="#å¸¸ç”¨æ ‡ç­¾" class="headerlink" title="å¸¸ç”¨æ ‡ç­¾"></a>å¸¸ç”¨æ ‡ç­¾</h2><table>
<thead>
<tr>
<th><strong>æ ‡ç­¾å</strong></th>
<th><strong>å®šä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong><hx></hx></strong></td>
<td>æ ‡é¢˜æ ‡ç­¾</td>
</tr>
<tr>
<td><strong><p></p></strong></td>
<td>æ®µè½æ ‡ç­¾</td>
</tr>
<tr>
<td><strong><hr></strong></td>
<td>æ°´å¹³çº¿æ ‡ç­¾</td>
</tr>
<tr>
<td><br></td>
<td>æ¢è¡Œæ ‡ç­¾</td>
</tr>
<tr>
<td><strong><div></div></strong></td>
<td>divæ ‡ç­¾</td>
</tr>
<tr>
<td><strong><span></span></strong></td>
<td>spanæ ‡ç­¾ï¼Œä¸€è¡Œä¸Šå¯ä»¥æ”¾å¤šä¸ªspanï¼Œä¸»è¦ç”¨ä½œæ–‡æœ¬å¤„ç†</td>
</tr>
<tr>
<td><strong><img></strong></td>
<td>å¼•å…¥å›¾ç‰‡</td>
</tr>
<tr>
<td><strong><a></a></strong></td>
<td>è¶…é“¾æ¥æ ‡ç­¾</td>
</tr>
<tr>
<td><strong><pre></pre></strong></td>
<td>é¢„æ ¼å¼åŒ–æ–‡æœ¬ï¼Œä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œï¼Œç‹¬å ä¸€è¡Œ</td>
</tr>
<tr>
<td><strong><center></center></strong></td>
<td>å…ƒç´ å±…ä¸­æ˜¾ç¤º</td>
</tr>
</tbody></table>
<h2 id="å›¾åƒæ ‡ç­¾"><a href="#å›¾åƒæ ‡ç­¾" class="headerlink" title="å›¾åƒæ ‡ç­¾"></a>å›¾åƒæ ‡ç­¾</h2><table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>å±æ€§å€¼æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>src</strong></td>
<td>å›¾ç‰‡çš„è·¯å¾„URI</td>
</tr>
<tr>
<td><strong>alt</strong></td>
<td>æ–‡æœ¬ï¼Œå›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºæ—¶çš„æ›¿æ¢æ–‡æœ¬</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºçš„å†…å®¹</td>
</tr>
<tr>
<td><strong>border</strong></td>
<td>å›¾ç‰‡çš„è¾¹æ¡†</td>
</tr>
<tr>
<td><strong>width</strong></td>
<td>å›¾ç‰‡çš„å®½åº¦</td>
</tr>
<tr>
<td><strong>height</strong></td>
<td>å›¾ç‰‡çš„é«˜åº¦</td>
</tr>
</tbody></table>
<h2 id="æ–‡æœ¬æ ‡ç­¾"><a href="#æ–‡æœ¬æ ‡ç­¾" class="headerlink" title="æ–‡æœ¬æ ‡ç­¾"></a>æ–‡æœ¬æ ‡ç­¾</h2><table>
<thead>
<tr>
<th><strong>æ ‡ç­¾&#x2F;è¯­ä¹‰åŒ–æ ‡ç­¾</strong></th>
<th><strong>è¯­ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong><b></b><strong></strong></strong></td>
<td>æ–‡å­—ä»¥ç²—ä½“æ˜¾ç¤ºï¼ŒXHTMLæ¨èstrong</td>
</tr>
<tr>
<td><strong><i></i><em></em></strong></td>
<td>æ–‡å­—ä»¥æ–œä½“æ˜¾ç¤ºï¼ŒXHTMLæ¨èem</td>
</tr>
<tr>
<td><strong><s></s><del></del></strong></td>
<td>æ–‡å­—ä»¥åˆ é™¤çº¿æ˜¾ç¤ºï¼ŒXHTMLæ¨èdel</td>
</tr>
<tr>
<td><strong><u></u><ins></ins></strong></td>
<td>ä¸‹åˆ’çº¿ï¼ŒXHTMLæ¨èins</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>å¸¸ç”¨æ ‡ç­¾ç¤ºä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;head&quot;</span>&gt;</span>é”šç‚¹head<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span> <span class="attr">name</span>=<span class="string">&quot;head&quot;</span>&gt;</span>é”šç‚¹head<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1æ ‡é¢˜æ ‡ç­¾<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h2</span>&gt;</span>h2æ ‡é¢˜æ ‡ç­¾<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h3</span>&gt;</span>h3æ ‡é¢˜æ ‡ç­¾<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h6</span>&gt;</span>h6æ ‡é¢˜æ ‡ç­¾<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æ®µè½æ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡æœ¬æ ‡ç­¾span<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡æœ¬æ ‡ç­¾span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">			pre			é¢„æ ¼å¼æ–‡æœ¬ã€‚</span><br><span class="line">			å®ƒä¿ç•™äº†      ç©ºæ ¼</span><br><span class="line">			å’Œæ¢è¡Œã€‚</span><br><span class="line">		<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">center</span>&gt;</span>centerå±…ä¸­æ˜¾ç¤º<span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../img/girl_0.jpeg&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">alt</span>=<span class="string">&quot;alt:å›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºæ—¶çš„æ›¿æ¢æ–‡æœ¬&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">title</span>=<span class="string">&quot;titleï¼šé¼ æ ‡æ‚¬åœæ—¶çš„æ˜¾ç¤ºå†…å®¹&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">width</span>=<span class="string">&quot;300px&quot;</span> </span></span><br><span class="line"><span class="tag">             <span class="attr">height</span>=<span class="string">&quot;200px&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">b</span>&gt;</span>b åŠ ç²—<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">i</span>&gt;</span>i å€¾æ–œ<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">s</span>&gt;</span>s åˆ é™¤çº¿<span class="tag">&lt;/<span class="name">s</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">u</span>&gt;</span>u ä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong åŠ ç²—<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">em</span>&gt;</span>em å€¾æ–œ<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">del</span>&gt;</span>del åˆ é™¤çº¿<span class="tag">&lt;/<span class="name">del</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ins</span>&gt;</span>ins ä¸‹åˆ’çº¿<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span>&gt;</span> 1+1<span class="symbol">&amp;lt;</span><span class="symbol">&amp;gt;</span>2<span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;quot;</span><span class="symbol">&amp;copy;</span>china<span class="symbol">&amp;quot;</span><span class="symbol">&amp;nbsp;</span>2<span class="symbol">&amp;times;</span>3<span class="symbol">&amp;divide;</span>1=6</span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">			aæ ‡ç­¾ä¸­çš„targetå±æ€§å¯ä»¥ç”¨æ¥æŒ‡å®šæ‰“å¼€é“¾æ¥çš„ä½ç½®</span></span><br><span class="line"><span class="comment">				å¯é€‰å€¼ï¼š</span></span><br><span class="line"><span class="comment">					_selfï¼Œè¡¨ç¤ºåœ¨å½“å‰çª—å£ä¸­æ‰“å¼€ï¼ˆé»˜è®¤å€¼ï¼‰</span></span><br><span class="line"><span class="comment">					_blankï¼Œåœ¨æ–°çš„çª—å£ä¸­æ‰“å¼€é“¾æ¥</span></span><br><span class="line"><span class="comment">					å¯ä»¥è®¾ç½®ä¸€ä¸ªå†…è”æ¡†æ¶çš„nameå±æ€§å€¼ï¼Œé“¾æ¥å°†ä¼šåœ¨æŒ‡å®šçš„å†…è”æ¡†æ¶ä¸­æ‰“å¼€</span></span><br><span class="line"><span class="comment">		--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;htmlé¡µé¢ç¤ºä¾‹.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>è·³è½¬è‡³htmlé¡µé¢ç¤ºä¾‹.html<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#head&quot;</span>&gt;</span>é”šç‚¹ï¼Œè·³è½¬è‡³ç½‘é¡µé¦–éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;head&quot;</span>&gt;</span>é”šç‚¹ï¼Œè·³è½¬è‡³ç½‘é¡µé¦–éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="é“¾æ¥æ ‡ç­¾"><a href="#é“¾æ¥æ ‡ç­¾" class="headerlink" title="é“¾æ¥æ ‡ç­¾"></a>é“¾æ¥æ ‡ç­¾</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;è·³è½¬ç›®æ ‡&quot;</span> <span class="attr">target</span>=<span class="string">&quot;ç›®æ ‡çª—å£çš„å¼¹å‡ºæ–¹å¼&quot;</span>&gt;</span>æ–‡æœ¬æˆ–å›¾åƒ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>hrefï¼šæŒ‡å®šé“¾æ¥ç›®æ ‡çš„ url åœ°å€ã€‚</p>
<p>targetï¼šæŒ‡å®šé“¾æ¥é¡µé¢çš„æ‰“å¼€æ–¹å¼ï¼Œå…¶å–å€¼æœ‰ self å’Œ blank ä¸¤ç§ï¼Œå…¶ä¸­ _self ä¸ºé»˜è®¤å€¼ï¼Œ__blankä¸ºåœ¨æ–°çª—å£ä¸­æ‰“å¼€æ–¹å¼ã€‚</p>
<p>â€‹				åŒæ—¶å¯ä»¥è®¾ç½®ä¸€ä¸ªå†…è”æ¡†æ¶çš„ name å±æ€§å€¼ï¼Œé“¾æ¥å°†ä¼šåœ¨æŒ‡å®šçš„å†…è”æ¡†æ¶ä¸­æ‰“å¼€ã€‚</p>
<p>é”šç‚¹å®šä½ï¼šé€šè¿‡åˆ›å»ºé”šç‚¹é“¾æ¥ï¼Œç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°ç›®æ ‡å†…å®¹ã€‚</p>
<p>å¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š<strong>ä¸€ç§ä½¿ç”¨idå’Œidé€‰æ‹©å™¨ï¼Œå¦ä¸€ç§ä½¿ç”¨nameå’Œtargetè·³è½¬ã€‚</strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	1.	ä½¿ç”¨ç›¸åº”çš„idåæ ‡æ³¨è·³è½¬ç›®æ ‡çš„ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment">	2.	ä½¿ç”¨&lt;a href=&quot;#idå&quot;&gt;é“¾æ¥æ–‡æœ¬&lt;/a&gt;åˆ›å»ºé“¾æ¥æ–‡æœ¬ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;head&quot;</span>&gt;</span>HEAD<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">name</span>=<span class="string">&quot;head&quot;</span>&gt;</span>HEAD<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#head&quot;</span>&gt;</span>To HEAD</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">target</span>=<span class="string">&quot;head &quot;</span>&gt;</span>To HEAD</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p>æ— åºåˆ—è¡¨ï¼š</p>
<p>å±æ€§ï¼š<strong>type</strong></p>
<p>æ ‡è®°çš„æ ·å¼ï¼šç©ºå¿ƒåœ†ã€å®å¿ƒåœ†ã€çŸ©å½¢ã€‚</p>
<p>æœ‰åºåˆ—è¡¨ olï¼š</p>
<p>å±æ€§ï¼š<strong>type</strong></p>
<p>æ ‡è®°çš„æ ·å¼ï¼šæ•°å­—ã€å­—æ¯ã€ç½—é©¬æ•°å­—ã€‚</p>
<p>è‡ªå®šä¹‰åˆ—è¡¨dlï¼š</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">type</span>=<span class="string">&quot;square&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Orange<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Apple<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æŸ æª¬<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ©˜å­<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>è‹¹æœ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>é¦™è•‰<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        å®šä¹‰åˆ—è¡¨ç”¨æ¥å¯¹ä¸€äº›è¯æ±‡æˆ–å†…å®¹è¿›è¡Œå®šä¹‰</span></span><br><span class="line"><span class="comment">        ä½¿ç”¨dlæ¥åˆ›å»ºä¸€ä¸ªå®šä¹‰åˆ—è¡¨</span></span><br><span class="line"><span class="comment">            dlä¸­æœ‰ä¸¤ä¸ªå­æ ‡ç­¾</span></span><br><span class="line"><span class="comment">                dt ï¼š è¢«å®šä¹‰çš„å†…å®¹ï¼Œtitle</span></span><br><span class="line"><span class="comment">                dd ï¼š å¯¹å®šä¹‰å†…å®¹çš„æè¿°ï¼Œdescription</span></span><br><span class="line"><span class="comment">        åŒæ ·dlå’Œulå’Œolä¹‹é—´éƒ½å¯ä»¥äº’ç›¸åµŒå¥—		</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>é¢œè‰²<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>çº¢<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>ç»¿<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>çˆ±å¥½<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p><strong>ä½œç”¨ï¼šæ˜¾ç¤ºæ•°æ®ã€‚åŒ…æ‹¬<table>ã€<tr>ã€<td>ã€<th>ã€<caption>ã€<thead>ã€<tbody>ã€<tfoot>ã€‚</tfoot></tbody></thead></caption></th></td></tr></table></strong></p>
<p>â€‹		é¦–å…ˆ<caption>å’Œ<th>åˆ†åˆ«è¡¨ç¤ºè¡¨æ ¼çš„æ ‡é¢˜å’Œè¡¨å¤´ï¼Œ</th><th><strong>ä¸€èˆ¬è¡¨å¤´å•å…ƒæ ¼ä½äºè¡¨æ ¼çš„ç¬¬ä¸€è¡Œæˆ–ç¬¬ä¸€åˆ—ï¼Œå¹¶ä¸”æ–‡æœ¬åŠ ç²—å±…ä¸­ã€‚</strong></th></caption></p>
<p>å¯¹äºæ¯”è¾ƒå¤æ‚çš„è¡¨æ ¼ï¼Œåˆå°†è¡¨æ ¼åˆ†å‰²æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šé¢˜å¤´ã€æ­£æ–‡å’Œè„šæ³¨ã€‚åˆ†åˆ«ç”¨ï¼š theadï¼Œtbodyï¼Œtfootæ¥æ ‡æ³¨ï¼Œè¿™æ ·æ›´å¥½çš„åˆ†æ¸…è¡¨æ ¼ç»“æ„ã€‚</p>
<thead>ï¼š ç”¨äºå®šä¹‰è¡¨æ ¼çš„å¤´éƒ¨ã€‚ç”¨æ¥æ”¾æ ‡é¢˜ä¹‹ç±»çš„ä¸œè¥¿ã€‚**<thead> å†…éƒ¨å¿…é¡»æ‹¥æœ‰<tr> æ ‡ç­¾ã€‚**

<tbody>ï¼šç”¨äºå®šä¹‰è¡¨æ ¼çš„ä¸»ä½“ã€‚

<tfoot>ï¼šæ”¾è¡¨æ ¼çš„è„šæ³¨ä¹‹ç±»ã€‚

<p><strong>è¡¨æ ¼å±æ€§:</strong></p>
<table>
<thead>
<tr>
<th><strong>å±æ€§å</strong></th>
<th><strong>å«ä¹‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>border</strong></td>
<td>è®¾ç½®è¾¹æ¡†</td>
</tr>
<tr>
<td><strong>bordercolor</strong></td>
<td>è¾¹æ¡†é¢œè‰²</td>
</tr>
<tr>
<td><strong>cellspacing</strong></td>
<td>è®¾ç½®å•å…ƒæ ¼ä¸å•å…ƒæ ¼è¾¹æ¡†ä¹‹é—´çš„è·ç¦»ï¼Œé»˜è®¤2åƒç´ ã€‚</td>
</tr>
<tr>
<td><strong>cellpadding</strong></td>
<td>è®¾ç½®å•å…ƒæ ¼å†…å®¹ä¸å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»ï¼Œé»˜è®¤1åƒç´ ã€‚</td>
</tr>
<tr>
<td><strong>width</strong></td>
<td>è®¾ç½®è¡¨æ ¼çš„å®½åº¦</td>
</tr>
<tr>
<td><strong>height</strong></td>
<td>è®¾ç½®è¡¨æ ¼çš„é«˜åº¦</td>
</tr>
<tr>
<td><strong>align</strong></td>
<td>tdï¼šå•å…ƒæ ¼å†…å®¹å¯¹é½æ–¹å¼  trï¼šå½“å‰è¡Œå†…å®¹çš„å¯¹é½æ–¹å¼  tableï¼šè¡¨ç¤ºå•å…ƒæ ¼çš„å¯¹é½æ–¹å¼</td>
</tr>
<tr>
<td><strong>bgcolor</strong></td>
<td>èƒŒæ™¯é¢œè‰²ï¼Œtableï¼Œtrï¼Œtd</td>
</tr>
<tr>
<td><strong>background</strong></td>
<td>èƒŒæ™¯ï¼Œtableï¼Œtrï¼Œtdï¼Œå»ºè®®åœ¨CSSä¸­è®¾ç½®ã€‚background-size: 100%;</td>
</tr>
<tr>
<td><strong>colspan</strong></td>
<td>åˆå¹¶åˆ—</td>
</tr>
<tr>
<td><strong>rowspan</strong></td>
<td>åˆå¹¶è¡Œ</td>
</tr>
<tr>
<td><strong>text-align</strong></td>
<td>è®¾ç½®æ–‡æœ¬çš„æ°´å¹³å¯¹é½ã€‚å¯é€‰å€¼ï¼štopã€baselineã€middleã€bottomã€‚</td>
</tr>
<tr>
<td><strong>vertical-align</strong></td>
<td>è®¾ç½®æ–‡æœ¬çš„å‚ç›´å¯¹é½ã€‚</td>
</tr>
<tr>
<td><strong>border-spacing</strong></td>
<td>è¾¹æ¡†é—´è·</td>
</tr>
<tr>
<td><strong>border-collapse</strong></td>
<td>collapseï¼šåˆå¹¶è¾¹æ¡†ï¼Œseparateï¼šä¸åˆå¹¶è¾¹æ¡†ï¼Œ<strong>åœ¨CSSä¸­è®¾ç½®</strong>ã€‚</td>
</tr>
</tbody></table>
<p>è¡¨æ ¼ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#t</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./img/01.jpeg</span>);</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* ä½¿å›¾ç‰‡æŒ‰è¡¨æ ¼å°ºå¯¸å¡«å…… */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-size</span>: <span class="number">100%</span> ;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">cellpadding</span>=<span class="string">&quot;2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">caption</span>&gt;</span>æ ‡ é¢˜<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span>HEAD A<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span>HEAD B<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span>HEAD C<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span>HEAD D<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell AA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell AB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell AC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell AD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell BA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell BB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell BC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell BD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell CA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell CB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell CC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell CD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell DA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell DB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell DC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell DD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ€»è®¡<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;3&quot;</span>&gt;</span>10000.00å…ƒ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;t&quot;</span> <span class="attr">border</span>=<span class="string">&quot;1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">caption</span>&gt;</span>å•å…ƒæ ¼çš„åˆå¹¶<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell AA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell AB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell AC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell BB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell BD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell CA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell CB<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell CD<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Cell DA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Cell DC<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h2><h3 id="form"><a href="#form" class="headerlink" title="form"></a>form</h3><table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>å±æ€§å€¼</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>action</strong></td>
<td>URL</td>
<td>è¡¨å•æ•°æ®çš„æäº¤åœ°å€</td>
</tr>
<tr>
<td><strong>method</strong></td>
<td></td>
<td>è§„å®šå¦‚ä½•å‘é€è¡¨å•æ•°æ®</td>
</tr>
<tr>
<td><strong>target</strong></td>
<td>_blank  _self  framename</td>
<td>è§„å®šåœ¨ä½•å¤„æ‰“å¼€  action URL</td>
</tr>
<tr>
<td><strong>enctype</strong></td>
<td></td>
<td>æ–‡ä»¶ä¸Šä¼ ä¹‹å‰è¿›è¡Œç¼–ç </td>
</tr>
<tr>
<td><strong>name</strong></td>
<td></td>
<td>ç”¨äºæŒ‡å®šè¡¨å•çš„åç§°ï¼Œä»¥åŒºåˆ†åŒä¸€ä¸ªé¡µé¢ä¸­çš„å¤šä¸ªè¡¨å•ã€‚</td>
</tr>
</tbody></table>
<p><strong>methodçš„è¯´æ˜ï¼š</strong></p>
<p>getï¼šå£°æ˜æœ¬æ¬¡è¯·æ±‚çš„ç›®çš„æ˜¯ä»æœåŠ¡å™¨è·å–æ•°æ®ã€‚</p>
<p>postï¼šå£°æ˜æœ¬æ¬¡è¯·æ±‚çš„ç›®çš„æ˜¯å‘æœåŠ¡å™¨æ¨é€æ•°æ®ã€‚</p>
<p>ä¸¤è€…åŒºåˆ«ï¼š</p>
<ol>
<li><p>å®‰å…¨æ€§ï¼šgetè¯·æ±‚åœ¨åœ°å€æ æ˜¾ç¤ºä¿¡æ¯ï¼Œä¸å®‰å…¨ã€‚</p>
</li>
<li><p>æäº¤æ•°æ®çš„é•¿åº¦ä¸åŒï¼šgetä¸è¶…è¿‡255ä¸ªå­—ç¬¦ï¼Œpostä¸å—é™åˆ¶ã€‚</p>
</li>
<li><p>ç¼“å­˜æœºåˆ¶ï¼šgetçš„è¯·æ±‚åœ°å€ä¼šä¿å­˜åœ¨æµè§ˆå™¨çš„è®¿é—®å†å²è®°å½•ä¸­ã€‚</p>
</li>
</ol>
<p><strong>enctypeçš„è¯´æ˜ï¼š</strong></p>
<table>
<thead>
<tr>
<th><strong>å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>application&#x2F;x-www-form-urlencoded</td>
<td>åœ¨å‘é€å‰ç¼–ç æ‰€æœ‰å­—ç¬¦ï¼ˆé»˜è®¤ï¼‰ï¼Œä½¿ç”¨URLç¼–ç æ–¹å¼è¿›è¡Œç¼–ç ï¼ŒæœåŠ¡å™¨é€šè¿‡URLæ–¹å¼è§£ç å³å¯ï¼Œ<strong>è¡¨å•ä¸­ä¸éœ€è¦ä¼ é€’æ–‡ä»¶æ—¶ä½¿ç”¨</strong></td>
</tr>
<tr>
<td>multipart&#x2F;form-data</td>
<td>ä¸å¯¹å­—ç¬¦ç¼–ç ã€‚å› æ­¤åœ¨æœåŠ¡å™¨ç«¯éœ€è¦è¿›è¡Œç‰¹æ®Šçš„è§£ç ã€‚  <strong>åœ¨ä½¿ç”¨åŒ…å«æ–‡ä»¶ä¸Šä¼ æ§ä»¶çš„è¡¨å•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¯¥å€¼ã€‚</strong></td>
</tr>
<tr>
<td>text&#x2F;plain</td>
<td>ç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ åŠ å·ï¼Œä½†ä¸å¯¹ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚</td>
</tr>
</tbody></table>
<h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>å±æ€§å€¼</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>type</strong></td>
<td>text</td>
<td>æ–‡æœ¬</td>
</tr>
<tr>
<td>password</td>
<td>å¯†ç </td>
<td></td>
</tr>
<tr>
<td>radio</td>
<td>å•é€‰æ¡†</td>
<td></td>
</tr>
<tr>
<td>checkbox</td>
<td>å¤é€‰æ¡†</td>
<td></td>
</tr>
<tr>
<td>button</td>
<td>æ™®é€šæŒ‰é’®</td>
<td></td>
</tr>
<tr>
<td>submit</td>
<td>æäº¤</td>
<td></td>
</tr>
<tr>
<td>reset</td>
<td>é‡ç½®</td>
<td></td>
</tr>
<tr>
<td>image</td>
<td>å›¾åƒ</td>
<td></td>
</tr>
<tr>
<td>file</td>
<td>æ–‡ä»¶åŸŸ</td>
<td></td>
</tr>
<tr>
<td><strong>name</strong></td>
<td></td>
<td>æ§ä»¶åç§°</td>
</tr>
<tr>
<td><strong>value</strong></td>
<td></td>
<td>æ§ä»¶çš„é»˜è®¤å€¼</td>
</tr>
<tr>
<td><strong>size</strong></td>
<td></td>
<td>æ§ä»¶çš„æ˜¾ç¤ºå®½åº¦</td>
</tr>
<tr>
<td><strong>checked</strong></td>
<td></td>
<td>æ§ä»¶æ˜¯å¦æ˜¾ç¤º</td>
</tr>
<tr>
<td><strong>maxlength</strong></td>
<td></td>
<td>æ§ä»¶çš„æœ€å¤§å®½åº¦</td>
</tr>
<tr>
<td><strong>placeholder</strong></td>
<td></td>
<td>è¾“å…¥æ¡†çš„æç¤ºæ–‡å­—ï¼Œå½“æ²¡æœ‰valueæ—¶æ˜¾ç¤º</td>
</tr>
<tr>
<td><strong>required</strong></td>
<td></td>
<td>éç©ºæ ¡éªŒï¼Œå¿…é¡»å¡«å†™</td>
</tr>
<tr>
<td><strong>list</strong></td>
<td></td>
<td>æ­é…datalistï¼Œé¢„å®šä¹‰çš„æ•°æ®</td>
</tr>
<tr>
<td><strong>color</strong></td>
<td></td>
<td>åŒæ‹¾è‰²å™¨</td>
</tr>
<tr>
<td><strong>email</strong></td>
<td></td>
<td>æ•°æ®çš„åˆæ³•æ€§éªŒè¯</td>
</tr>
<tr>
<td><strong>datetime-local</strong></td>
<td></td>
<td>æ—¥æœŸ</td>
</tr>
<tr>
<td><strong>image</strong></td>
<td></td>
<td>ä½¿ç”¨å›¾ç‰‡æäº¤è¡¨å•</td>
</tr>
<tr>
<td><strong>number</strong></td>
<td></td>
<td>æ ¡éªŒã€å¿…é¡»æ˜¯çº¯æ•°å­—</td>
</tr>
<tr>
<td><strong>file</strong></td>
<td></td>
<td>æ–‡ä»¶åŸŸ</td>
</tr>
<tr>
<td><strong>hidden</strong></td>
<td></td>
<td>éšè—åŸŸï¼Œå¯ä»¥æäº¤ä¸å¸Œæœ›ç”¨æˆ·çœ‹åˆ°çš„æ•°æ®</td>
</tr>
<tr>
<td><strong>readonlyã€disabled</strong></td>
<td></td>
<td>ä¸èƒ½ä¿®æ”¹</td>
</tr>
</tbody></table>
<p><strong>è¡¨å•å±æ€§çš„æ¯”è¾ƒï¼š</strong></p>
<p><strong>readonlyï¼šä¸èƒ½ä¿®æ”¹ï¼Œreadonlyæ²¡æœ‰å˜åŒ–ï¼Œå¯ä»¥è¢«è¡¨å•æäº¤ã€‚</strong></p>
<p><strong>disabledï¼šä¸èƒ½ä¿®æ”¹ï¼Œdisabledæ˜¾ç¤ºç°è‰²ï¼Œä¸ä¼šç»è¿‡è¡¨å•çš„æäº¤ã€‚</strong></p>
<p><strong>å±æ€§ä¸ºimageæ—¶ï¼Œç±»ä¼¼äºsubmitæŒ‰é’®ã€‚</strong></p>
<p>Imageï¼š<input type="image" src="../img/girl_0.jpeg" width="80px" height="60px"></p>
<p>list å±æ€§ï¼Œå’Œ datalist æ ‡ç­¾æ­é…ä½¿ç”¨ï¼Œåªèƒ½é€‰æ‹©é¢„å®šä¹‰çš„å€¼ã€‚</p>
<p>value å’Œ placeholder ä¸è¦åŒæ—¶ä½¿ç”¨ï¼Œä»¥ value ä¸ºå‡†ã€‚</p>
<h3 id="datalist"><a href="#datalist" class="headerlink" title="datalist"></a>datalist</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">list</span>=<span class="string">&quot;nameList&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;nameList&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span>&gt;</span>jerry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span>&gt;</span>jack<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span>&gt;</span>rose<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p><strong>option</strong>è¡¨ç¤ºä¸‹æ‹‰åˆ—è¡¨ä¸­çš„åˆ—è¡¨é¡¹ã€‚<strong>optgroup</strong>ç”¨äºä¸ºåˆ—è¡¨é¡¹åˆ†ç»„ã€‚</p>
<p>å¯ä»¥æŒ‡å®šé¢„é€‰å€¼ï¼šselected&#x3D;â€selectedâ€ã€‚</p>
<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>size</strong></td>
<td>æ§åˆ¶ä¸‹æ‹‰æ¡†ä¸€æ¬¡æ˜¾ç¤ºçš„è¡Œæ•°</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>æäº¤çš„æ•°æ®</td>
</tr>
<tr>
<td><strong>multiple</strong></td>
<td>æ˜¯optionå¤šé€‰</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>åœ°å€ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨æ„ï¼š åŠ ä¸Šmultiple=&quot;multiple&quot;ï¼Œä¸ä¼šéšè—ä¸‹æ‹‰æ¡†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">multiple</span>=<span class="string">&quot;multiple&quot;</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> &gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span>&gt;</span>shanxi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>gansu<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>henan<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="file"><a href="#file" class="headerlink" title="file"></a>file</h3><p>â€‹		æ–‡ä»¶çš„ä¸Šä¼ <strong>æ”¯æŒå¤šé€‰</strong>ã€‚formè¡¨å•çš„æäº¤æ–¹å¼ä¸ºmultipart&#x2F;form-dataã€‚</p>
<h3 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a>textarea</h3><p>â€‹		ä¸æ”¯æŒvalueå±æ€§ï¼Œå¯æŒ‡å®šcolså’Œrowså±æ€§ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">	<span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">vertical-align</span>: top;</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>ä»‹ç»ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å¤‡æ³¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>labelæ ‡ç­¾ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒã€‚</p>
<p>ç¬¬ä¸€ç§ç”¨æ³•å°±æ˜¯ç”¨labelç›´æ¥åŒ…æ‹¬inputè¡¨å•ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span> ç”¨æˆ·åï¼š <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ç”¨æ³• for å±æ€§è§„å®š label ä¸å“ªä¸ªè¡¨å•å…ƒç´ ç»‘å®šã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sex&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="fieldset"><a href="#fieldset" class="headerlink" title="fieldset"></a>fieldset</h3><p>fieldset ç”¨æ¥ä¸ºè¡¨å•é¡¹è¿›è¡Œåˆ†ç»„ã€‚</p>
<p>legend ç”¨äºæŒ‡å®šæ¯ç»„çš„åå­—ï¼Œæ­é… legend å®šä¹‰ fieldset çš„åˆ†ç±»æ ‡é¢˜ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">legend</span>&gt;</span>ä¸ªäººä¿¡æ¯<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>å§“åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span>&gt;</span>ç”µè¯ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">legend</span>&gt;</span>å·¥ä½œç»å†<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>èŒä½ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">label</span>&gt;</span>ç»©æ•ˆï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">			<span class="selector-tag">span</span>&#123;</span></span><br><span class="line"><span class="language-css">				<span class="attribute">vertical-align</span>: top;</span></span><br><span class="line"><span class="language-css">			&#125;</span></span><br><span class="line"><span class="language-css">		</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--é»˜è®¤æäº¤æ–¹å¼ä¸ºgetè¯·æ±‚--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;registform&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/servletdemo/registServlet&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!--valueå’Œplaceholderä¸è¦åŒæ—¶ä½¿ç”¨ï¼Œä»¥valueä¸ºå‡†--&gt;</span></span><br><span class="line">			å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“å&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">			å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;passwd&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">			æ€§åˆ«ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span> &gt;</span>ç”·</span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å¥³ <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			çˆ±å¥½ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">checked</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Java</span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>Go</span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>Python</span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;4&quot;</span>&gt;</span>C++</span><br><span class="line">				<span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>åœ°å€ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!--æ³¨æ„ï¼š åŠ ä¸Šmultiple=&quot;multiple&quot;ï¼Œä¸ä¼šéšè—ä¸‹æ‹‰æ¡†--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">multiple</span>=<span class="string">&quot;multiple&quot;</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> &gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span>&gt;</span>shanxi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>gansu<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>henan<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			ç”Ÿæ—¥ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">name</span>=<span class="string">&quot;birthday&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			é¢œè‰²ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">			é‚®ç®±ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			<span class="comment">&lt;!--type=imageï¼Œç‚¹å‡»å›¾åƒä¼šæäº¤è¡¨å•ï¼Œç±»ä¼¼äºsubmit--&gt;</span></span><br><span class="line">			Imageï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../img/girl_0.jpeg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;80px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;60px&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			å¤´åƒï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;id&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>ä»‹ç»ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å¤‡æ³¨&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ™®é€šæŒ‰é’®&quot;</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é‡ç½®&quot;</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">			å§“åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">list</span>=<span class="string">&quot;nameList&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;nameList&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>jerry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>jack<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">option</span>&gt;</span>rose<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">legend</span>&gt;</span>ä¸ªäººä¿¡æ¯<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>å§“åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">label</span>&gt;</span>ç”µè¯ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">legend</span>&gt;</span>å·¥ä½œç»å†<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>èŒä½ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">label</span>&gt;</span>ç»©æ•ˆï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h2><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h2 id="ä¸‰ç§å¼•å…¥æ–¹å¼"><a href="#ä¸‰ç§å¼•å…¥æ–¹å¼" class="headerlink" title="ä¸‰ç§å¼•å…¥æ–¹å¼"></a>ä¸‰ç§å¼•å…¥æ–¹å¼</h2><p>å†…åµŒå¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å†…åµŒæ ·å¼è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px dashed;&quot;</span>&gt;</span></span><br><span class="line">	Hello World!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å†…è”å¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">	<span class="comment">/*å†…è”æ ·å¼è¡¨*/</span></span></span><br><span class="line"><span class="language-css">	<span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">		<span class="attribute">background-color</span>: greenyellow;</span></span><br><span class="line"><span class="language-css">	&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¤–è”å¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¤–éƒ¨æ ·å¼è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;outer.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>å±æ€§</strong></th>
<th><strong>ä½œç”¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>rel</strong></td>
<td>å®šä¹‰å½“å‰æ–‡æ¡£ä¸è¢«é“¾æ¥æ–‡æ¡£ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨è¿™é‡Œéœ€è¦æŒ‡å®šä¸ºâ€œstylesheetâ€ï¼Œè¡¨ç¤ºè¢«é“¾æ¥çš„æ–‡æ¡£æ˜¯ä¸€ä¸ªæ ·å¼è¡¨æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td><strong>type</strong></td>
<td>å®šä¹‰æ‰€é“¾æ¥æ–‡æ¡£çš„ç±»å‹ï¼Œåœ¨è¿™é‡Œéœ€è¦æŒ‡å®šä¸ºâ€œtext&#x2F;cssâ€ï¼Œè¡¨ç¤ºé“¾æ¥çš„å¤–éƒ¨æ–‡ä»¶ä¸ºCSSæ ·å¼è¡¨ã€‚éƒ½å¯ä»¥çœç•¥</td>
</tr>
<tr>
<td><strong>href</strong></td>
<td>å®šä¹‰æ‰€é“¾æ¥å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶çš„URLï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚</td>
</tr>
</tbody></table>
<h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><h3 id="æ ‡ç­¾é€‰æ‹©å™¨"><a href="#æ ‡ç­¾é€‰æ‹©å™¨" class="headerlink" title="æ ‡ç­¾é€‰æ‹©å™¨"></a>æ ‡ç­¾é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* æ ‡ç­¾é€‰æ‹©å™¨ */</span><br><span class="line"></span><br><span class="line">h1 &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="IDé€‰æ‹©å™¨"><a href="#IDé€‰æ‹©å™¨" class="headerlink" title="IDé€‰æ‹©å™¨"></a>IDé€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* idé€‰æ‹©å™¨ */</span><br><span class="line"></span><br><span class="line">#p1 &#123;</span><br><span class="line">  color: salmon; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç±»é€‰æ‹©å™¨"><a href="#ç±»é€‰æ‹©å™¨" class="headerlink" title="ç±»é€‰æ‹©å™¨"></a>ç±»é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* ç±»é€‰æ‹©å™¨ */</span><br><span class="line"></span><br><span class="line">.p2 &#123;</span><br><span class="line">  color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é€šé…ç¬¦é€‰æ‹©å™¨"><a href="#é€šé…ç¬¦é€‰æ‹©å™¨" class="headerlink" title="é€šé…ç¬¦é€‰æ‹©å™¨"></a>é€šé…ç¬¦é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* é€šé…ç¬¦é€‰æ‹©å™¨ */</span><br><span class="line"></span><br><span class="line">* &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤åˆ-x2F-å¹¶é›†é€‰æ‹©å™¨"><a href="#å¤åˆ-x2F-å¹¶é›†é€‰æ‹©å™¨" class="headerlink" title="å¤åˆ&#x2F;å¹¶é›†é€‰æ‹©å™¨"></a>å¤åˆ&#x2F;å¹¶é›†é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/* å¤åˆé€‰æ‹©å™¨ */</span><br><span class="line"></span><br><span class="line">#p1,</span><br><span class="line">.p2,</span><br><span class="line">h1 &#123;</span><br><span class="line">  background-color: yellowgreen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äº¤é›†é€‰æ‹©å™¨ï¼ˆä¸éœ€è¦ç©ºæ ¼éš”å¼€ï¼‰"><a href="#äº¤é›†é€‰æ‹©å™¨ï¼ˆä¸éœ€è¦ç©ºæ ¼éš”å¼€ï¼‰" class="headerlink" title="äº¤é›†é€‰æ‹©å™¨ï¼ˆä¸éœ€è¦ç©ºæ ¼éš”å¼€ï¼‰"></a>äº¤é›†é€‰æ‹©å™¨ï¼ˆä¸éœ€è¦ç©ºæ ¼éš”å¼€ï¼‰</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/* äº¤é›†é€‰æ‹©å™¨ï¼šæ²¡æœ‰ç©ºæ ¼ï¼Œidä¸º p3 çš„span */</span><br><span class="line"></span><br><span class="line">span.p3 &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">  color: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p#p1 &#123;</span><br><span class="line">  background-color: hotpink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åä»£é€‰æ‹©å™¨"><a href="#åä»£é€‰æ‹©å™¨" class="headerlink" title="åä»£é€‰æ‹©å™¨"></a>åä»£é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* åä»£é€‰æ‹©å™¨ */</span><br><span class="line">#d1 span &#123;</span><br><span class="line">    color: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆIE6åŠä»¥ä¸‹ä¸æ”¯æŒï¼‰"><a href="#å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆIE6åŠä»¥ä¸‹ä¸æ”¯æŒï¼‰" class="headerlink" title="å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆIE6åŠä»¥ä¸‹ä¸æ”¯æŒï¼‰"></a>å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆIE6åŠä»¥ä¸‹ä¸æ”¯æŒï¼‰</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/* å­å…ƒç´ é€‰æ‹©å™¨</span><br><span class="line">    IE6åŠä»¥ä¸‹çš„æµè§ˆå™¨ä¸æ”¯æŒå­å…ƒç´ é€‰æ‹©å™¨</span><br><span class="line">*/</span><br><span class="line">div&gt;span &#123;</span><br><span class="line">    background-color: yellowgreen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§é€‰æ‹©å™¨"><a href="#å±æ€§é€‰æ‹©å™¨" class="headerlink" title="å±æ€§é€‰æ‹©å™¨"></a>å±æ€§é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">   <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * ä¸ºæ‰€æœ‰å…·æœ‰titleå±æ€§çš„på…ƒç´ ï¼Œè®¾ç½®ä¸€ä¸ªèƒŒæ™¯é¢œè‰²ä¸ºé»„è‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * titleå±æ€§,é¼ æ ‡ç§»å…¥æ˜¾ç¤ºå†…å®¹</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * å±æ€§é€‰æ‹©å™¨</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *    ä½œç”¨ï¼šå¯ä»¥æ ¹æ®å…ƒç´ ä¸­çš„å±æ€§æˆ–å±æ€§å€¼æ¥é€‰å–æŒ‡å®šå…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *    è¯­æ³•ï¼š</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      [å±æ€§å] é€‰å–å«æœ‰æŒ‡å®šå±æ€§çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      [å±æ€§å=&quot;å±æ€§å€¼&quot;] é€‰å–å«æœ‰æŒ‡å®šå±æ€§å€¼çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      [å±æ€§å^=&quot;å±æ€§å€¼&quot;] é€‰å–å±æ€§å€¼ä»¥æŒ‡å®šå†…å®¹å¼€å¤´çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      [å±æ€§å$=&quot;å±æ€§å€¼&quot;] é€‰å–å±æ€§å€¼ä»¥æŒ‡å®šå†…å®¹ç»“å°¾çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      [å±æ€§å*=&quot;å±æ€§å€¼&quot;] é€‰å–å±æ€§å€¼ä»¥åŒ…å«æŒ‡å®šå†…å®¹çš„å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">   */</span></span></span><br><span class="line"><span class="language-css">   <span class="selector-tag">p</span><span class="selector-attr">[title]</span> &#123;</span></span><br><span class="line"><span class="language-css">       <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-tag">p</span><span class="selector-attr">[title=<span class="string">&quot;hello&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="language-css">       <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-tag">p</span><span class="selector-attr">[title^=<span class="string">&quot;ab&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="language-css">       <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-tag">p</span><span class="selector-attr">[title$=<span class="string">&quot;c&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="language-css">       <span class="attribute">background-color</span>: turquoise;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-tag">p</span><span class="selector-attr">[title*=<span class="string">&quot;c&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="language-css">       <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;abbc&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;abccd&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¼ªç±»é€‰æ‹©å™¨"><a href="#ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="ä¼ªç±»é€‰æ‹©å™¨"></a>ä¼ªç±»é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            * ä¼ªç±»ä¸“é—¨ç”¨æ¥è¡¨ç¤ºå…ƒç´ çš„ä¸€ç§çš„ç‰¹æ®Šçš„çŠ¶æ€ï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            *   æ¯”å¦‚ï¼šè®¿é—®è¿‡çš„è¶…é“¾æ¥ï¼Œæ¯”å¦‚æ™®é€šçš„è¶…é“¾æ¥ï¼Œæ¯”å¦‚è·å–ç„¦ç‚¹çš„æ–‡æœ¬æ¡†</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            * å½“æˆ‘ä»¬éœ€è¦ä¸ºå¤„åœ¨è¿™äº›ç‰¹æ®ŠçŠ¶æ€çš„å…ƒç´ è®¾ç½®æ ·å¼æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¼ªç±»</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-css">            ç»™æœªè®¿é—®çš„é“¾æ¥è®¾ç½®é¢œè‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-css">            ä¸ºè®¿é—®è¿‡çš„é“¾æ¥è®¾ç½®é¢œè‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-css">            é¼ æ ‡ç§»å…¥æ—¶çš„çŠ¶æ€</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-css">            è¶…é“¾æ¥è¢«ç‚¹å‡»æ—¶çš„çŠ¶æ€</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             * :hoverå’Œ:activeä¹Ÿå¯ä»¥ä¸ºå…¶ä»–å…ƒç´ è®¾ç½®</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             * IE6ä¸­ï¼Œä¸æ”¯æŒå¯¹è¶…é“¾æ¥ä»¥å¤–çš„å…ƒç´ è®¾ç½®:hoverå’Œ:active</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             */</span></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            p:hover&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">                background-color: yellow;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            </span></span></span><br><span class="line"><span class="comment"><span class="language-css">            p:active&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">                background-color: orange;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            * æ–‡æœ¬æ¡†è·å–ç„¦ç‚¹ä»¥åï¼Œä¿®æ”¹èƒŒæ™¯é¢œè‰²ä¸ºé»„è‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             * ä¸ºpæ ‡ç­¾ä¸­é€‰ä¸­çš„å†…å®¹ã€é¼ æ ‡é€‰ä¸­ã€‘ä½¿ç”¨æ ·å¼</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             *  å¯ä»¥ä½¿ç”¨::selectionä¸ºç±»</span></span></span><br><span class="line"><span class="comment"><span class="language-css">             *  æ³¨æ„ï¼šè¿™ä¸ªä¼ªç±»åœ¨ç«ç‹ä¸­éœ€è¦é‡‡ç”¨å¦ä¸€ç§æ–¹å¼ç¼–å†™::-moz-selection</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            * å…¼å®¹å¤§éƒ¨åˆ†æµè§ˆå™¨çš„</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">::selection</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* p::-moz-selection &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            background-color: orange;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        &#125; */</span></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>é“¾æ¥1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.jd.com&quot;</span>&gt;</span>é“¾æ¥2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ä¼ªå…ƒç´ ä¸å¦å®šä¼ªç±»ï¼ˆè¡¥å……ä¼ªç±»ï¼‰"><a href="#ä¼ªå…ƒç´ ä¸å¦å®šä¼ªç±»ï¼ˆè¡¥å……ä¼ªç±»ï¼‰" class="headerlink" title="ä¼ªå…ƒç´ ä¸å¦å®šä¼ªç±»ï¼ˆè¡¥å……ä¼ªç±»ï¼‰"></a>ä¼ªå…ƒç´ ä¸å¦å®šä¼ªç±»ï¼ˆè¡¥å……ä¼ªç±»ï¼‰</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * ä¸ºpä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦æ¥è®¾ç½®ä¸€ä¸ªç‰¹æ®Šçš„æ ·å¼</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-letter&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>:red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * ä¸ºpä¸­çš„ç¬¬ä¸€è¡Œè®¾ç½®ä¸€ä¸ªèƒŒæ™¯é¢œè‰²ä¸ºé»„è‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-line&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * :beforeè¡¨ç¤ºå…ƒç´ &quot;æœ€å‰é¢&quot;çš„éƒ¨åˆ†</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *  ä¸€èˆ¬beforeéƒ½éœ€è¦ç»“åˆcontentè¿™ä¸ªæ ·å¼ä¸€èµ·ä½¿ç”¨ï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *  é€šè¿‡contentå¯ä»¥å‘beforeæˆ–afterçš„ä½ç½®æ·»åŠ ä¸€äº›å†…å®¹ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * :afterè¡¨ç¤ºå…ƒç´ çš„æœ€åè¾¹çš„éƒ¨åˆ†</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">:before</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&quot;æœ€å‰é¢&quot;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">:after</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">content</span>: <span class="string">&quot;æœ€åé¢&quot;</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/*å¦å®šä¼ªç±»ï¼š*/</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">p</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.hello</span>)&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: deepskyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        åœ¨æˆ‘çš„åå›­ï¼Œå¯ä»¥çœ‹è§å¢™å¤–æœ‰ä¸¤æ ªæ ‘ï¼Œä¸€æ ªæ˜¯æ£æ ‘ï¼Œè¿˜æœ‰ä¸€æ ªä¹Ÿæ˜¯æ£æ ‘ã€‚ è¿™ä¸Šé¢çš„å¤œçš„å¤©ç©ºï¼Œå¥‡æ€ªè€Œé«˜ï¼Œæˆ‘ç”Ÿå¹³æ²¡æœ‰è§è¿‡è¿™æ ·å¥‡æ€ªè€Œé«˜çš„å¤©ç©ºã€‚ä»–ä»¿ä½›è¦ç¦»å¼€äººé—´è€Œå»ï¼Œä½¿äººä»¬ä»°é¢ä¸å†çœ‹è§ã€‚ç„¶è€Œç°åœ¨å´éå¸¸ä¹‹è“ï¼Œé—ªé—ªåœ°ä€¹ç€å‡ åä¸ªæ˜Ÿæ˜Ÿçš„çœ¼ï¼Œå†·çœ¼ã€‚</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨"><a href="#å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨"></a>å…„å¼Ÿå…ƒç´ é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="comment">/* spanåé¢çš„ä¸€ä¸ªpæ ‡ç­¾ */</span></span></span><br><span class="line"><span class="language-css">         <span class="selector-tag">span</span> +<span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125; </span></span><br><span class="line"><span class="language-css">        <span class="comment">/* spanåé¢çš„æ‰€æœ‰æ ‡ç­¾ */</span></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">span</span>~<span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªspan<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="å­å…ƒç´ é€‰æ‹©å™¨"><a href="#å­å…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="å­å…ƒç´ é€‰æ‹©å™¨"></a>å­å…ƒç´ é€‰æ‹©å™¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">		<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * ä¸ºç¬¬ä¸€ä¸ªpæ ‡ç­¾è®¾ç½®ä¸€ä¸ªèƒŒæ™¯é¢œè‰²ä¸ºé»„è‰²</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *  :first-child å¯ä»¥é€‰ä¸­ç¬¬ä¸€ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *  :last-child å¯ä»¥é€‰ä¸­æœ€åä¸€ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">		<span class="comment">/* body&gt;p:first-child &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            background-color: yellow;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-css"></span></span></span><br><span class="line"><span class="comment"><span class="language-css">        p:last-child &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            background-color: yellow;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        &#125; */</span></span></span><br><span class="line"><span class="language-css">		<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">         * :nth-child å¯ä»¥é€‰ä¸­ä»»æ„ä½ç½®çš„å­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *      è¯¥é€‰æ‹©å™¨åè¾¹å¯ä»¥æŒ‡å®šä¸€ä¸ªå‚æ•°ï¼ŒæŒ‡å®šè¦é€‰ä¸­ç¬¬å‡ ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *      even è¡¨ç¤ºå¶æ•°ä½ç½®çš„å­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         *      odd è¡¨ç¤ºå¥‡æ•°ä½ç½®çš„å­å…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-css">         */</span></span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">		<span class="comment">/* p:nth-child(odd) &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            background-color: yellow;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        &#125; */</span></span></span><br><span class="line"><span class="language-css">       </span></span><br><span class="line"><span class="language-css">		<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * :first-of-type</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * :last-of-type</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        * :nth-of-type</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      å’Œ:first-childè¿™äº›éå¸¸çš„ç±»ä¼¼ï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      åªä¸è¿‡childï¼Œæ˜¯åœ¨æ‰€æœ‰çš„å­å…ƒç´ ä¸­æ’åˆ—</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        *      è€Œtypeï¼Œæ˜¯åœ¨å½“å‰ç±»å‹(æ¯ä¸ªå—å…ƒç´ å†…éƒ¨)çš„å­å…ƒç´ ä¸­æ’åˆ—</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        */</span></span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-of-type &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">p</span><span class="selector-pseudo">:last-of-type</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span>&gt;</span>æˆ‘æ˜¯span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªpæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">span</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯DIVä¸­çš„pæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯DIVä¸­çš„pæ ‡ç­¾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§"><a href="#é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§" class="headerlink" title="é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§"></a>é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">		<span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * å½“ä½¿ç”¨ä¸åŒçš„é€‰æ‹©å™¨ï¼Œé€‰ä¸­åŒä¸€ä¸ªå…ƒç´ æ—¶å¹¶ä¸”è®¾ç½®ç›¸åŒçš„æ ·å¼æ—¶ï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  è¿™æ—¶æ ·å¼ä¹‹é—´äº§ç”Ÿäº†å†²çªï¼Œæœ€ç»ˆåˆ°åº•é‡‡ç”¨å“ªä¸ªé€‰æ‹©å™¨å®šä¹‰çš„æ ·å¼ï¼Œç”±é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ï¼ˆæƒé‡ï¼‰å†³å®š</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  ä¼˜å…ˆçº§é«˜çš„ä¼˜å…ˆæ˜¾ç¤ºã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * ä¼˜å…ˆçº§çš„è§„åˆ™</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      å†…è”æ ·å¼ ï¼Œ ä¼˜å…ˆçº§  1000</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      idé€‰æ‹©å™¨ï¼Œä¼˜å…ˆçº§   100</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      ç±»å’Œä¼ªç±»ï¼Œ ä¼˜å…ˆçº§   10</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      å…ƒç´ é€‰æ‹©å™¨ï¼Œä¼˜å…ˆçº§ 1 </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      é€šé…* ï¼Œ    ä¼˜å…ˆçº§ 0</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *      ç»§æ‰¿çš„æ ·å¼ï¼Œæ²¡æœ‰ä¼˜å…ˆçº§</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * å½“é€‰æ‹©å™¨ä¸­åŒ…å«å¤šç§é€‰æ‹©å™¨æ—¶ï¼Œéœ€è¦å°†å¤šç§é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ç›¸åŠ ç„¶ååœ¨æ¯”è¾ƒï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  ä½†æ˜¯æ³¨æ„ï¼Œé€‰æ‹©å™¨ä¼˜å…ˆçº§è®¡ç®—ä¸ä¼šè¶…è¿‡ä»–çš„æœ€å¤§çš„æ•°é‡çº§ï¼Œå¦‚æœé€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ä¸€æ ·ï¼Œåˆ™ä½¿ç”¨é åçš„æ ·å¼ã€‚å¯¹äºå…¨æ˜¯ç±»é€‰æ‹©å™¨ï¼Œå…ƒç´ çš„è·¯å¾„è¦å†™å…¨ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  å¹¶é›†é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§æ˜¯å•ç‹¬è®¡ç®—</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  div , p , #p1 , .hello&#123;&#125;    </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  å¯ä»¥åœ¨æ ·å¼çš„æœ€åï¼Œæ·»åŠ ä¸€ä¸ª!importantï¼Œåˆ™æ­¤æ—¶è¯¥æ ·å¼å°†ä¼šè·å¾—ä¸€ä¸ªæœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œ</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 *  å°†ä¼šä¼˜å…ˆäºæ‰€æœ‰çš„æ ·å¼æ˜¾ç¤ºç”šè‡³è¶…è¿‡å†…è”æ ·å¼ï¼Œä½†æ˜¯åœ¨å¼€å‘ä¸­å°½é‡é¿å…ä½¿ç”¨!important</span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 * </span></span></span><br><span class="line"><span class="comment"><span class="language-css">		 */</span></span></span><br><span class="line"><span class="language-css">		* &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-id">#p2</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		<span class="comment">/* på’Œ#p2ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼šäº¤é›†é€‰æ‹©å™¨ */</span></span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">p</span><span class="selector-id">#p2</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-class">.p3</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		</span></span><br><span class="line"><span class="language-css">		<span class="selector-class">.p1</span> &#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">color</span>: green;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background-color</span>: greenyellow <span class="meta">!important</span>;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p1 p3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: orange;&quot;</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªæ®µè½</span><br><span class="line">			<span class="tag">&lt;<span class="name">span</span>&gt;</span>æˆ‘æ˜¯pæ ‡ç­¾ä¸­çš„span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="æ˜¾ç¤ºæ¨¡å¼"><a href="#æ˜¾ç¤ºæ¨¡å¼" class="headerlink" title="æ˜¾ç¤ºæ¨¡å¼"></a>æ˜¾ç¤ºæ¨¡å¼</h2><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><h2 id="ä¸‰å¤§ç‰¹æ€§"><a href="#ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="ä¸‰å¤§ç‰¹æ€§"></a>ä¸‰å¤§ç‰¹æ€§</h2><h3 id="å±‚å æ€§"><a href="#å±‚å æ€§" class="headerlink" title="å±‚å æ€§"></a>å±‚å æ€§</h3><h3 id="ç»§æ‰¿æ€§"><a href="#ç»§æ‰¿æ€§" class="headerlink" title="ç»§æ‰¿æ€§"></a>ç»§æ‰¿æ€§</h3><h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><h2 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h2><h2 id="æµ®åŠ¨"><a href="#æµ®åŠ¨" class="headerlink" title="æµ®åŠ¨"></a>æµ®åŠ¨</h2><h2 id="å®šä½"><a href="#å®šä½" class="headerlink" title="å®šä½"></a>å®šä½</h2><h2 id="å¸¸è§æ˜¾ç¤ºæ•ˆæœ"><a href="#å¸¸è§æ˜¾ç¤ºæ•ˆæœ" class="headerlink" title="å¸¸è§æ˜¾ç¤ºæ•ˆæœ"></a>å¸¸è§æ˜¾ç¤ºæ•ˆæœ</h2><h1 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h1><h1 id="CSS3"><a href="#CSS3" class="headerlink" title="CSS3"></a>CSS3</h1></tfoot></tbody></tr></thead></thead>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/DataStructuresAndAlgorithms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/DataStructuresAndAlgorithms/" class="post-title-link" itemprop="url">æ•°æ®ç»“æ„ä¸ç®—æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-05 23:58:14" itemprop="dateModified" datetime="2023-03-05T23:58:14+08:00">2023-03-05</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>æ•°æ®ç»“æ„ä¸ç®—æ³•</b></font></div>

<blockquote>
<p>ã€å‚è€ƒèµ„æ–™ã€‘</p>
<p>LeetCodeï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/">https://leetcode.cn/</a></p>
<p>ä»£ç éšæƒ³å½•ï¼š<a target="_blank" rel="noopener" href="https://programmercarl.com/">https://programmercarl.com/</a></p>
<p>éŸ©é¡ºå¹³ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•</p>
<p>ç®—æ³•å¯¼è®º</p>
<p>å‰‘æŒ‡Offer</p>
<p>ç¼–ç¨‹ç ç‘</p>
<p>æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹ç¾</p>
</blockquote>
<h1 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h1><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><h3 id="ç¤ºä¾‹ä¸€ï¼šåè½¬å­—ç¬¦ä¸²"><a href="#ç¤ºä¾‹ä¸€ï¼šåè½¬å­—ç¬¦ä¸²" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šåè½¬å­—ç¬¦ä¸²"></a>ç¤ºä¾‹ä¸€ï¼šåè½¬å­—ç¬¦ä¸²</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string/">344. åè½¬å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ s çš„å½¢å¼ç»™å‡ºã€‚</p>
<p>ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = [<span class="string">&quot;h&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;o&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;o&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;h&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = [<span class="string">&quot;H&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;h&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;h&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;H&quot;</span>]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å­—ç¬¦ä¸²åè½¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> chars</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span>[] reverseString01(<span class="type">char</span>[] chars) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = chars.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">tmp</span> <span class="operator">=</span> chars[i];</span><br><span class="line">        chars[i] = chars[j];</span><br><span class="line">        chars[j] = tmp;</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> chars;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span>[] reverseString02(<span class="type">char</span>[] chars) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = chars.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="comment">//å¯»æ‰¾å…¬å…±å€¼</span></span><br><span class="line">        chars[i] ^= chars[j];</span><br><span class="line">        chars[j] ^= chars[i];</span><br><span class="line">        chars[i] ^= chars[j];</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> chars;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="åŸºæœ¬ä»‹ç»"><a href="#åŸºæœ¬ä»‹ç»" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<p>æ•°ç»„æ˜¯å­˜æ”¾ç›¸åŒç±»å‹æ•°æ®çš„é›†åˆï¼Œä¸€ç»´æ•°ç»„åœ¨å†…å­˜ä¸Šåœ°å€æ˜¯è¿ç»­çš„ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ï¼ŒäºŒç»´æ•°ç»„å¯¹äº Java ä¸æ˜¯è¿ç»­çš„ã€‚</p>
</blockquote>
<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><blockquote>
</blockquote>
<h3 id="è§£é¢˜æ­¥éª¤"><a href="#è§£é¢˜æ­¥éª¤" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><blockquote>
</blockquote>
<h3 id="ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-search/">704. äºŒåˆ†æŸ¥æ‰¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">12</span>], target = <span class="number">9</span></span><br><span class="line">è¾“å‡º: <span class="number">4</span></span><br><span class="line">è§£é‡Š: <span class="number">9</span> å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">12</span>], target = <span class="number">2</span></span><br><span class="line">è¾“å‡º: -<span class="number">1</span></span><br><span class="line">è§£é‡Š: <span class="number">2</span> ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -<span class="number">1</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>å¯¹äºæœ‰åºçš„ä¸”ä¸é‡å¤çš„æ•°ç»„å…ƒç´ æŸ¥æ‰¾ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚</li>
<li>å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ left &#x3D; 0, right &#x3D; nums.lengthï¼Œç”¨äºç¼©å°æŸ¥æ‰¾åŒºé—´èŒƒå›´</li>
<li>å®šä¹‰ä¸­é—´å€¼ mid &#x3D; (left + right) &gt;&gt; 2æˆ–è€… mid &#x3D; left + (right - left) &#x2F; 2ï¼Œä¸ç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæ ¹æ®æ¯”è¾ƒç»“æœæ›´æ–° left å’Œ right ä¸‹æ ‡ã€‚</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">//è¾¹ç•Œç­›é€‰</span></span><br><span class="line">    <span class="keyword">if</span> (target &lt; nums[<span class="number">0</span>] || target &gt; nums[nums.length - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//ç¼©å°èŒƒå›´ï¼Œå¾ªç¯æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (target == nums[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (target &gt; nums[mid]) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äºŒï¼šç§»é™¤å…ƒç´ "><a href="#ç¤ºä¾‹äºŒï¼šç§»é™¤å…ƒç´ " class="headerlink" title="ç¤ºä¾‹äºŒï¼šç§»é™¤å…ƒç´ "></a>ç¤ºä¾‹äºŒï¼šç§»é™¤å…ƒç´ </h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-element/">27. ç§»é™¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ <strong>åŸåœ°</strong> ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚</p>
<p>ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ <strong>åŸåœ°</strong> ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚</p>
<p>å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚</p>
<p>è¯´æ˜ï¼š</p>
<p>ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢?</p>
<p>è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥ã€Œå¼•ç”¨ã€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚</p>
<p>ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:</p>
<p>&#x2F;&#x2F; nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚ä½œä»»ä½•æ‹·è´<br>int len &#x3D; removeElement(nums, val);</p>
<p>&#x2F;&#x2F; åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚<br>&#x2F;&#x2F; æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚<br>for (int i &#x3D; 0; i &lt; len; i++) {<br>    print(nums[i]);<br>}</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>], val = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span>, nums = [<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <span class="number">2</span>, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º <span class="number">2</span>ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›çš„æ–°é•¿åº¦ä¸º <span class="number">2</span> ï¼Œè€Œ nums = [<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>] æˆ– nums = [<span class="number">2</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>]ï¼Œä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">2</span>], val = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span>, nums = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span>]</span><br><span class="line">è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ <span class="number">5</span>, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>ã€‚æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šåŒæŒ‡é’ˆ</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆå®ç°</li>
<li>å¿«æŒ‡é’ˆç”¨äºæŒ‡å‘æ•°ç»„çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæ…¢æŒ‡é’ˆç”¨äºå’Œç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒ</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç§»é™¤å…ƒç´ ï¼šå¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeElement01</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">slowIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">fastIndex</span> <span class="operator">=</span> <span class="number">0</span>; fastIndex &lt; nums.length; fastIndex++) &#123;</span><br><span class="line">        <span class="comment">//ä¸ç›¸ç­‰æ—¶æ‰ä¼šæ‹·è´å…ƒç´ ï¼Œç›¸ç­‰æ—¶è·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span> (nums[fastIndex] != target) &#123;</span><br><span class="line">            nums[slowIndex] = nums[fastIndex];</span><br><span class="line">            slowIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(slowIndex);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; slowIndex; i++) &#123;</span><br><span class="line">        System.out.print(nums[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ä¸‰ï¼šæœ‰åºæ•°ç»„çš„å¹³æ–¹"><a href="#ç¤ºä¾‹ä¸‰ï¼šæœ‰åºæ•°ç»„çš„å¹³æ–¹" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šæœ‰åºæ•°ç»„çš„å¹³æ–¹"></a>ç¤ºä¾‹ä¸‰ï¼šæœ‰åºæ•°ç»„çš„å¹³æ–¹</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977. æœ‰åºæ•°ç»„çš„å¹³æ–¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› <strong>æ¯ä¸ªæ•°å­—çš„å¹³æ–¹</strong> ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-<span class="number">4</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">10</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">100</span>]</span><br><span class="line">è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [<span class="number">16</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">100</span>]</span><br><span class="line">æ’åºåï¼Œæ•°ç»„å˜ä¸º [<span class="number">0</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">100</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-<span class="number">7</span>,-<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">11</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">4</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">49</span>,<span class="number">121</span>]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šåŒæŒ‡é’ˆ</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>è€ƒè™‘æ­£æ•°ä¸è´Ÿæ•°çš„æƒ…å†µï¼Œå› ä¸ºæ•°ç»„æœ‰åºï¼Œæœ€å¤§å€¼åªèƒ½åœ¨ä¸¤è¾¹äº§ç”Ÿï¼Œå®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘ i &#x3D; 0 å’Œ j &#x3D; nums.length-1</li>
<li>æ¯æ¬¡æ¯”è¾ƒ nums[i] çš„å¹³æ–¹å’Œ nums[j] çš„å¹³æ–¹å¤§å°ï¼Œå°†æœ€å¤§çš„å€¼æ”¾å…¥ä¸€ä¸ªæ–°æ•°ç»„çš„æœ€å³è¾¹</li>
<li>æ ¹æ®å¹³æ–¹å¤§å°ï¼Œç¡®å®šæ˜¯ i++ è¿˜æ˜¯ jâ€“</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ‰åºæ•°ç»„çš„å¹³æ–¹ï¼šåŒæŒ‡é’ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] method01(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="comment">// p å†³å®šå¹³æ–¹æœ€å¤§å€¼çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> ans.length - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼ši å’Œ j çš„å¢åŠ ç”±å¹³æ–¹å€¼æ¯”è¾ƒç»“æœå†³å®š</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = nums.length - <span class="number">1</span>; i &lt;= j; ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] * nums[i] &lt; nums[j] * nums[j]) &#123;</span><br><span class="line">            ans[p--] = nums[j] * nums[j];</span><br><span class="line">            j--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ans[p--] = nums[i] * nums[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹å››ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#ç¤ºä¾‹å››ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="ç¤ºä¾‹å››ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>ç¤ºä¾‹å››ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-size-subarray-sum/">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚</p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„<strong>é•¿åº¦æœ€å°çš„</strong> è¿ç»­å­æ•°ç»„ [numsl, numsl+1, â€¦, numsr-1, numsr] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">7</span>, nums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šå­æ•°ç»„ [<span class="number">4</span>,<span class="number">3</span>] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">4</span>, nums = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">11</span>, nums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæ»‘åŠ¨çª—å£</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>æ»‘åŠ¨çª—å£å±äºåŒæŒ‡é’ˆçš„ä¸€ç§ï¼Œå®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä½œä¸ºçª—å£çš„å·¦å³è¾¹ç•Œ</li>
<li>ç¡®å®šçª—å£ï¼šæ»¡è¶³æ¡ä»¶ï¼ˆè¿ç»­æ•°ç»„å’Œå¤§äº targetï¼‰çš„èŒƒå›´</li>
<li>ç§»åŠ¨å³æŒ‡é’ˆï¼šä¸æ»¡è¶³çª—å£æ¡ä»¶æ—¶ï¼Œå³æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸ª</li>
<li>ç§»åŠ¨å·¦æŒ‡é’ˆï¼šæ»¡è¶³çª—å£æ¡ä»¶æ—¶ï¼Œå·¦æŒ‡é’ˆå‘å³ç§»åŠ¨</li>
<li>æ›´æ–°æœ€å°é•¿åº¦</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method01</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (end &lt; nums.length) &#123;</span><br><span class="line">        sum += nums[end];</span><br><span class="line">        <span class="keyword">while</span> (sum &gt;= target) &#123;</span><br><span class="line">            ans = Math.min(ans, end - start + <span class="number">1</span>);</span><br><span class="line">            sum -= nums[start];</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans == Integer.MAX_VALUE ? <span class="number">0</span> : ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äº”ï¼šèºæ—‹çŸ©é˜µ"><a href="#ç¤ºä¾‹äº”ï¼šèºæ—‹çŸ©é˜µ" class="headerlink" title="ç¤ºä¾‹äº”ï¼šèºæ—‹çŸ©é˜µ"></a>ç¤ºä¾‹äº”ï¼šèºæ—‹çŸ©é˜µ</h3><h4 id="èºæ—‹çŸ©é˜µ-II"><a href="#èºæ—‹çŸ©é˜µ-II" class="headerlink" title="èºæ—‹çŸ©é˜µ II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/spiral-matrix-ii/">èºæ—‹çŸ©é˜µ II</a></h4><blockquote>
<p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° <code>n</code> ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« <code>1</code> åˆ° <code>n2</code> æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„ <code>n x n</code> æ­£æ–¹å½¢çŸ©é˜µ <code>matrix</code> </p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">8</span>,<span class="number">9</span>,<span class="number">4</span>],[<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>å®šä¹‰ top bottom left right å››ä¸ªå˜é‡æ§åˆ¶ä½ç½®</li>
<li>å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼šnum &#x3D; n</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èºæ—‹çŸ©é˜µï¼šé¡ºæ—¶é’ˆæ‰“å°æ•°å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method01</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span>[][] ans = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = n - <span class="number">1</span>, top = <span class="number">0</span>, bottom = n - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">while</span> (num &lt;= n * n) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left; i &lt;= right; i++) &#123;</span><br><span class="line">            ans[top][i] = num++;</span><br><span class="line">        &#125;</span><br><span class="line">        top++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> top; i &lt;= bottom; i++) &#123;</span><br><span class="line">            ans[i][right] = num++;</span><br><span class="line">        &#125;</span><br><span class="line">        right--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> right; i &gt;= left; i--) &#123;</span><br><span class="line">            ans[bottom][i] = num++;</span><br><span class="line">        &#125;</span><br><span class="line">        bottom--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> bottom; i &gt;= top; i--) &#123;</span><br><span class="line">            ans[i][left] = num++;</span><br><span class="line">        &#125;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] ints : ans) &#123;</span><br><span class="line">        System.out.println(Arrays.toString(ints));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><h3 id="åŸºæœ¬ä»‹ç»-1"><a href="#åŸºæœ¬ä»‹ç»-1" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><blockquote>
<ul>
<li>é“¾è¡¨æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„</li>
<li>é“¾è¡¨ç”±ä¸€ç³»åˆ—ç»“ç‚¹ï¼ˆé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºç»“ç‚¹ï¼‰ç»„æˆï¼Œç»“ç‚¹å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆã€‚æ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸã€‚</li>
</ul>
<p>åˆ†ç±»ï¼šå•é“¾è¡¨ã€åŒé“¾è¡¨ã€ç¯å½¢é“¾è¡¨</p>
</blockquote>
<h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><h3 id="ç¤ºä¾‹ä¸€ï¼šåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹"><a href="#ç¤ºä¾‹ä¸€ï¼šåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹"></a>ç¤ºä¾‹ä¸€ï¼šåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/">1047. åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å‡ºç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² Sï¼Œé‡å¤é¡¹åˆ é™¤æ“ä½œä¼šé€‰æ‹©ä¸¤ä¸ªç›¸é‚»ä¸”ç›¸åŒçš„å­—æ¯ï¼Œå¹¶åˆ é™¤å®ƒä»¬ã€‚</p>
<p>åœ¨ S ä¸Šåå¤æ‰§è¡Œé‡å¤é¡¹åˆ é™¤æ“ä½œï¼Œç›´åˆ°æ— æ³•ç»§ç»­åˆ é™¤ã€‚</p>
<p>åœ¨å®Œæˆæ‰€æœ‰é‡å¤é¡¹åˆ é™¤æ“ä½œåè¿”å›æœ€ç»ˆçš„å­—ç¬¦ä¸²ã€‚ç­”æ¡ˆä¿è¯å”¯ä¸€ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;abbaca&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;ca&quot;</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä¾‹å¦‚ï¼Œåœ¨ <span class="string">&quot;abbaca&quot;</span> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤ <span class="string">&quot;bb&quot;</span> ç”±äºä¸¤å­—æ¯ç›¸é‚»ä¸”ç›¸åŒï¼Œè¿™æ˜¯æ­¤æ—¶å”¯ä¸€å¯ä»¥æ‰§è¡Œåˆ é™¤æ“ä½œçš„é‡å¤é¡¹ã€‚ä¹‹åæˆ‘ä»¬å¾—åˆ°å­—ç¬¦ä¸² <span class="string">&quot;aaca&quot;</span>ï¼Œå…¶ä¸­åˆåªæœ‰ <span class="string">&quot;aa&quot;</span> å¯ä»¥æ‰§è¡Œé‡å¤é¡¹åˆ é™¤æ“ä½œï¼Œæ‰€ä»¥æœ€åçš„å­—ç¬¦ä¸²ä¸º <span class="string">&quot;ca&quot;</span>ã€‚</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæ ˆ</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><h3 id="åŸºæœ¬ä»‹ç»-2"><a href="#åŸºæœ¬ä»‹ç»-2" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><h3 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><blockquote>
<p>éœ€è¦æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°è¿‡ï¼Œæˆ–è€…ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆé‡Œçš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>æŸ¥è¯¢å­—ç¬¦å‡ºç°æ¬¡æ•°ï¼šnew int[26]</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹ä¸€ï¼šæœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯"><a href="#ç¤ºä¾‹ä¸€ï¼šæœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šæœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯"></a>ç¤ºä¾‹ä¸€ï¼šæœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-anagram/">242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ t ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ t æ˜¯å¦æ˜¯ s çš„å­—æ¯å¼‚ä½è¯ã€‚</p>
<p>æ³¨æ„ï¼šè‹¥ s å’Œ t ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½ç›¸åŒï¼Œåˆ™ç§° s å’Œ t äº’ä¸ºå­—æ¯å¼‚ä½è¯ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="string">&quot;anagram&quot;</span>, t = <span class="string">&quot;nagaram&quot;</span></span><br><span class="line">è¾“å‡º: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="string">&quot;rat&quot;</span>, t = <span class="string">&quot;car&quot;</span></span><br><span class="line">è¾“å‡º: <span class="literal">false</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šå“ˆå¸Œè¡¨</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>ä½¿ç”¨æ•°ç»„ new int[26] å­˜å‚¨å­—æ¯ä¸ªæ•°</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ï¼šå“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> t</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">method01</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] ints = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        ints[s.charAt(i) - <span class="number">97</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ints[t.charAt(i) - <span class="number">97</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹äºŒï¼šä¸¤ä¸ªæ•°ç»„çš„äº¤é›†"><a href="#ç¤ºä¾‹äºŒï¼šä¸¤ä¸ªæ•°ç»„çš„äº¤é›†" class="headerlink" title="ç¤ºä¾‹äºŒï¼šä¸¤ä¸ªæ•°ç»„çš„äº¤é›†"></a>ç¤ºä¾‹äºŒï¼šä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-arrays/">349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸¤ä¸ªæ•°ç»„ nums1 å’Œ nums2 ï¼Œè¿”å› å®ƒä»¬çš„äº¤é›† ã€‚è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯å”¯ä¸€ çš„ã€‚æˆ‘ä»¬å¯ä»¥ ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåº ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>], nums2 = [<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">4</span>,<span class="number">9</span>,<span class="number">5</span>], nums2 = [<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">9</span>,<span class="number">4</span>]</span><br><span class="line">è§£é‡Šï¼š[<span class="number">4</span>,<span class="number">9</span>] ä¹Ÿæ˜¯å¯é€šè¿‡çš„</span><br></pre></td></tr></table></figure>
</blockquote>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>ä½¿ç”¨ Set å»é‡</li>
<li>ä½¿ç”¨æµè¿‡æ»¤</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼šå“ˆå¸Œè¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] intersection(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">    Set&lt;Integer&gt; set01 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; set02 = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n : nums1) &#123;</span><br><span class="line">        set01.add(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n : nums2) &#123;</span><br><span class="line">        <span class="keyword">if</span> (set01.contains(n)) &#123;</span><br><span class="line">            set02.add(n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> set02.stream().mapToInt(t -&gt; t).toArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ä¸‰ï¼šå¿«ä¹æ•°"><a href="#ç¤ºä¾‹ä¸‰ï¼šå¿«ä¹æ•°" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šå¿«ä¹æ•°"></a>ç¤ºä¾‹ä¸‰ï¼šå¿«ä¹æ•°</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/happy-number/">202. å¿«ä¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° n æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚</p>
<p>ã€Œå¿«ä¹æ•°ã€ å®šä¹‰ä¸ºï¼š</p>
<p>å¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚<br>ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ <strong>æ— é™å¾ªç¯</strong> ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚<br>å¦‚æœè¿™ä¸ªè¿‡ç¨‹ ç»“æœä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚<br>å¦‚æœ n æ˜¯ <strong>å¿«ä¹æ•°</strong> å°±è¿”å› true ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› false ã€‚</p>
<p> ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">19</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"><span class="number">12</span> + <span class="number">92</span> = <span class="number">82</span></span><br><span class="line"><span class="number">82</span> + <span class="number">22</span> = <span class="number">68</span></span><br><span class="line"><span class="number">62</span> + <span class="number">82</span> = <span class="number">100</span></span><br><span class="line"><span class="number">12</span> + <span class="number">02</span> + <span class="number">02</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šå“ˆå¸Œæ£€æµ‹å¾ªç¯</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li>å¦‚æœç»“æœåœ¨å“ˆå¸Œé›†åˆä¸­ï¼Œåˆ™è¿”å› FALSEï¼Œå¦åˆ™è¿”å› TRUE</li>
</ul>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¿«ä¹æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isHappyNumber</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    HashSet&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !set.contains(n)) &#123;</span><br><span class="line">        set.add(n);</span><br><span class="line">        n = getNextNumber(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getNextNumber</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> num % <span class="number">10</span>;</span><br><span class="line">        ans += n * n;</span><br><span class="line">        num /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹å››ï¼šä¸¤æ•°ä¹‹å’Œ"><a href="#ç¤ºä¾‹å››ï¼šä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ç¤ºä¾‹å››ï¼šä¸¤æ•°ä¹‹å’Œ"></a>ç¤ºä¾‹å››ï¼šä¸¤æ•°ä¹‹å’Œ</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/two-sum/">1. ä¸¤æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target  çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p> ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">2</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">15</span>], target = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[<span class="number">0</span>] + nums[<span class="number">1</span>] == <span class="number">9</span> ï¼Œè¿”å› [<span class="number">0</span>, <span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>], target = <span class="number">6</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">3</span>,<span class="number">3</span>], target = <span class="number">6</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(temp))&#123;</span><br><span class="line">            res[<span class="number">1</span>] = i;</span><br><span class="line">            res[<span class="number">0</span>] = map.get(temp);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(nums[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



































<h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><h2 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h2><h2 id="è·³è¡¨"><a href="#è·³è¡¨" class="headerlink" title="è·³è¡¨"></a>è·³è¡¨</h2><h2 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h2><h2 id="Tireæ ‘"><a href="#Tireæ ‘" class="headerlink" title="Tireæ ‘"></a>Tireæ ‘</h2><h1 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h1><h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><h3 id="åŸºæœ¬æ€æƒ³"><a href="#åŸºæœ¬æ€æƒ³" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><h3 id="è§£é¢˜æ­¥éª¤-1"><a href="#è§£é¢˜æ­¥éª¤-1" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><h3 id="ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾-1"><a href="#ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾-1" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>ç¤ºä¾‹ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-search/">704. äºŒåˆ†æŸ¥æ‰¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9</span><br><span class="line">è¾“å‡º: 4</span><br><span class="line">è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2</span><br><span class="line">è¾“å‡º: -1</span><br><span class="line">è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</p>
<p>ä»£ç ç¤ºä¾‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (target &lt; arr[<span class="number">0</span>] || target &gt; arr[arr.length - <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = arr.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äºŒï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="#ç¤ºä¾‹äºŒï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„" class="headerlink" title="ç¤ºä¾‹äºŒï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„"></a>ç¤ºä¾‹äºŒï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/search-in-rotated-sorted-array/">33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>æ•´æ•°æ•°ç»„ nums æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ äº’ä¸ç›¸åŒ ã€‚</p>
<p>åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 &lt;&#x3D; k &lt; nums.lengthï¼‰ä¸Šè¿›è¡Œäº† æ—‹è½¬ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], â€¦, nums[n-1], nums[0], nums[1], â€¦, nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,5,6,7] åœ¨ä¸‹æ ‡ 3 å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º [4,5,6,7,0,1,2] ã€‚</p>
<p>ç»™ä½  æ—‹è½¬å çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1 ã€‚</p>
<p>ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>], target = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœç´¢æ—‹è½¬æ’åºæ•°ç»„ï¼šäºŒåˆ†æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>] == target ? <span class="number">0</span> : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt;= nums[<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[<span class="number">0</span>] &lt;= target &amp;&amp; target &lt; nums[mid]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &lt; target &amp;&amp; target &lt;= nums[nums.length - <span class="number">1</span>]) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ä¸‰ï¼šåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="#ç¤ºä¾‹ä¸‰ï¼šåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"></a>ç¤ºä¾‹ä¸‰ï¼šåœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/">34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p>
<p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚</p>
<p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p> ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">10</span>], target = <span class="number">8</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">5</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">10</span>], target = <span class="number">6</span></span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">1</span>,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [], target = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">1</span>,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾<br>åˆ©ç”¨äºŒåˆ†ï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå°äº target çš„ç›®æ ‡ä½ç½®ï¼Œç¬¬ä¸€ä¸ªå¤§äº target çš„ç›®æ ‡ä½ç½®ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼šäºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] searchRange(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> binarySearch(nums, target);</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> binarySearch(nums, target+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (left == nums.length || nums[left] != target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;left, right - <span class="number">1</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt;= target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹å››ï¼šæ±‚è§£æµ®ç‚¹æ•°ç«‹æ–¹æ ¹"><a href="#ç¤ºä¾‹å››ï¼šæ±‚è§£æµ®ç‚¹æ•°ç«‹æ–¹æ ¹" class="headerlink" title="ç¤ºä¾‹å››ï¼šæ±‚è§£æµ®ç‚¹æ•°ç«‹æ–¹æ ¹"></a>ç¤ºä¾‹å››ï¼šæ±‚è§£æµ®ç‚¹æ•°ç«‹æ–¹æ ¹</h3><p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ±‚è§£æµ®ç‚¹æ•°ç«‹æ–¹æ ¹ï¼šäºŒåˆ†æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method01</span><span class="params">(<span class="type">double</span> num)</span> &#123;</span><br><span class="line">    <span class="comment">//è€ƒè™‘è´Ÿæ•°</span></span><br><span class="line">    num = num &gt; <span class="number">0</span> ? num : -num;</span><br><span class="line">    <span class="comment">//ç¡®å®šæ•´æ•°èŒƒå›´</span></span><br><span class="line">    <span class="type">double</span> <span class="variable">bottom</span> <span class="operator">=</span> <span class="number">0</span>, top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (top * top * top &lt; num) &#123;</span><br><span class="line">        top++;</span><br><span class="line">    &#125;</span><br><span class="line">    bottom = top - <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//ä¸­ä½¿ç”¨ mid ä½œä¸ºç»“æœå€¼</span></span><br><span class="line">    <span class="type">double</span> <span class="variable">mid</span> <span class="operator">=</span> (top - bottom) / <span class="number">2</span> + bottom;</span><br><span class="line">    <span class="comment">//ä¿ç•™ä¸€ä½å°æ•°</span></span><br><span class="line">    <span class="keyword">while</span> (top - bottom &gt; <span class="number">0.1</span>) &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">cubed</span> <span class="operator">=</span> mid * mid * mid;</span><br><span class="line">        <span class="keyword">if</span> (cubed &gt; num) &#123;</span><br><span class="line">            top = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            bottom = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        mid = (top - bottom) / <span class="number">2</span> + bottom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        mid = -mid;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.printf(<span class="string">&quot;%.1f&quot;</span>, mid);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="æ—¶é—´-x2F-ç©ºé—´å¤æ‚åº¦"><a href="#æ—¶é—´-x2F-ç©ºé—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´&#x2F;ç©ºé—´å¤æ‚åº¦"></a>æ—¶é—´&#x2F;ç©ºé—´å¤æ‚åº¦</h3><h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><h3 id="æ·±åº¦æœç´¢éå†ï¼ˆDFSï¼‰"><a href="#æ·±åº¦æœç´¢éå†ï¼ˆDFSï¼‰" class="headerlink" title="æ·±åº¦æœç´¢éå†ï¼ˆDFSï¼‰"></a>æ·±åº¦æœç´¢éå†ï¼ˆDFSï¼‰</h3><blockquote>
<p>æ·±åº¦æœç´¢éå†ï¼ˆDepth First Searchï¼Œç®€ç§°DFSï¼‰</p>
<ol>
<li>ä¸»è¦æ€æƒ³æ˜¯ä»åˆå§‹è®¿é—®ç»“ç‚¹å‡ºå‘ï¼Œåˆå§‹è®¿é—®ç»“ç‚¹å¯èƒ½æœ‰å¤šä¸ªé‚»æ¥ç»“ç‚¹ï¼Œæ·±åº¦ä¼˜å…ˆéå†çš„ç­–ç•¥å°±æ˜¯é¦–å…ˆè®¿é—®ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œç„¶åå†ä»¥è¿™ä¸ªè¢«è®¿é—®çš„é‚»æ¥ç»“ç‚¹ä½œä¸ºåˆå§‹ç»“ç‚¹ï¼Œè®¿é—®å®ƒçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡éƒ½åœ¨è®¿é—®å®Œå½“å‰ç»“ç‚¹åé¦–å…ˆè®¿é—®å½“å‰ç»“ç‚¹çš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ã€‚</li>
<li>DFS æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œä¼˜å…ˆå¾€çºµå‘éå†ï¼Œè€Œä¸æ˜¯å¯¹ä¸€ä¸ªç»“ç‚¹çš„æ‰€æœ‰é‚»æ¥ç»“ç‚¹è¿›è¡Œæ¨ªå‘è®¿é—®ã€‚</li>
<li>æ ‘æ˜¯å›¾çš„ä¸€ç§ç‰¹ä¾‹ï¼ˆæ ‘æ˜¯è¿é€šæ— ç¯çš„å›¾ï¼‰å‰åºä¸­åºååºéƒ½å±äºæ·±åº¦ä¼˜å…ˆéå†ã€‚</li>
<li>DFSç”±ä¸¤ç§éå†æ–¹å¼ï¼šé€’å½’å’Œéé€’å½’</li>
<li>åŸºæœ¬ç¤ºä¾‹å¦‚ä¸‹ï¼š</li>
</ol>
</blockquote>
<h4 id="ç¤ºä¾‹ä¸€ï¼š-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#ç¤ºä¾‹ä¸€ï¼š-äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼š äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a>ç¤ºä¾‹ä¸€ï¼š äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h4><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/">104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚</p>
<p>äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</p>
<p>è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p>ç¤ºä¾‹ï¼š<br>ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="number">3</span></span><br><span class="line"> / \</span><br><span class="line"><span class="number">9</span>  <span class="number">20</span></span><br><span class="line">  /  \</span><br><span class="line"> <span class="number">15</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚</p>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šDFS</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼šDFS</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMaxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftDepth</span> <span class="operator">=</span> getMaxDepth(root.left) + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rightDepth</span> <span class="operator">=</span> getMaxDepth(root.right) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> Math.max(leftDepth, rightDepth);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ï¼šDFS</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMinDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">leftDepth</span> <span class="operator">=</span> getMinDepth(root.left) + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rightDepth</span> <span class="operator">=</span> getMinDepth(root.right) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> Math.max(leftDepth, rightDepth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹äºŒï¼šäºŒå‰æ ‘çš„å±‚åºéå†"><a href="#ç¤ºä¾‹äºŒï¼šäºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="ç¤ºä¾‹äºŒï¼šäºŒå‰æ ‘çš„å±‚åºéå†"></a>ç¤ºä¾‹äºŒï¼šäºŒå‰æ ‘çš„å±‚åºéå†</h4><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-level-order-traversal/">102. äºŒå‰æ ‘çš„å±‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code> ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ <strong>å±‚åºéå†</strong> ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</p>
<p> ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">		<span class="number">3</span></span><br><span class="line"><span class="number">8</span>				<span class="number">20</span></span><br><span class="line">			<span class="number">15</span>		  <span class="number">7</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">3</span>,<span class="number">9</span>,<span class="number">20</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">3</span>],[<span class="number">9</span>,<span class="number">20</span>],[<span class="number">15</span>,<span class="number">7</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šBFS</p>
<p>æ³¨æ„ï¼šæ¯æ¬¡éå†ä¹‹å‰ï¼Œéœ€è¦ç¡®å®šå±‚çº§çš„èŠ‚ç‚¹ä¸ªæ•°</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒå‰æ ‘çš„å±‚åºéå†ï¼šBFS</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.asList();</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; bfsList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.offer(root);</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; queue.size(); i++) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">poll</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            list.add(poll.value);</span><br><span class="line">            <span class="keyword">if</span> (poll.left != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(poll.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (poll.right != <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.add(poll.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        bfsList.add(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bfsList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼šDFS</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; dfsLevelOrderList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * äºŒå‰æ ‘çš„å±‚åºéå†ï¼šDFS</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrderByDFS</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    dfs(root, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> dfsLevelOrderList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DFS</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> level å±‚çº§</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(TreeNode root, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dfsLevelOrderList.size() &lt; level + <span class="number">1</span>) &#123;</span><br><span class="line">        dfsLevelOrderList.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; list = dfsLevelOrderList.get(level);</span><br><span class="line">    list.add(root.value);</span><br><span class="line">    dfs(root.left, level + <span class="number">1</span>);</span><br><span class="line">    dfs(root.right, level + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



















<h3 id="å¹¿åº¦æœç´¢éå†ï¼ˆBFSï¼‰"><a href="#å¹¿åº¦æœç´¢éå†ï¼ˆBFSï¼‰" class="headerlink" title="å¹¿åº¦æœç´¢éå†ï¼ˆBFSï¼‰"></a>å¹¿åº¦æœç´¢éå†ï¼ˆBFSï¼‰</h3><h4 id="åŸºæœ¬æ€æƒ³-1"><a href="#åŸºæœ¬æ€æƒ³-1" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h4><h4 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><h4 id="è§£é¢˜æ­¥éª¤-2"><a href="#è§£é¢˜æ­¥éª¤-2" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h4><h4 id="ç¤ºä¾‹ä¸€ï¼š"><a href="#ç¤ºä¾‹ä¸€ï¼š" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼š"></a>ç¤ºä¾‹ä¸€ï¼š</h4><h2 id="å“ˆå¸Œ"><a href="#å“ˆå¸Œ" class="headerlink" title="å“ˆå¸Œ"></a>å“ˆå¸Œ</h2><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><h3 id="åŸºæœ¬æ€æƒ³-2"><a href="#åŸºæœ¬æ€æƒ³-2" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><blockquote>
<p>é€’å½’ï¼šç¼–ç¨‹ä¸Šå³å‡½æ•°è°ƒç”¨è‡ªèº«çš„è¿‡ç¨‹ï¼Œå­˜åœ¨ç»ˆæ­¢æ¡ä»¶ï¼Œé¿å…æ ˆæº¢å‡ºã€‚</p>
<p>ä¸»è¦è§£å†³çš„é—®é¢˜ï¼šä¸€ä¸ªå¤§çš„é—®é¢˜å¯ä»¥æŠ½è±¡å‡ºå­é—®é¢˜ï¼Œå­é—®é¢˜åˆç»§ç»­å¯ä»¥æŠ½è±¡å‡ºå­é—®é¢˜ç­‰ç­‰ï¼Œç›´è‡³æ»¡è¶³ç»ˆæ­¢æ¡ä»¶ã€‚</p>
<p>è§£é¢˜æ­¥éª¤ï¼š</p>
<ol>
<li>æŠ½è±¡é—®é¢˜çš„è¿‡ç¨‹ï¼Œæ˜¯å¦å¯ä»¥ä¸æ–­åœ°ä»å¤§é—®é¢˜ä¸­æŠ½è±¡å‡ºå­é—®é¢˜ã€‚</li>
<li>å¯»æ‰¾é€’æ¨å…¬å¼</li>
<li>ç¡®å®šç»ˆæ­¢æ¡ä»¶</li>
</ol>
</blockquote>
<h3 id="ç¤ºä¾‹ä¸€ï¼šçˆ¬æ¥¼æ¢¯"><a href="#ç¤ºä¾‹ä¸€ï¼šçˆ¬æ¥¼æ¢¯" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šçˆ¬æ¥¼æ¢¯"></a>ç¤ºä¾‹ä¸€ï¼šçˆ¬æ¥¼æ¢¯</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/climbing-stairs/">70. çˆ¬æ¥¼æ¢¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</p>
<p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> <span class="number">1</span> é˜¶ + <span class="number">1</span> é˜¶</span><br><span class="line"><span class="number">2.</span> <span class="number">2</span> é˜¶</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> <span class="number">1</span> é˜¶ + <span class="number">1</span> é˜¶ + <span class="number">1</span> é˜¶</span><br><span class="line"><span class="number">2.</span> <span class="number">1</span> é˜¶ + <span class="number">2</span> é˜¶</span><br><span class="line"><span class="number">3.</span> <span class="number">2</span> é˜¶ + <span class="number">1</span> é˜¶</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<p>1 &lt;&#x3D; n &lt;&#x3D; 45</p>
<p><strong>æ–¹å¼ä¸€ï¼šé€’å½’</strong></p>
<p>è§£é¢˜æ­¥éª¤ï¼š</p>
<ol>
<li><p>æŠ½è±¡é—®é¢˜çš„è¿‡ç¨‹ï¼Œç¡®å®šæ–¹æ³•å«ä¹‰ï¼›F(n)  è¡¨ç¤ºçˆ¬åˆ°å½“å‰æ¥¼æ¢¯ n æ‰€éœ€è¦èµ°çš„æ–¹æ³•æ€»æ•°ã€‚</p>
</li>
<li><p>å¯»æ‰¾é€’æ¨å…¬å¼ï¼›F(n) &#x3D; F(n-1) + F(n-2)ï¼Œçˆ¬ä¸Š n å±‚æ¥¼çš„æ–¹æ³•æ€»æ•°æ˜¯ç”±çˆ¬ä¸Š n - 1 å’Œ n -2 å±‚çš„æ–¹æ³•æ€»æ•°å†³å®šçš„ã€‚</p>
</li>
<li><p>ç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼›ç”±äºå‡½æ•°ä¸æ–­çš„æ‹†åˆ†ä¸ºå­é—®é¢˜ï¼Œç»ˆæ­¢æ¡ä»¶ä¸º F(0) &#x3D; 1,F(1) &#x3D; 1ï¼Œç”±äºé€’æ¨å…¬å¼å‡ºç°äº† n - 2ï¼Œå› æ­¤éœ€è¦ç¡®</p>
<p>å®š F(0) å’Œ F(1)ã€‚</p>
</li>
</ol>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€’å½’æ€æƒ³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">climbStairs01</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="comment">//ç»ˆæ­¢æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span> || n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’å…¬å¼</span></span><br><span class="line">    <span class="keyword">return</span> climbStairs01(n - <span class="number">1</span>) + climbStairs01(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼äºŒï¼šåŠ¨æ€è§„åˆ’</strong></p>
<p>ç”±äºä½¿ç”¨é€’å½’è®¡ç®—æ—¶ï¼Œå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰æ ˆæº¢å‡ºé—®é¢˜ï¼›ï¼ˆ2ï¼‰ä¸­é—´æ•°æ®é‡å¤è®¡ç®—çš„é—®é¢˜</p>
<p>å¯¹äº F(n) &#x3D; F(n-1) + F(n-2) ä¼šæœ‰é‡å¤è®¡ç®—çš„é—®é¢˜ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ ä¸€ä¸ªæ•°ç»„ä¿å­˜ä¸­é—´ç»“æœï¼Œä½¿ç”¨å¾ªç¯é¿å…é€’å½’è°ƒç”¨ã€‚</p>
<p>è§£é¢˜æ­¥éª¤ï¼š</p>
<p>ç†è§£é¢˜æ„ï¼šæ¯ä¸€ä¸ªçŠ¶æ€éƒ½æ˜¯ç”±ä¸Šä¸€ä¸ªçŠ¶æ€æ¨å¯¼å¾—å‡ºï¼Œè€ƒè™‘åŠ¨æ€è§„åˆ’ã€‚</p>
<ul>
<li><p>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼Œdp[i] è¡¨ç¤ºçˆ¬åˆ°å½“å‰æ¥¼æ¢¯æ‰€éœ€è¦èµ°çš„æ–¹æ³•æ€»æ•°</p>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹ï¼Œç”±äºæ¯æ¬¡å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ï¼Œå› æ­¤çˆ¬åˆ°å½“å‰çš„æ–¹æ³•æ•°ç­‰äºä»ä¸‹ä¸€ä¸ªæ¥¼æ¢¯çˆ¬ä¸Šæ¥çš„æ–¹æ³•æ•°åŠ </p>
<p>â€‹				ä¸Šä»ä¸‹ä¸¤ä¸ªæ¥¼æ¢¯çˆ¬ä¸Šæ¥çš„æ–¹æ³•æ•°ï¼›ä¾¿æœ‰çŠ¶æ€æ–¹ç¨‹ï¼šdp[i] &#x3D; dp[i-1] + dp[i-2]ï¼Œå…¬å¼ç­‰åŒäºæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½†æ€</p>
<p>â€‹				æƒ³ä¸åŒã€‚</p>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼ï¼Œé¦–å…ˆåˆå§‹å€¼æ˜¯ç¡®å®šçš„ï¼Œä¸èƒ½ä»ç¬¬äºŒé˜¶å¼€å§‹ç®—ï¼Œå› ä¸ºçˆ¬åˆ°ç¬¬äºŒé˜¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œå› æ­¤åˆå§‹å€¼éœ€è¦ç¡®</p>
<p>â€‹				å®šç¬¬ 0 é˜¶å’Œç¬¬ 1 é˜¶ï¼›dp[0] &#x3D; 1, dp[1] &#x3D; 1ã€‚</p>
</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">climbStairs02</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç å®ç°ï¼šæ­¤å¤„ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ€æƒ³</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ¨æ€è§„åˆ’ï¼šæ»‘åŠ¨æ•°ç»„æ€æƒ³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">climbStairs03</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        p = q;</span><br><span class="line">        q = r;</span><br><span class="line">        r = p + q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äºŒï¼šè·¯å¾„æ€»å’Œ"><a href="#ç¤ºä¾‹äºŒï¼šè·¯å¾„æ€»å’Œ" class="headerlink" title="ç¤ºä¾‹äºŒï¼šè·¯å¾„æ€»å’Œ"></a>ç¤ºä¾‹äºŒï¼šè·¯å¾„æ€»å’Œ</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-sum/">112. è·¯å¾„æ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root å’Œä¸€ä¸ªè¡¨ç¤ºç›®æ ‡å’Œçš„æ•´æ•° targetSum ã€‚åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨ æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œ targetSum ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p>
<p>å¶å­èŠ‚ç‚¹ æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">5</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">11</span>,<span class="literal">null</span>,<span class="number">13</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">null</span>,<span class="number">1</span>], targetSum = <span class="number">22</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è¯´æ˜ï¼šå­˜åœ¨è·¯å¾„ <span class="number">5</span> --&gt; <span class="number">4</span> --&gt; <span class="number">11</span> --&gt; <span class="number">2</span>ï¼Œä½¿å¾—è·¯å¾„å’Œä¸º <span class="number">22</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šroot = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], targetSum = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæ ‘ä¸­å­˜åœ¨ä¸¤æ¡æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼š</span><br><span class="line">(<span class="number">1</span> --&gt; <span class="number">2</span>): å’Œä¸º <span class="number">3</span></span><br><span class="line">(<span class="number">1</span> --&gt; <span class="number">3</span>): å’Œä¸º <span class="number">4</span></span><br><span class="line">ä¸å­˜åœ¨ sum = <span class="number">5</span> çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>è§£é¢˜æ€è·¯ï¼š</p>
<blockquote>
<p>è¯¢é—®æ˜¯å¦å­˜åœ¨ä»å½“å‰èŠ‚ç‚¹ root åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œæ»¡è¶³å…¶è·¯å¾„å’Œä¸º sumã€‚</p>
<p>å‡å®šä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„å€¼ä¹‹å’Œä¸º valï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå¤§é—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªå°é—®é¢˜ï¼šæ˜¯å¦å­˜åœ¨ä»å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ°å¶å­çš„è·¯å¾„ï¼Œæ»¡è¶³å…¶è·¯å¾„å’Œä¸º sum - valã€‚</p>
<p>ä¸éš¾å‘ç°è¿™æ»¡è¶³é€’å½’çš„æ€§è´¨ï¼Œè‹¥å½“å‰èŠ‚ç‚¹å°±æ˜¯å¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥åˆ¤æ–­ sum æ˜¯å¦ç­‰äº val å³å¯ï¼ˆå› ä¸ºè·¯å¾„å’Œå·²ç»ç¡®å®šï¼Œå°±æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­è¯¥è·¯å¾„å’Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼‰ã€‚è‹¥å½“å‰èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦é€’å½’åœ°è¯¢é—®å®ƒçš„å­èŠ‚ç‚¹æ˜¯å¦èƒ½æ»¡è¶³æ¡ä»¶å³å¯ã€‚</p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·¯å¾„æ€»å’Œï¼šé€’å½’å®ç°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> node</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">hasPathSum</span><span class="params">(TreeNode node, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.left == <span class="literal">null</span> &amp;&amp; node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> node.value == target;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hasPathSum(node.left, target - node.value)</span><br><span class="line">            || hasPathSum(node.right, target - node.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ä¸‰ï¼šå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"><a href="#ç¤ºä¾‹ä¸‰ï¼šå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ"></a>ç¤ºä¾‹ä¸‰ï¼šå‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/most-frequent-subtree-sum/">å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</a></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·è¿”å›å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ç›¸åŒï¼Œè¿”å›æ‰€æœ‰å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œï¼ˆä¸é™é¡ºåºï¼‰ã€‚</p>
<p>ä¸€ä¸ªç»“ç‚¹çš„ ã€Œå­æ ‘å…ƒç´ å’Œã€ å®šä¹‰ä¸ºä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å…ƒç´ ä¹‹å’Œï¼ˆåŒ…æ‹¬ç»“ç‚¹æœ¬èº«ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [5,2,-3]</span><br><span class="line">è¾“å‡º: [2,-3,4]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: root = [5,2,-5]</span><br><span class="line">è¾“å‡º: [2]</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢<br>å¯ä»¥ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢è¿™æ£µäºŒå‰æ ‘ã€‚å¯¹äºæ¯æ£µå­æ ‘ï¼Œå…¶å­æ ‘å…ƒç´ å’Œç­‰äºå­æ ‘æ ¹ç»“ç‚¹çš„å…ƒç´ å€¼ï¼ŒåŠ ä¸Šå·¦å­æ ‘çš„å…ƒç´ å’Œï¼Œä»¥åŠå³å­æ ‘çš„å…ƒç´ å’Œã€‚</p>
<p>ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡æ¯æ£µå­æ ‘çš„å…ƒç´ å’Œçš„å‡ºç°æ¬¡æ•°ï¼Œè®¡ç®—å‡ºç°æ¬¡æ•°çš„æœ€å¤§å€¼ maxCntï¼Œæœ€åå°†å‡ºç°æ¬¡æ•°ç­‰äº maxCnt çš„æ‰€æœ‰å…ƒç´ å’Œè¿”å›ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> <span class="variable">maxCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›å‡ºç°é¢‘æ¬¡æœ€é«˜çš„å­æ ‘å’Œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] findFrequentTreeSum(TreeNode root) &#123;</span><br><span class="line">    treeSumByDfs(root);</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (entry.getValue() == maxCount) &#123;</span><br><span class="line">            list.add(entry.getKey());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[list.size()];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ans.length; i++) &#123;</span><br><span class="line">        ans[i] = list.get(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DFSæ±‚å­æ ‘å’Œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> root</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">treeSumByDfs</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> root.value + treeSumByDfs(root.left) + treeSumByDfs(root.right);</span><br><span class="line">    map.put(sum, map.getOrDefault(sum, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//é¡ºä¾¿æ±‚å‡ºæœ€å¤§æ¬¡æ•°</span></span><br><span class="line">    maxCount = Math.max(maxCount, map.get(sum));</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h2 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h2><h3 id="åŸºæœ¬æ€æƒ³-3"><a href="#åŸºæœ¬æ€æƒ³-3" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><blockquote>
<p>å›æº¯å¯ä»¥ç†è§£ä¸ºç©·ä¸¾ï¼Œå¾—åˆ°é—®é¢˜çš„æ‰€æœ‰ç­”æ¡ˆï¼Œä¸­é€”å¯ä»¥è¿›è¡Œå‰ªææ“ä½œ</p>
</blockquote>
<h3 id="åº”ç”¨åœºæ™¯-4"><a href="#åº”ç”¨åœºæ™¯-4" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><ul>
<li>ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°é‡Œé¢æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆ</li>
<li>åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼</li>
<li>å­é›†é—®é¢˜ï¼šä¸€ä¸ªNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›†</li>
<li>æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼</li>
<li>æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå›æº¯å³åœ¨é€’å½’ä¸­æŸ¥æ‰¾å­é›†ã€‚</p>
<h3 id="è§£é¢˜æ­¥éª¤-3"><a href="#è§£é¢˜æ­¥éª¤-3" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><ul>
<li><p>ç¬¬ä¸€æ­¥ï¼šç¡®å®šå‡½æ•°å‚æ•°ä»¥åŠè¿”å›å€¼</p>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šç¡®å®šç»ˆæ­¢æ¡ä»¶ï¼Œæ­¤å¤„ä¸€èˆ¬å¾—åˆ°å‡½æ•°è°ƒç”¨çš„è¿”å›ç»“æœ</p>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šå¤„ç†èŠ‚ç‚¹çš„é€»è¾‘</p>
</li>
</ul>
<h3 id="ç»„åˆé—®é¢˜"><a href="#ç»„åˆé—®é¢˜" class="headerlink" title="ç»„åˆé—®é¢˜"></a>ç»„åˆé—®é¢˜</h3><p>ç¤ºä¾‹ä¸€ï¼š</p>
<h2 id="åˆ†æ²»"><a href="#åˆ†æ²»" class="headerlink" title="åˆ†æ²»"></a>åˆ†æ²»</h2><h3 id="åŸºæœ¬æ€æƒ³-4"><a href="#åŸºæœ¬æ€æƒ³-4" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><blockquote>
<p>åˆ†æ²»å³ â€œåˆ†è€Œæ²»ä¹‹â€ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜â€¦â€¦ç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶ã€‚<br>åˆ†æ²»ç®—æ³•å¯ä»¥æ±‚è§£çš„ä¸€äº›ç»å…¸é—®é¢˜å¦‚ï¼š</p>
<ul>
<li>äºŒåˆ†æœç´¢<br>å¤§æ•´æ•°ä¹˜æ³•</li>
<li>æ£‹ç›˜è¦†ç›–</li>
<li>åˆå¹¶æ’åº</li>
<li>å¿«é€Ÿæ’åº</li>
<li>çº¿æ€§æ—¶é—´é€‰æ‹©</li>
<li>æœ€æ¥è¿‘ç‚¹å¯¹é—®é¢˜</li>
<li>å¾ªç¯èµ›æ—¥ç¨‹è¡¨</li>
<li>æ±‰è¯ºå¡”</li>
</ul>
<p>è§£é¢˜æ­¥éª¤ï¼š</p>
<ol>
<li>åˆ†è§£ï¼šå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°ï¼Œç›¸äº’ç‹¬ç«‹ï¼Œä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜</li>
<li>è§£å†³ï¼šè‹¥å­é—®é¢˜è§„æ¨¡è¾ƒå°è€Œå®¹æ˜“è¢«è§£å†³åˆ™ç›´æ¥è§£ï¼Œå¦åˆ™é€’å½’åœ°è§£å„ä¸ªå­é—®é¢˜</li>
<li>åˆå¹¶ï¼šå°†å­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£</li>
</ol>
</blockquote>
<h3 id="ç¤ºä¾‹ä¸€ï¼šåˆå¹¶Kä¸ªå‡åºé“¾è¡¨"><a href="#ç¤ºä¾‹ä¸€ï¼šåˆå¹¶Kä¸ªå‡åºé“¾è¡¨" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šåˆå¹¶Kä¸ªå‡åºé“¾è¡¨"></a>ç¤ºä¾‹ä¸€ï¼šåˆå¹¶Kä¸ªå‡åºé“¾è¡¨</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/merge-k-sorted-lists/">åˆå¹¶Kä¸ªå‡åºé“¾è¡¨</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚</p>
<p>è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = [[<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">6</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">è§£é‡Šï¼šé“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š</span><br><span class="line">[</span><br><span class="line">  <span class="number">1</span>-&gt;<span class="number">4</span>-&gt;<span class="number">5</span>,</span><br><span class="line">  <span class="number">1</span>-&gt;<span class="number">3</span>-&gt;<span class="number">4</span>,</span><br><span class="line">  <span class="number">2</span>-&gt;<span class="number">6</span></span><br><span class="line">]</span><br><span class="line">å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚</span><br><span class="line"><span class="number">1</span>-&gt;<span class="number">1</span>-&gt;<span class="number">2</span>-&gt;<span class="number">3</span>-&gt;<span class="number">4</span>-&gt;<span class="number">4</span>-&gt;<span class="number">5</span>-&gt;<span class="number">6</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šlists = [[]]</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure>


<p>æç¤ºï¼š</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">k == lists.length</span><br><span class="line">0 &lt;= k &lt;= 10<span class="built_in">^</span>4</span><br><span class="line">0 &lt;= lists[i].length &lt;= 500</span><br><span class="line">-10<span class="built_in">^</span>4 &lt;= lists[i][j] &lt;= 10<span class="built_in">^</span>4</span><br><span class="line">lists[i] æŒ‰ å‡åº æ’åˆ—</span><br><span class="line">lists[i].length çš„æ€»å’Œä¸è¶…è¿‡ 10<span class="built_in">^</span>4</span><br></pre></td></tr></table></figure>
</blockquote>
<p>è§£é¢˜æ€è·¯ï¼š</p>
<p>å…ˆè€ƒè™‘åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> b</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeTwoList</span><span class="params">(ListNode a, ListNode b)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a != <span class="literal">null</span> ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> head, aPtr = a, bPtr = b;</span><br><span class="line">    <span class="keyword">while</span> (aPtr != <span class="literal">null</span> &amp;&amp; bPtr != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (aPtr.value &lt; bPtr.value) &#123;</span><br><span class="line">            tail.next = aPtr;</span><br><span class="line">            aPtr = aPtr.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail.next = bPtr;</span><br><span class="line">            bPtr = bPtr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.next;</span><br><span class="line">    &#125;</span><br><span class="line">    tail.next = aPtr != <span class="literal">null</span> ? aPtr : bPtr;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼ä¸€ï¼šé¡ºåºåˆå¹¶ã€ä¸¤ä¸¤åˆå¹¶ã€‘</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼ä¸€ï¼šé¡ºåºåˆå¹¶ã€ä¸¤ä¸¤åˆå¹¶ã€‘</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeKListNode01</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class="line">        ans = mergeTwoList(ans, lists[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> b</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeTwoList</span><span class="params">(ListNode a, ListNode b)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a != <span class="literal">null</span> ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> head, aPtr = a, bPtr = b;</span><br><span class="line">    <span class="keyword">while</span> (aPtr != <span class="literal">null</span> &amp;&amp; bPtr != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (aPtr.value &lt; bPtr.value) &#123;</span><br><span class="line">            tail.next = aPtr;</span><br><span class="line">            aPtr = aPtr.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail.next = bPtr;</span><br><span class="line">            bPtr = bPtr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.next;</span><br><span class="line">    &#125;</span><br><span class="line">    tail.next = aPtr != <span class="literal">null</span> ? aPtr : bPtr;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼äºŒï¼šåˆ†æ²»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ†æ²»åˆå¹¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeKListNode02</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> merge(lists, <span class="number">0</span>, lists.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">merge</span><span class="params">(ListNode[] lists, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">        <span class="keyword">return</span> lists[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> mergeTwoList(merge(lists, left, mid), merge(lists, mid + <span class="number">1</span>, right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå¹¶ä¸¤ä¸ªæœ‰åºåˆ—è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> b</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ListNode <span class="title function_">mergeTwoList</span><span class="params">(ListNode a, ListNode b)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="literal">null</span> || b == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a != <span class="literal">null</span> ? a : b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>();</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">tail</span> <span class="operator">=</span> head, aPtr = a, bPtr = b;</span><br><span class="line">    <span class="keyword">while</span> (aPtr != <span class="literal">null</span> &amp;&amp; bPtr != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (aPtr.value &lt; bPtr.value) &#123;</span><br><span class="line">            tail.next = aPtr;</span><br><span class="line">            aPtr = aPtr.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail.next = bPtr;</span><br><span class="line">            bPtr = bPtr.next;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.next;</span><br><span class="line">    &#125;</span><br><span class="line">    tail.next = aPtr != <span class="literal">null</span> ? aPtr : bPtr;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹äºŒï¼š"><a href="#ç¤ºä¾‹äºŒï¼š" class="headerlink" title="ç¤ºä¾‹äºŒï¼š"></a>ç¤ºä¾‹äºŒï¼š</h3><h3 id="ç¤ºä¾‹ä¸‰ï¼šæœç´¢äºŒç»´çŸ©é˜µ-II"><a href="#ç¤ºä¾‹ä¸‰ï¼šæœç´¢äºŒç»´çŸ©é˜µ-II" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šæœç´¢äºŒç»´çŸ©é˜µ II"></a>ç¤ºä¾‹ä¸‰ï¼šæœç´¢äºŒç»´çŸ©é˜µ II</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/search-a-2d-matrix-ii/">æœç´¢äºŒç»´çŸ©é˜µ II</a></p>
<blockquote>
<p>ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ m x n çŸ©é˜µ matrix ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<p>æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚<br>æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">15</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">19</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">22</span>],[<span class="number">10</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">17</span>,<span class="number">24</span>],[<span class="number">18</span>,<span class="number">21</span>,<span class="number">23</span>,<span class="number">26</span>,<span class="number">30</span>]], target = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šmatrix = [[<span class="number">1</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">15</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">19</span>],[<span class="number">3</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">22</span>],[<span class="number">10</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">17</span>,<span class="number">24</span>],[<span class="number">18</span>,<span class="number">21</span>,<span class="number">23</span>,<span class="number">26</span>,<span class="number">30</span>]], target = <span class="number">20</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šç›´æ¥æŸ¥æ‰¾</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">searchMatrix</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] row : matrix) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> element : row) &#123;</span><br><span class="line">            <span class="keyword">if</span> (element == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¤æ‚åº¦åˆ†æ</strong></p>
<ul>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO*(<em>m**n</em>)</li>
<li>ç©ºé—´å¤æ‚åº¦ï¼šO*(1)</li>
</ul>
<p>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</p>
<p>â€‹		ç”±äºçŸ©é˜µ matrix ä¸­æ¯ä¸€è¡Œçš„å…ƒç´ éƒ½æ˜¯å‡åºæ’åˆ—çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸€è¡Œéƒ½ä½¿ç”¨ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ¤æ–­ target æ˜¯å¦åœ¨è¯¥è¡Œä¸­ï¼Œä»è€Œåˆ¤æ–­ target æ˜¯å¦å‡ºç°ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> matrix</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">searchMatrix02</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span>[] row : matrix) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> search(row, target);</span><br><span class="line">        <span class="keyword">if</span> (index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] row, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> <span class="number">0</span>, high = row.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> low + (high - low) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> row[mid];</span><br><span class="line">        <span class="keyword">if</span> (num == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; num) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h2 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h2><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><h3 id="åŸºæœ¬æ€æƒ³-5"><a href="#åŸºæœ¬æ€æƒ³-5" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p>â€‹		åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰</p>
<h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><p>â€‹		é—®é¢˜å«æœ‰é‡å¤çš„å­é—®é¢˜ï¼Œæ¯ä¸€ä¸ªçŠ¶æ€éƒ½ç”±ä¸Šä¸€ä¸ªçŠ¶æ€æ¨å¯¼å¾—åˆ°ã€‚</p>
<h4 id="è§£é¢˜æ­¥éª¤-4"><a href="#è§£é¢˜æ­¥éª¤-4" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h4><ul>
<li>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼ŒæŒ‰æƒ…å†µå†³å®šéœ€è¦ä¸€ç»´æ•°ç»„è¿˜æ˜¯äºŒç»´æ•°ç»„</li>
<li>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹</li>
<li>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼</li>
</ul>
<h4 id="æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>æ–æ³¢é‚£å¥‘æ•°åˆ—</h4><p>æ–æ³¢é‚£å¥‘æ•°åˆ—ä½œä¸ºåŠ¨æ€è§„åˆ’çš„ç»å…¸å…¥é—¨ç¤ºä¾‹ï¼Œå¦‚ä¸‹ï¼š</p>
<p>åŠ›æ‰£ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/fibonacci-number/">https://leetcode.cn/problems/fibonacci-number/</a></p>
<p>æ–æ³¢é‚£å¥‘æ•° ï¼ˆé€šå¸¸ç”¨ F(n) è¡¨ç¤ºï¼‰å½¢æˆçš„åºåˆ—ç§°ä¸º æ–æ³¢é‚£å¥‘æ•°åˆ— ã€‚è¯¥æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š</p>
<p>F(0) &#x3D; 0ï¼ŒF(1) &#x3D; 1<br>F(n) &#x3D; F(n - 1) + F(n - 2)ï¼Œå…¶ä¸­ n &gt; 1<br>ç»™å®š n ï¼Œè¯·è®¡ç®— F(n) ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 2<br>è¾“å‡ºï¼š1<br>è§£é‡Šï¼šF(2) &#x3D; F(1) + F(0) &#x3D; 1 + 0 &#x3D; 1<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼šn &#x3D; 3<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šF(3) &#x3D; F(2) + F(1) &#x3D; 1 + 1 &#x3D; 2</p>
<p>ã€æ–¹æ¡ˆä¸€ï¼šé€’å½’ã€‘</p>
<p>é€’å½’çš„æ€è·¯æ˜¯æœ€æ¸…æ™°çš„ã€‚</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€’å½’å®ç° F(n) = F(n-1) + F(n-2)</span></span><br><span class="line"><span class="comment"> * ç¼ºç‚¹ï¼š</span></span><br><span class="line"><span class="comment"> *  1. å¯¼è‡´æ ˆæº¢å‡º</span></span><br><span class="line"><span class="comment"> *  2. é‡å¤è®¡ç®—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fibonacci01</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fibonacci01(n - <span class="number">1</span>) + fibonacci01(n - <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€’å½’çš„ç¼ºç‚¹ï¼šï¼ˆ1ï¼‰æ ˆæº¢å‡º	ï¼ˆ2ï¼‰é‡å¤è®¡ç®—</p>
<p>å­é—®é¢˜å‡ºç°äº†é‡å¤è®¡ç®—ï¼Œé‡‡ç”¨åŠ¨æ€è§„åˆ’æ”¹è¿›ã€‚</p>
<p>ã€æ–¹æ¡ˆäºŒï¼šåŠ¨æ€è§„åˆ’ã€‘</p>
<p>æ­¥éª¤ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼Œdp[i] è¡¨ç¤ºå½“å‰çš„æ–æ³¢é‚£å¥‘æ•°å€¼</li>
<li>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹ï¼ŒF(n) &#x3D; F(n-1) + F(n-2)</li>
<li>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼ï¼ŒF(0) &#x3D; 0ï¼ŒF(1) &#x3D; 1</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fibonacci02</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ã€æ–¹æ¡ˆä¸‰ï¼šæ»šåŠ¨æ•°ç»„æ€æƒ³ã€‘</p>
<p>ç”±äºF(n)åªä¸F(n-1) å’Œ F(n-2)æœ‰å…³ï¼Œä¸”æ˜¯ä¸€ç»´æ•°ç»„ï¼Œé‡‡ç”¨æ»šåŠ¨æ•°ç»„æ€æƒ³</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿›ä¸€æ­¥ç®€åŒ–ï¼š</span></span><br><span class="line"><span class="comment"> * ç”±äºF(n)åªä¸F(n-1) å’Œ F(n-2)æœ‰å…³ï¼Œä¸”æ˜¯ä¸€ç»´æ•°ç»„ï¼Œé‡‡ç”¨æ»šåŠ¨æ•°ç»„æ€æƒ³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fibonacci03</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        p = q;</span><br><span class="line">        q = r;</span><br><span class="line">        r = p + q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…¥é—¨ç¤ºä¾‹"><a href="#å…¥é—¨ç¤ºä¾‹" class="headerlink" title="å…¥é—¨ç¤ºä¾‹"></a>å…¥é—¨ç¤ºä¾‹</h3><h4 id="çˆ¬æ¥¼æ¢¯"><a href="#çˆ¬æ¥¼æ¢¯" class="headerlink" title="çˆ¬æ¥¼æ¢¯"></a>çˆ¬æ¥¼æ¢¯</h4><p>åŠ›æ‰£ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/climbing-stairs/">https://leetcode.cn/problems/climbing-stairs/</a></p>
<p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</p>
<p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 2</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line">1. 1 é˜¶ + 1 é˜¶</span><br><span class="line">2. 2 é˜¶</span><br></pre></td></tr></table></figure>


<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</span><br><span class="line">1. 1 é˜¶ + 1 é˜¶ + 1 é˜¶</span><br><span class="line">2. 1 é˜¶ + 2 é˜¶</span><br><span class="line">3. 2 é˜¶ + 1 é˜¶</span><br></pre></td></tr></table></figure>

<p>è§£é¢˜æ­¥éª¤ï¼š</p>
<p>ç†è§£é¢˜æ„ï¼šæ¯ä¸€ä¸ªçŠ¶æ€éƒ½æ˜¯ç”±ä¸Šä¸€ä¸ªçŠ¶æ€æ¨å¯¼å¾—å‡ºï¼Œè€ƒè™‘åŠ¨æ€è§„åˆ’ã€‚</p>
<ul>
<li><p>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼Œdp[i] è¡¨ç¤ºçˆ¬åˆ°å½“å‰æ¥¼æ¢¯æ‰€éœ€è¦èµ°çš„æ–¹æ³•æ€»æ•°</p>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹ï¼Œç”±äºæ¯æ¬¡å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ï¼Œå› æ­¤çˆ¬åˆ°å½“å‰çš„æ–¹æ³•æ•°ç­‰äºä»ä¸‹ä¸€ä¸ªæ¥¼æ¢¯çˆ¬ä¸Šæ¥çš„æ–¹æ³•æ•°åŠ </p>
<p>â€‹				ä¸Šä»ä¸‹ä¸¤ä¸ªæ¥¼æ¢¯çˆ¬ä¸Šæ¥çš„æ–¹æ³•æ•°ï¼›ä¾¿æœ‰çŠ¶æ€æ–¹ç¨‹ï¼šdp[i] &#x3D; dp[i-1] + dp[i-2]ï¼Œå…¬å¼ç­‰åŒäºæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œä½†æ€</p>
<p>â€‹				æƒ³ä¸åŒã€‚</p>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼ï¼Œé¦–å…ˆåˆå§‹å€¼æ˜¯ç¡®å®šçš„ï¼Œä¸èƒ½ä»ç¬¬äºŒé˜¶å¼€å§‹ç®—ï¼Œå› ä¸ºçˆ¬åˆ°ç¬¬äºŒé˜¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œå› æ­¤åˆå§‹å€¼éœ€è¦ç¡®</p>
<p>â€‹				å®šç¬¬ 0 é˜¶å’Œç¬¬ 1 é˜¶ï¼›dp[0] &#x3D; 1, dp[1] &#x3D; 1ã€‚</p>
</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">climbStairs</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = dp[i - <span class="number">1</span>] + dp[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="æ”¾è‹¹æœ"><a href="#æ”¾è‹¹æœ" class="headerlink" title="æ”¾è‹¹æœ"></a>æ”¾è‹¹æœ</h3><blockquote>
<h2 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>æŠŠmä¸ª<strong>åŒæ ·</strong>çš„è‹¹æœæ”¾åœ¨nä¸ª<strong>åŒæ ·</strong>çš„ç›˜å­é‡Œï¼Œå…è®¸æœ‰çš„ç›˜å­ç©ºç€ä¸æ”¾ï¼Œé—®å…±æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ï¼Ÿ</p>
<p>æ³¨æ„ï¼šå¦‚æœæœ‰7ä¸ªè‹¹æœå’Œ3ä¸ªç›˜å­ï¼Œï¼ˆ5ï¼Œ1ï¼Œ1ï¼‰å’Œï¼ˆ1ï¼Œ5ï¼Œ1ï¼‰è¢«è§†ä¸ºæ˜¯åŒä¸€ç§åˆ†æ³•ã€‚</p>
<p>æ•°æ®èŒƒå›´ï¼š0â‰¤<em>m</em>â‰¤10 ï¼Œ1â‰¤<em>n</em>â‰¤10 ã€‚</p>
<h3 id="è¾“å…¥æè¿°ï¼š"><a href="#è¾“å…¥æè¿°ï¼š" class="headerlink" title="è¾“å…¥æè¿°ï¼š"></a>è¾“å…¥æè¿°ï¼š</h3><p>è¾“å…¥ä¸¤ä¸ªintæ•´æ•°</p>
<h3 id="è¾“å‡ºæè¿°ï¼š"><a href="#è¾“å‡ºæè¿°ï¼š" class="headerlink" title="è¾“å‡ºæè¿°ï¼š"></a>è¾“å‡ºæè¿°ï¼š</h3><p>è¾“å‡ºç»“æœï¼Œintå‹</p>
<h2 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a>ç¤ºä¾‹1</h2><p>è¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7 3</span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶</p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>é—®é¢˜åˆ†æï¼š</p>
<blockquote>
<h3 id="åŠ¨æ€è§„åˆ’-1"><a href="#åŠ¨æ€è§„åˆ’-1" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>ä½¿ç”¨åŠ¨æ€è§„åˆ’æ€æƒ³æ±‚è§£ï¼Œè®° <code>dp[i][j]</code> è¡¨ç¤ºä½¿ç”¨ <code>i</code> ä¸ªè‹¹æœæ”¾å…¥åˆ° <code>j</code> ä¸ªç›˜å­çš„æ–¹æ¡ˆæ•°ã€‚</p>
<ol>
<li>è‹¥i&lt;jï¼Œå³è‹¹æœæ¯”ç›˜å­æ•°å°<ul>
<li>æ¯”å¦‚å°† 2 ä¸ªè‹¹æœæ”¾å…¥ 3 ä¸ªç›˜å­ï¼Œå¿…ç„¶ä¼šæœ‰ä¸€ä¸ªç›˜å­ä¸ºç©ºï¼Œå³<code>&#123;0,x,y&#125;</code>ï¼Œå…¶ä¸­ä¸€ä½å›ºå®šä¸º 0ï¼Œä¸ä¼šå½±å“æœ€ç»ˆçš„æ–¹æ¡ˆæ•°ï¼Œè¿™å’Œå°† 2 ä¸ªè‹¹æœæ”¾å…¥ 2 ä¸ªç›˜å­çš„æ–¹æ¡ˆæ•°ç›®æ˜¯ä¸€æ ·çš„ï¼Œå³ <code>&#123;x,y&#125;</code></li>
<li>å› æ­¤æœ‰å½“ <code>i&lt;j</code> æ—¶ï¼Œ<code>dp[i][j] = dp[i][i]</code></li>
</ul>
</li>
<li>è‹¥i&gt;&#x3D;jï¼Œå³è‹¹æœæ•°ç›®ä¸å°äºç›˜å­æ•°æ—¶ï¼Œè€ƒè™‘æ˜¯å¦å…è®¸æœ‰ç©ºç›˜å­ï¼ˆæ¯”å¦‚å°† 4 ä¸ªè‹¹æœæ”¾å…¥ 3 ä¸ªç›˜å­ï¼‰<ul>
<li>è‹¥å…è®¸æœ‰ç©ºç›˜ï¼Œç›¸å½“äºç›˜å­æ•°é‡å°‘ä¸€ä¸ªï¼ˆå› ä¸ºå›ºå®šè®¤ä¸ºæ˜¯ç©ºç›˜ï¼Œä¸ä¼šå½±å“æœ€ç»ˆæ–¹æ¡ˆæ•°ç›®ï¼‰ï¼Œå³ <code>&#123;x,y,0&#125;</code>ï¼Œè¿™å¯¹åº”ç€ <code>dp[i][j-1]</code></li>
<li>è‹¥ä¸å…è®¸æœ‰ç©ºç›˜ï¼Œå¯¹äº <code>j</code> ä¸ªç›˜å­ï¼Œç›¸å½“äºæ‹¿å‡ºæ¥ <code>j</code> ä¸ªè‹¹æœï¼Œåˆ†é…åˆ°æ¯ä¸ªç›˜å­ä¸­ï¼Œä¿è¯æ¯ä¸ªç›˜å­åˆ†é…åˆ°ä¸€ä¸ªè‹¹æœï¼Œè¿™å¯¹åº”ç€ <code>dp[iâˆ’j][j]</code></li>
<li>å› æ­¤æœ‰å½“ <code>i&gt;=j</code> æ—¶ï¼Œ<code>dp[i][j] = dp[i][j-1] + dp[iâˆ’j][j]</code></li>
</ul>
</li>
<li>è¾¹ç•Œæ¡ä»¶<ul>
<li>å¯¹äºåªæœ‰ 1 ä¸ªç›˜å­çš„æƒ…å†µï¼Œåˆ†é…æ–¹æ¡ˆåªæœ‰ 1 ç§ï¼Œ<code>dp[i][1] = 1;</code></li>
<li>å¯¹äºåªæœ‰ 0 ä¸ªè‹¹æœçš„æƒ…å†µï¼Œåˆ†é…æ–¹æ¡ˆåªæœ‰ 1 ç§ï¼Œ<code>dp[0][j] = 1;</code></li>
<li>å¯¹äºåªæœ‰ 1 ä¸ªè‹¹æœçš„æƒ…å†µï¼Œåˆ†é…æ–¹æ¡ˆåªæœ‰ 1 ç§ï¼Œ<code>dp[1][j] = 1;</code></li>
</ul>
</li>
</ol>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼ä¸€ï¼šåŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> apple</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> dish</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">putApple</span><span class="params">(<span class="type">int</span> apple, <span class="type">int</span> dish)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (apple == <span class="number">0</span> || dish == <span class="number">0</span> || apple == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//dp[i][j] è¡¨ç¤ºä½¿ç”¨ i ä¸ªè‹¹æœæ”¾å…¥åˆ° j ä¸ªç›˜å­çš„æ–¹æ¡ˆæ•°</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[apple + <span class="number">1</span>][dish + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= apple; i++) &#123;</span><br><span class="line">        <span class="comment">//ç›˜å­æ•°é‡ä¸º1æ—¶</span></span><br><span class="line">        dp[i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= dish; i++) &#123;</span><br><span class="line">        <span class="comment">//è‹¹æœæ•°ä¸º0å’Œ1</span></span><br><span class="line">        dp[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= apple; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>; j &lt;= dish; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; j) &#123;</span><br><span class="line">                <span class="comment">//è‹¹æœæ•°é‡å°äºç›˜å­æ•°é‡</span></span><br><span class="line">                dp[i][j] = dp[i][i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœå…è®¸æœ‰ç©ºç›˜</span></span><br><span class="line">                dp[i][j] = dp[i][j - <span class="number">1</span>];</span><br><span class="line">                <span class="comment">//æ³¨æ„ &gt;=</span></span><br><span class="line">                <span class="keyword">if</span> (i - j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">//æ¯ä¸ªç›˜å­éƒ½æ”¾</span></span><br><span class="line">                    dp[i][j] += dp[i - j][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[apple][dish];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h3><h4 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h4><h4 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h4><p><img src="/2023/02/28/DataStructuresAndAlgorithms/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98.png" alt="èƒŒåŒ…é—®é¢˜"></p>
<h4 id="0-1èƒŒåŒ…"><a href="#0-1èƒŒåŒ…" class="headerlink" title="0-1èƒŒåŒ…"></a>0-1èƒŒåŒ…</h4><p>â€‹		æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º V çš„èƒŒåŒ…ã€‚ç¬¬ i ä»¶ç‰©å“çš„é‡é‡æ˜¯ w[i]ï¼Œä»·å€¼æ˜¯ v[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„é‡é‡æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚æ¯ç§ç‰©å“ä»…æœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾ã€‚</p>
<h4 id="è§£é¢˜æ­¥éª¤-5"><a href="#è§£é¢˜æ­¥éª¤-5" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h4><p>ï¼ˆ1ï¼‰æ”¾å…¥ç¬¬ i ä»¶ç‰©å“æ—¶çš„ä»·å€¼ä¾èµ–äºæ”¾å…¥ç¬¬ i-1 ä»¶ç‰©å“æ—¶çš„ä»·å€¼ï¼Œå±äºå­é—®é¢˜ï¼Œå› æ­¤è€ƒè™‘åŠ¨æ€è§„åˆ’ï¼›</p>
<p>ï¼ˆ2ï¼‰ç”±äºæ¯æ¬¡æ”¾å…¥ç‰©å“æ—¶ï¼Œéƒ½è¦è€ƒè™‘é‡é‡ï¼Œå› æ­¤ä½¿ç”¨äºŒç»´æ•°ç»„ dp[i] [j] è¡¨ç¤ºç¬¬ i ä¸ªç‰©å“ï¼Œåœ¨å®¹é‡ä¸º j æ—¶çš„ä»·å€¼ï¼›</p>
<p>ï¼ˆ3ï¼‰æ¯æ¬¡æ”¾å…¥ç‰©å“æ—¶éœ€è¦è€ƒè™‘æ”¾å¾—ä¸‹è¿˜æ˜¯æ”¾ä¸ä¸‹çš„é—®é¢˜ï¼Œé’ˆå¯¹ä¸¤ç§æƒ…å†µåˆ¤æ–­æœ€ä¼˜è§£ã€‚</p>
<p>ä½¿ç”¨è¡¨æ ¼æ¼”ç¤ºè¿‡ç¨‹ï¼š</p>
<ul>
<li><p>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼›ä½¿ç”¨ dp[i] [j] è¡¨ç¤ºåœ¨å®¹é‡ä¸º j æ—¶ï¼Œæ”¾å…¥ç¬¬ i ä¸ªç‰©å“çš„æ€»ä»·å€¼ã€‚</p>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹ï¼›æ­¤å¤„éœ€è¦è€ƒè™‘æ”¾å¾—ä¸‹è¿˜æ˜¯æ”¾ä¸ä¸‹çš„é—®é¢˜ã€‚</p>
<p>â€‹				æ”¾ä¸ä¸‹ï¼šèƒŒåŒ…çš„æœ€å¤§ä»·å€¼ä¾¿æ˜¯å·²æ”¾å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼ï¼Œdp[i] [j] &#x3D; dp[i-1] [j]</p>
<p>â€‹				æ”¾å¾—ä¸‹ï¼šæœ€å¤§ä»·å€¼ä¸ºå½“å‰çš„ç‰©å“ä»·å€¼ï¼ŒåŠ ä¸Šæ€»å®¹é‡å‡å»å½“å‰ç‰©å“çš„é‡é‡åçš„æœ€å¤§ä»·å€¼ï¼Œä¹Ÿå°±æ˜¯</p>
<p>â€‹								dp[i] [j] &#x3D; v[i] + dp[i - 1] [j - w[i]]</p>
<p>â€‹				æœ€å¤§ä»·å€¼å–ä¸¤è€…çš„æœ€å¤§å€¼ï¼Œå› æ­¤çŠ¶æ€æ–¹ç¨‹ä¸ºï¼šdp[i] [j] &#x3D; Max{dp[i-1] [j], v[i] + dp[i - 1] [j - w[i]]}</p>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼ï¼›æ¶‰åŠåˆ° i -1 çš„é—®é¢˜ï¼Œå› æ­¤ i &#x3D; 0æ—¶éœ€è¦åˆå§‹åŒ–</p>
<p>â€‹</p>
</li>
</ul>
<p>			</p>
<h3 id="æ‰“å®¶åŠ«èˆ"><a href="#æ‰“å®¶åŠ«èˆ" class="headerlink" title="æ‰“å®¶åŠ«èˆ"></a>æ‰“å®¶åŠ«èˆ</h3><h3 id="è‚¡ç¥¨é—®é¢˜"><a href="#è‚¡ç¥¨é—®é¢˜" class="headerlink" title="è‚¡ç¥¨é—®é¢˜"></a>è‚¡ç¥¨é—®é¢˜</h3><h3 id="å­åºåˆ—é—®é¢˜"><a href="#å­åºåˆ—é—®é¢˜" class="headerlink" title="å­åºåˆ—é—®é¢˜"></a>å­åºåˆ—é—®é¢˜</h3><h4 id="ç¤ºä¾‹ä¸€ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—"><a href="#ç¤ºä¾‹ä¸€ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—"></a>ç¤ºä¾‹ä¸€ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—</h4><p>å­åºåˆ—æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚</p>
<p>è§£é¢˜æ€è·¯ï¼šéœ€è¦åŒé‡ for å¾ªç¯ï¼Œä»å‰å¾€åä¾æ¬¡åˆ¤æ–­ç¬¬ i ä¸ªä½ç½®ä¹‹å‰çš„æœ€é•¿ä¸Šå‡å­åºåˆ—æ—¶ï¼ˆå¯ä»¥äºŒåˆ†æ³•ä¼˜åŒ–ï¼‰ï¼Œåˆ¤æ–­ j ä½ç½®çš„å…ƒç´ å¤§å°ï¼Œå¦‚æœæ•°ç»„ nums[i] &gt; nums[j]ï¼Œåˆ™ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ +1ï¼Œå¦åˆ™ä¿æŒä¸å˜ï¼Œå› æ­¤ä½¿ç”¨ä¸€ç»´æ•°ç»„ dp[i] è®°å½• i ä½ç½®ä¹‹å‰çš„ä¸Šå‡å­åºåˆ—é•¿åº¦ï¼Œæœ€ç»ˆ dp[i] çš„æœ€å¤§å€¼å³ä¸ºæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°ç»„å«ä¹‰ï¼›dp[i] è®°å½• i ä½ç½®ä¹‹å‰çš„ä¸Šå‡å­åºåˆ—é•¿åº¦ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼šç¡®å®šçŠ¶æ€æ–¹ç¨‹ï¼›dp[i] &#x3D; Math.max(dp[j], dp[j]+1)ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šç¡®å®šåˆå§‹å€¼ï¼›åˆå§‹æ¯ä¸ªä½ç½®çš„ä¸Šå‡é•¿åº¦éƒ½ä¸º 1ã€‚</li>
</ul>
<p>æ–¹å¼ä¸€ï¼šåŠ¨æ€è§„åˆ’</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ€é•¿ä¸Šå‡å­åºåˆ—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method01</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">//æ•°ç»„å«ä¹‰ï¼ši ä½ç½®ä¹‹å‰çš„æœ€å¤§ä¸Šå‡å­åºåˆ—é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹å€¼é»˜è®¤ä¸º 1</span></span><br><span class="line">    Arrays.fill(dp, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ€ç»ˆdp[i]çš„æœ€å¤§å€¼å³ä¸ºæœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//i ä» 1 å¼€å§‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="comment">//ä¸æ–­æ›´æ–° dp[i] çš„å€¼ï¼Œæ³¨æ„ j &lt; i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="comment">//é€’æ¨å…¬å¼ï¼šnums[i] &gt; nums[j]ï¼Œåˆ™ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ +1ï¼Œå¦åˆ™ä¿æŒä¸å˜</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                <span class="comment">//å½“å‰ä½ç½®çš„æœ€å¤§å­åºåˆ—é•¿åº¦å–å†³äºå‰ä¸€ä¸ªä½ç½®çš„æœ€å¤§ä¸Šå‡å­åºåˆ—é•¿åº¦</span></span><br><span class="line">                dp[i] = Math.max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ¯æ¬¡å¾ªç¯ç¡®å®š dp[i] çš„æœ€å¤§å€¼</span></span><br><span class="line">        ans = Math.max(ans, dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹äºŒï¼šåˆå”±é˜Ÿ"><a href="#ç¤ºä¾‹äºŒï¼šåˆå”±é˜Ÿ" class="headerlink" title="ç¤ºä¾‹äºŒï¼šåˆå”±é˜Ÿ"></a>ç¤ºä¾‹äºŒï¼šåˆå”±é˜Ÿ</h4><p>æ–¹å¼ä¸€ï¼šåŠ¨æ€è§„åˆ’</p>
<p>åœ¨åŸºæœ¬æœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜ä¸ŠåŠ äº†çº¦æŸæ¡ä»¶ï¼Œéœ€è¦å·¦è¾¹é€’å¢ï¼Œå³è¾¹é€’å‡ã€‚</p>
<p>åŸºæœ¬æ€è·¯ï¼šå…ˆæ‰¾åˆ°ä½ç½® i  ä¹‹å‰çš„æœ€é•¿é€’å¢åºåˆ— dpLeft[i]ï¼Œå†æ‰¾åˆ°ä½ç½® i  ä¹‹åçš„æœ€é•¿é€’å‡åºåˆ— dpRight[i]ï¼Œæ±‚å‡ºæ‰€æœ‰ä½ç½®çš„æœ€é•¿é€’å¢å’Œæœ€é•¿é€’å‡çš„é•¿åº¦ï¼ˆdpLeft[i] + dpRight[i] -1ï¼‰ï¼Œæœ€åå‡å»æœ€é•¿çš„é•¿åº¦å³ä¸ºå‡ºé˜Ÿäººæ•°ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆå”±é˜Ÿï¼šåŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method01</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">//æœ€é•¿å·¦é€’å¢é«˜åºåˆ— dpLeft[i]</span></span><br><span class="line">    <span class="type">int</span>[] dpLeft = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–é»˜è®¤ä¸º 1</span></span><br><span class="line">    Arrays.fill(dpLeft, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                dpLeft[i] = Math.max(dpLeft[i], dpLeft[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æœ€é•¿å³é€’å‡åºåˆ— dpRight[i]ï¼Œé€†åºéå†</span></span><br><span class="line">    <span class="type">int</span>[] dpRight = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–é»˜è®¤ä¸º 1</span></span><br><span class="line">    Arrays.fill(dpRight, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> nums.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> nums.length - <span class="number">1</span>; j &gt; i; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                dpRight[i] = Math.max(dpRight[i], dpRight[j] + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dpSum = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dpSum.length; i++) &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„å‡ 1</span></span><br><span class="line">        dpSum[i] = dpLeft[i] + dpRight[i] - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é»˜è®¤æœ€å°å€¼ä¸º dp é»˜è®¤å€¼</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dpSum.length; i++) &#123;</span><br><span class="line">        ans = Math.max(ans, dpSum[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums.length - ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ç¤ºä¾‹ä¸‰ï¼šæœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—"><a href="#ç¤ºä¾‹ä¸‰ï¼šæœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šæœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—"></a>ç¤ºä¾‹ä¸‰ï¼šæœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—</h4><p>æ–¹å¼ä¸€ï¼šåŠ¨æ€è§„åˆ’</p>
<p>åŸºæœ¬æ€è·¯ï¼šå› ä¸ºæ˜¯è¿ç»­é€’å¢å­åºåˆ—ï¼Œæ‰€ä»¥ i ä½ç½®çš„å€¼ä¾èµ–äº i - 1 ä½ç½®çš„å€¼ï¼Œå¦‚æœ i - 1ä½ç½®çš„å€¼ä¸º 1 ï¼Œåˆ™è¯´æ˜ i - 1 å¤„æ˜¯è¿ç»­é€’å¢ä¸­æ–­çš„æˆ–è€…æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤æœ‰é€’æ¨å…¬å¼ï¼šdp[i] &#x3D; dp[i-1] + 1; ä¸åŒäºæœ€é•¿è¿ç»­ä¸Šå‡é—®é¢˜ï¼Œå› æ­¤ä¸éœ€è¦åŒé‡ for å¾ªç¯ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—ï¼šåŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method01</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="comment">//ç¡®å®šæ•°ç»„å«ä¹‰</span></span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    Arrays.fill(dp, <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœå½“å‰å€¼å¤§äºå‰ä¸€ä¸ªå€¼ï¼Œåˆ™ dp[i] + 1ï¼Œå¦åˆ™é‡æ–°å¼€å§‹</span></span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            dp[i] = dp[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = Math.max(ans, dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼šè´ªå¿ƒ</p>
<p>åŸºæœ¬æ€è·¯ï¼šå¦‚æœ nums[i] &gt; nums[i-1]ï¼Œåˆ™ count++ï¼Œå¦åˆ™ count &#x3D; 1</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ€é•¿è¿ç»­ä¸Šå‡å­åºåˆ—ï¼šè´ªå¿ƒ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method02</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = Math.max(ans, count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¤ºä¾‹å››ï¼šæœ€é•¿é‡å¤å­æ•°ç»„"><a href="#ç¤ºä¾‹å››ï¼šæœ€é•¿é‡å¤å­æ•°ç»„" class="headerlink" title="ç¤ºä¾‹å››ï¼šæœ€é•¿é‡å¤å­æ•°ç»„"></a>ç¤ºä¾‹å››ï¼šæœ€é•¿é‡å¤å­æ•°ç»„</h4><h3 id="ç¼–è¾‘è·ç¦»"><a href="#ç¼–è¾‘è·ç¦»" class="headerlink" title="ç¼–è¾‘è·ç¦»"></a>ç¼–è¾‘è·ç¦»</h3><h4 id="ç¤ºä¾‹ä¸€ï¼šè®¡ç®—å­—ç¬¦ä¸²çš„ç¼–è¾‘è·ç¦»"><a href="#ç¤ºä¾‹ä¸€ï¼šè®¡ç®—å­—ç¬¦ä¸²çš„ç¼–è¾‘è·ç¦»" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šè®¡ç®—å­—ç¬¦ä¸²çš„ç¼–è¾‘è·ç¦»"></a>ç¤ºä¾‹ä¸€ï¼šè®¡ç®—å­—ç¬¦ä¸²çš„ç¼–è¾‘è·ç¦»</h4><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/edit-distance/">72. ç¼–è¾‘è·ç¦» - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<h2 id="æè¿°-1"><a href="#æè¿°-1" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>Levenshtein è·ç¦»ï¼Œåˆç§°ç¼–è¾‘è·ç¦»ï¼ŒæŒ‡çš„æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´ï¼Œç”±ä¸€ä¸ªè½¬æ¢æˆå¦ä¸€ä¸ªæ‰€éœ€çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°ã€‚è®¸å¯çš„ç¼–è¾‘æ“ä½œåŒ…æ‹¬<strong>å°†ä¸€ä¸ªå­—ç¬¦æ›¿æ¢æˆå¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ é™¤ä¸€ä¸ªå­—ç¬¦</strong>ã€‚ç¼–è¾‘è·ç¦»çš„ç®—æ³•æ˜¯é¦–å…ˆç”±ä¿„å›½ç§‘å­¦å®¶ Levenshtein æå‡ºçš„ï¼Œæ•…åˆå« Levenshtein Distance ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>å­—ç¬¦ä¸²A: abcdefg</p>
<p>å­—ç¬¦ä¸²B: abcdef</p>
<p>é€šè¿‡å¢åŠ æˆ–æ˜¯åˆ æ‰å­—ç¬¦ â€gâ€ çš„æ–¹å¼è¾¾åˆ°ç›®çš„ã€‚è¿™ä¸¤ç§æ–¹æ¡ˆéƒ½éœ€è¦ä¸€æ¬¡æ“ä½œã€‚æŠŠè¿™ä¸ªæ“ä½œæ‰€éœ€è¦çš„æ¬¡æ•°å®šä¹‰ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„è·ç¦»ã€‚</p>
<p>è¦æ±‚ï¼š</p>
<p>ç»™å®šä»»æ„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå†™å‡ºä¸€ä¸ªç®—æ³•è®¡ç®—å®ƒä»¬çš„ç¼–è¾‘è·ç¦»ã€‚</p>
<p>æ•°æ®èŒƒå›´ï¼šç»™å®šçš„å­—ç¬¦ä¸²é•¿åº¦æ»¡è¶³ 1 â‰¤ <em>l<strong>e</strong>n</em>(<em>s<strong>t</strong>r</em>)â‰¤1000 </p>
<h6 id="è¾“å…¥æè¿°ï¼š-1"><a href="#è¾“å…¥æè¿°ï¼š-1" class="headerlink" title="è¾“å…¥æè¿°ï¼š"></a>è¾“å…¥æè¿°ï¼š</h6><p>æ¯ç»„ç”¨ä¾‹ä¸€å…±2è¡Œï¼Œä¸ºè¾“å…¥çš„ä¸¤ä¸ªå­—ç¬¦ä¸²</p>
<h6 id="è¾“å‡ºæè¿°ï¼š-1"><a href="#è¾“å‡ºæè¿°ï¼š-1" class="headerlink" title="è¾“å‡ºæè¿°ï¼š"></a>è¾“å‡ºæè¿°ï¼š</h6><p>æ¯ç»„ç”¨ä¾‹è¾“å‡ºä¸€è¡Œï¼Œä»£è¡¨å­—ç¬¦ä¸²çš„è·ç¦»</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šword1 = <span class="string">&quot;horse&quot;</span>, word2 = <span class="string">&quot;ros&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">horse -&gt; rorse (å°† <span class="string">&#x27;h&#x27;</span> æ›¿æ¢ä¸º <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">rorse -&gt; rose (åˆ é™¤ <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">rose -&gt; ros (åˆ é™¤ <span class="string">&#x27;e&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šword1 = &quot;intention&quot;, word2 = &quot;execution&quot;</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">intention -&gt; inention (åˆ é™¤ &#x27;t&#x27;)</span><br><span class="line">inention -&gt; enention (å°† &#x27;i&#x27; æ›¿æ¢ä¸º &#x27;e&#x27;)</span><br><span class="line">enention -&gt; exention (å°† &#x27;n&#x27; æ›¿æ¢ä¸º &#x27;x&#x27;)</span><br><span class="line">exention -&gt; exection (å°† &#x27;n&#x27; æ›¿æ¢ä¸º &#x27;c&#x27;)</span><br><span class="line">exection -&gt; execution (æ’å…¥ &#x27;u&#x27;)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šåŠ¨æ€è§„åˆ’</p>
<p>åŸºæœ¬æ€è·¯ï¼š</p>
<ul>
<li><p>ç¡®å®š dp æ•°ç»„å«ä¹‰ï¼›dp[i] [j]è¡¨ç¤ºå­—ç¬¦ä¸² A çš„å‰ i - 1 ä¸ªå­—ç¬¦ä¸å­—ç¬¦ä¸² B çš„å‰ j - 1 ä¸ªå­—ç¬¦ç›¸åŒæ‰€éœ€è¦çš„ç¼–è¾‘è·ç¦»</p>
</li>
<li><p>ç¡®å®šé€’æ¨å…¬å¼ï¼›åˆ†ä¸ºå››ç§æƒ…å†µï¼š</p>
<ul>
<li>A[i] &#x3D;&#x3D; B[j] æ—¶ï¼Œä¸ç”¨ç¼–è¾‘ä»»ä½•è·ç¦»ï¼Œdp[i] [j] &#x3D; dp[i-1] [j-1]ï¼Œå½“ A[i] !&#x3D; B[j] æ—¶ï¼Œåˆ†ä¸ºä¸‰ç§ï¼š</li>
<li>å­—ç¬¦ä¸² A åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œdp[i] [j] &#x3D; dp[i-1] [j] + 1</li>
<li>å­—ç¬¦ä¸² A å¢åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæƒ³å½“äºå­—ç¬¦ä¸² B åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œdp[i] [j] &#x3D; dp[i] [j-1] + 1</li>
<li>æ›¿æ¢å…ƒç´ ï¼Œdp[i] [j] &#x3D; dp[i-1] [j-1]</li>
</ul>
</li>
<li><p>å› æ­¤é€’æ¨å…¬å¼ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (A[i - <span class="number">1</span>] == B[j - <span class="number">1</span>]) &#123;</span><br><span class="line">    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    dp[i][j] = Math.min(dp[i - <span class="number">1</span>][j - <span class="number">1</span>], dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¡®å®šåˆå§‹å€¼ï¼›dp[i] [0] è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºç©ºï¼Œåˆ™éœ€è¦çš„æ­¥éª¤ä¸º i ï¼ŒåŒç† dp[0] [j] &#x3D; j</p>
</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç¼–è¾‘è·ç¦»ï¼šåŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> word1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> word2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method01</span><span class="params">(String word1, String word2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> word1.length();</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> word2.length();</span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        dp[i][<span class="number">0</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][j] = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = Math.min(Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]), dp[i - <span class="number">1</span>][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m][n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>















<h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><h2 id="å­—å…¸æ ‘"><a href="#å­—å…¸æ ‘" class="headerlink" title="å­—å…¸æ ‘"></a>å­—å…¸æ ‘</h2><h2 id="å­—ç¬¦ä¸²åŒ¹é…"><a href="#å­—ç¬¦ä¸²åŒ¹é…" class="headerlink" title="å­—ç¬¦ä¸²åŒ¹é…"></a>å­—ç¬¦ä¸²åŒ¹é…</h2><h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h2><h3 id="åŸºæœ¬æ€æƒ³-6"><a href="#åŸºæœ¬æ€æƒ³-6" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><blockquote>
<p>è§£å†³é—®é¢˜ï¼šé€šå¸¸æŠ½è±¡å‡ºä¸€ç»´æ•°ç»„ï¼Œå¯»æ‰¾å³è¾¹æˆ–è€…å·¦è¾¹æ¯”å½“å‰å…ƒç´ å¤§æˆ–è€…å°çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨åŒå±‚ for å¾ªç¯æš´åŠ›è§£å†³ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œå¦ä¸€ç§ç®€æ´çš„è§£æ³•æ˜¯ä½¿ç”¨æ ˆï¼Œè¯¥æ ˆä¸­çš„å…ƒç´ æ˜¯å•è°ƒé€’å‡æˆ–è€…é€’å¢çš„ã€‚</p>
</blockquote>
<h3 id="ç¤ºä¾‹ä¸€ï¼šæ¯æ—¥æ¸©åº¦"><a href="#ç¤ºä¾‹ä¸€ï¼šæ¯æ—¥æ¸©åº¦" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šæ¯æ—¥æ¸©åº¦"></a>ç¤ºä¾‹ä¸€ï¼šæ¯æ—¥æ¸©åº¦</h3><p>ã€æ¯æ—¥æ¸©åº¦ã€‘ï¼š<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/daily-temperatures/">https://leetcode.cn/problems/daily-temperatures/</a></p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ temperatures ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] æ˜¯æŒ‡å¯¹äºç¬¬ i å¤©ï¼Œä¸‹ä¸€ä¸ªæ›´é«˜æ¸©åº¦å‡ºç°åœ¨å‡ å¤©åã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: temperatures = [<span class="number">73</span>,<span class="number">74</span>,<span class="number">75</span>,<span class="number">71</span>,<span class="number">69</span>,<span class="number">72</span>,<span class="number">76</span>,<span class="number">73</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: temperatures = [<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">60</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: temperatures = [<span class="number">30</span>,<span class="number">60</span>,<span class="number">90</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼ä¸€ï¼šæš´åŠ›è§£æ³•</p>
<p>æ–¹å¼äºŒï¼šå•è°ƒæ ˆ</p>
<p>å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå­˜å‚¨ä¸‹æ ‡çš„å•è°ƒæ ˆï¼Œä»æ ˆåº•åˆ°æ ˆé¡¶çš„ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦åˆ—è¡¨ä¸­çš„æ¸©åº¦ä¾æ¬¡é€’å‡ã€‚å¦‚æœä¸€ä¸ªä¸‹æ ‡åœ¨å•è°ƒæ ˆé‡Œï¼Œåˆ™è¡¨ç¤ºå°šæœªæ‰¾åˆ°ä¸‹ä¸€æ¬¡æ¸©åº¦æ›´é«˜çš„ä¸‹æ ‡ã€‚</p>
<p>æ­£å‘éå†æ¸©åº¦åˆ—è¡¨ã€‚å¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´  temperatures[i]ï¼Œå¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™ç›´æ¥å°† i è¿›æ ˆï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºï¼Œåˆ™æ¯”è¾ƒæ ˆé¡¶å…ƒç´  prevIndex å¯¹åº”çš„æ¸©åº¦ temperatures[prevIndex] å’Œå½“å‰æ¸©åº¦ temperatures[i]ï¼Œå¦‚æœ temperatures[i] &gt; temperatures[prevIndex]ï¼Œåˆ™å°† prevIndex ç§»é™¤ï¼Œå¹¶å°† prevIndex å¯¹åº”çš„ç­‰å¾…å¤©æ•°èµ‹ä¸º i - prevIndexï¼Œé‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¯¹åº”çš„æ¸©åº¦å°äºç­‰äºå½“å‰æ¸©åº¦ï¼Œç„¶åå°† i è¿›æ ˆã€‚</p>
<p>ä¸ºä»€ä¹ˆå¯ä»¥åœ¨å¼¹æ ˆçš„æ—¶å€™æ›´æ–° ans[prevIndex] å‘¢ï¼Ÿå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³å°†è¿›æ ˆçš„ i å¯¹åº”çš„ temperatures[i] ä¸€å®šæ˜¯ temperatures[prevIndex] å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œè¯•æƒ³å¦‚æœ prevIndex å’Œ i æœ‰æ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œå‡è®¾ä¸‹æ ‡ä¸º jï¼Œé‚£ä¹ˆ prevIndex ä¸€å®šä¼šåœ¨ä¸‹æ ‡ j çš„é‚£ä¸€è½®è¢«å¼¹æ‰ã€‚</p>
<p>ç”±äºå•è°ƒæ ˆæ»¡è¶³ä»æ ˆåº•åˆ°æ ˆé¡¶å…ƒç´ å¯¹åº”çš„æ¸©åº¦é€’å‡ï¼Œå› æ­¤æ¯æ¬¡æœ‰å…ƒç´ è¿›æ ˆæ—¶ï¼Œä¼šå°†æ¸©åº¦æ›´ä½çš„å…ƒç´ å…¨éƒ¨ç§»é™¤ï¼Œå¹¶æ›´æ–°å‡ºæ ˆå…ƒç´ å¯¹åº”çš„ç­‰å¾…å¤©æ•°ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ç­‰å¾…å¤©æ•°ä¸€å®šæ˜¯æœ€å°çš„ã€‚</p>
<p>ä»¥ä¸‹ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å¸®åŠ©è¯»è€…ç†è§£å•è°ƒæ ˆã€‚å¯¹äºæ¸©åº¦åˆ—è¡¨ </p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¯æ—¥æ¸©åº¦ï¼šå•è°ƒæ ˆç¤ºä¾‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> temperatures</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] dailyTemperatures(<span class="type">int</span>[] temperatures) &#123;</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[temperatures.length];</span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ans.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temperature</span> <span class="operator">=</span> temperatures[i];</span><br><span class="line">        <span class="comment">//å¼¹æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; temperature &gt; temperatures[stack.peek()]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">ele</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            ans[ele] = i - ele;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹äºŒï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆä¸€ï¼‰"><a href="#ç¤ºä¾‹äºŒï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆä¸€ï¼‰" class="headerlink" title="ç¤ºä¾‹äºŒï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆä¸€ï¼‰"></a>ç¤ºä¾‹äºŒï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆä¸€ï¼‰</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-i/">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>nums1 ä¸­æ•°å­— x çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½® å³ä¾§ çš„ ç¬¬ä¸€ä¸ª æ¯” x å¤§çš„å…ƒç´ ã€‚</p>
<p>ç»™ä½ ä¸¤ä¸ª æ²¡æœ‰é‡å¤å…ƒç´  çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼Œå…¶ä¸­nums1 æ˜¯ nums2 çš„å­é›†ã€‚</p>
<p>å¯¹äºæ¯ä¸ª 0 &lt;&#x3D; i &lt; nums1.length ï¼Œæ‰¾å‡ºæ»¡è¶³ nums1[i] &#x3D;&#x3D; nums2[j] çš„ä¸‹æ ‡ j ï¼Œå¹¶ä¸”åœ¨ nums2 ç¡®å®š nums2[j] çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆæœ¬æ¬¡æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯ -1 ã€‚</p>
<p>è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º nums1.length çš„æ•°ç»„ ans ä½œä¸ºç­”æ¡ˆï¼Œæ»¡è¶³ ans[i] æ˜¯å¦‚ä¸Šæ‰€è¿°çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>], nums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>].</span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">1</span>,<span class="number">3</span>,-<span class="number">1</span>]</span><br><span class="line">è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š</span><br><span class="line"></span><br><span class="line">- <span class="number">4</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -<span class="number">1</span> ã€‚</span><br><span class="line">- <span class="number">1</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ <span class="number">3</span> ã€‚</span><br><span class="line">- <span class="number">2</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -<span class="number">1</span> ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums1 = [<span class="number">2</span>,<span class="number">4</span>], nums2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">3</span>,-<span class="number">1</span>]</span><br><span class="line">è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š</span><br><span class="line"></span><br><span class="line">- <span class="number">2</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ <span class="number">3</span> ã€‚</span><br><span class="line">- <span class="number">4</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ -<span class="number">1</span> ã€‚</span><br></pre></td></tr></table></figure>

<p>æç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= nums1.length &lt;= nums2.length &lt;= <span class="number">1000</span></span><br><span class="line"><span class="number">0</span> &lt;= nums1[i], nums2[i] &lt;= <span class="number">104</span></span><br><span class="line">nums1å’Œnums2ä¸­æ‰€æœ‰æ•´æ•° äº’ä¸ç›¸åŒ</span><br><span class="line">nums1 ä¸­çš„æ‰€æœ‰æ•´æ•°åŒæ ·å‡ºç°åœ¨ nums2 ä¸­</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼ä¸€ï¼šå•è°ƒæ ˆ + å“ˆå¸Œè¡¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼šå•è°ƒæ ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] nextGreaterElement(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[nums1.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> nums2.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> nums2[i];</span><br><span class="line">        <span class="comment">//å¼¹æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; num &gt;= stack.peek()) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//èµ‹å€¼ï¼Œæ³¨æ„stack.isEmpty()</span></span><br><span class="line">        map.put(num, stack.isEmpty() ? -<span class="number">1</span> : stack.peek());</span><br><span class="line">        <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">        stack.push(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è½¬æ¢</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums1.length; ++i) &#123;</span><br><span class="line">        ans[i] = map.get(nums1[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="ç¤ºä¾‹ä¸‰ï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆäºŒï¼‰"><a href="#ç¤ºä¾‹ä¸‰ï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆäºŒï¼‰" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆäºŒï¼‰"></a>ç¤ºä¾‹ä¸‰ï¼šä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼ˆäºŒï¼‰</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-ii/">Loading Questionâ€¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<p>ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ numsï¼ˆ nums[nums.length - 1] çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ nums[0] ï¼‰ï¼Œè¿”å› nums ä¸­æ¯ä¸ªå…ƒç´ çš„ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  ã€‚</p>
<p>æ•°å­— x çš„ ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´  æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1 ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ª <span class="number">1</span> çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ <span class="number">2</span>ï¼›</span><br><span class="line">æ•°å­— <span class="number">2</span> æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› </span><br><span class="line">ç¬¬äºŒä¸ª <span class="number">1</span> çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>


<p>ç¤ºä¾‹ 2:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,-<span class="number">1</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>


<p>æç¤º:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= nums.length &lt;= <span class="number">10</span>^<span class="number">4</span></span><br><span class="line">-<span class="number">10</span>^<span class="number">9</span> &lt;= nums[i] &lt;= <span class="number">10</span>^<span class="number">9</span></span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°||</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] nextGreaterElement(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="type">int</span>[] ans = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ä¸º-1</span></span><br><span class="line">    Arrays.fill(ans, -<span class="number">1</span>);</span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//å¾ªç¯æ•°ç»„ï¼šå–æ¨¡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">2</span> * len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//å¼¹æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; nums[i % len] &gt; nums[stack.peek()]) &#123;</span><br><span class="line">            ans[stack.pop()] = nums[i % len];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">        stack.push(i % len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹å››ï¼šæ¥é›¨æ°´"><a href="#ç¤ºä¾‹å››ï¼šæ¥é›¨æ°´" class="headerlink" title="ç¤ºä¾‹å››ï¼šæ¥é›¨æ°´"></a>ç¤ºä¾‹å››ï¼šæ¥é›¨æ°´</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/trapping-rain-water/">42. æ¥é›¨æ°´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®š <code>n</code> ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º <code>1</code> çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ <span class="number">6</span> ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ </span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šheight = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">9</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šå•è°ƒæ ˆå®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥é›¨æ°´ï¼šå•è°ƒæ ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> height</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; height.length; i++) &#123;</span><br><span class="line">        <span class="comment">//å¼¹æ ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; height[i] &gt; height[stack.peek()]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">top</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="comment">//è¾¹ç•Œå¤„ç†</span></span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> stack.peek();</span><br><span class="line">            <span class="type">int</span> <span class="variable">currentWith</span> <span class="operator">=</span> i - left - <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">currentHeight</span> <span class="operator">=</span> Math.min(height[left], height[i]) - top;</span><br><span class="line">            ans += currentHeight * currentWith;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…¥æ ˆ</span></span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äº”ï¼šæŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢"><a href="#ç¤ºä¾‹äº”ï¼šæŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢" class="headerlink" title="ç¤ºä¾‹äº”ï¼šæŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢"></a>ç¤ºä¾‹äº”ï¼šæŸ±çŠ¶å›¾ä¸­æœ€å¤§çŸ©å½¢</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/largest-rectangle-in-histogram/">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®š <em>n</em> ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚</p>
<p>æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šheights = [<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">10</span></span><br><span class="line">è§£é‡Šï¼šæœ€å¤§çš„çŸ©å½¢ä¸ºå›¾ä¸­çº¢è‰²åŒºåŸŸï¼Œé¢ç§¯ä¸º <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š heights = [<span class="number">2</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š <span class="number">4</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šå•è°ƒæ ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>







<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><h3 id="åŸºæœ¬æ€æƒ³-7"><a href="#åŸºæœ¬æ€æƒ³-7" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><blockquote>
<p>ä¸»è¦ç”¨äºè§£å†³ä¸€äº›<strong>å…ƒç´ åˆ†ç»„</strong>çš„é—®é¢˜ã€‚å®ƒç®¡ç†ä¸€ç³»åˆ—<strong>ä¸ç›¸äº¤çš„é›†åˆ</strong>ï¼Œå¹¶æ”¯æŒä¸¤ç§æ“ä½œï¼š</p>
<ul>
<li><strong>åˆå¹¶</strong>ï¼ˆUnionï¼‰ï¼šæŠŠä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆåˆå¹¶ä¸ºä¸€ä¸ªé›†åˆã€‚</li>
<li><strong>æŸ¥è¯¢</strong>ï¼ˆFindï¼‰ï¼šæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ã€‚</li>
</ul>
<p><strong>å¹¶æŸ¥é›†å³ï¼šç”¨é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ä»£è¡¨é›†åˆ</strong></p>
<p>è¦å¯»æ‰¾é›†åˆçš„ä»£è¡¨å…ƒç´ ï¼Œåªéœ€è¦ä¸€å±‚ä¸€å±‚çš„è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œç›´è¾¾æ ¹èŠ‚ç‚¹ã€‚ä½†æ˜¯è¿™æ ·å­˜åœ¨é—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœè·¯å¾„é“¾è¿‡é•¿ï¼Œåˆ™æ•ˆç‡ä½ä¸‹ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è·¯å¾„å‹ç¼©çš„æ–¹å¼ï¼Œå³å°†æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ç½®ä¸ºæ ¹èŠ‚ç‚¹ã€‚</li>
<li>å¯¹äºä¸€é¢—å¤æ‚çš„æ ‘å’Œä¸€ä¸ªå•å…ƒç´ çš„é›†åˆåˆå¹¶ï¼Œå¦‚æœå°†æ ‘åˆå¹¶åˆ°å•å…ƒç´ ä¸Šï¼Œåˆ™ä¼šå¢åŠ æ ‘çš„æ·±åº¦ï¼ˆç§©ï¼‰ï¼Œå¢å¤§äº†å‹ç¼©è·¯å¾„çš„æ¶ˆè€—æ—¶é—´ï¼Œå› æ­¤åˆå¹¶çš„æ—¶å€™åº”è¯¥å°†ç®€å•çš„æ ‘åˆå¹¶åˆ°å¤æ‚çš„æ ‘ä¸Šï¼Œè¿™æ ·å°±ä¼šå‡å°‘æ ‘çš„æ·±åº¦ã€‚</li>
</ol>
</blockquote>
<h3 id="åº”ç”¨åœºæ™¯-5"><a href="#åº”ç”¨åœºæ™¯-5" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><h3 id="è§£é¢˜æ­¥éª¤-6"><a href="#è§£é¢˜æ­¥éª¤-6" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><h3 id="ç¤ºä¾‹ä¸€ï¼šçœä»½æ•°é‡"><a href="#ç¤ºä¾‹ä¸€ï¼šçœä»½æ•°é‡" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šçœä»½æ•°é‡"></a>ç¤ºä¾‹ä¸€ï¼šçœä»½æ•°é‡</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-provinces/">547. çœä»½æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>æœ‰ n ä¸ªåŸå¸‚ï¼Œå…¶ä¸­ä¸€äº›å½¼æ­¤ç›¸è¿ï¼Œå¦ä¸€äº›æ²¡æœ‰ç›¸è¿ã€‚å¦‚æœåŸå¸‚ a ä¸åŸå¸‚ b ç›´æ¥ç›¸è¿ï¼Œä¸”åŸå¸‚ b ä¸åŸå¸‚ c ç›´æ¥ç›¸è¿ï¼Œé‚£ä¹ˆåŸå¸‚ a ä¸åŸå¸‚ c é—´æ¥ç›¸è¿ã€‚</p>
<p>çœä»½ æ˜¯ä¸€ç»„ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„åŸå¸‚ï¼Œç»„å†…ä¸å«å…¶ä»–æ²¡æœ‰ç›¸è¿çš„åŸå¸‚ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ª n x n çš„çŸ©é˜µ isConnected ï¼Œå…¶ä¸­ isConnected[i][j] &#x3D; 1 è¡¨ç¤ºç¬¬ i ä¸ªåŸå¸‚å’Œç¬¬ j ä¸ªåŸå¸‚ç›´æ¥ç›¸è¿ï¼Œè€Œ isConnected[i][j] &#x3D; 0 è¡¨ç¤ºäºŒè€…ä¸ç›´æ¥ç›¸è¿ã€‚</p>
<p>è¿”å›çŸ©é˜µä¸­ çœä»½ çš„æ•°é‡ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šisConnected = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šisConnected = [[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * çœä»½æ•°é‡ï¼šå¹¶æŸ¥é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> isConnected</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">findCircleNum</span><span class="params">(<span class="type">int</span>[][] isConnected)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (isConnected == <span class="literal">null</span> || isConnected.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="type">Union</span> <span class="variable">union</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Union</span>(isConnected.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; isConnected.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isConnected[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                union.merge(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> union.getCount();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Union</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] root;</span><br><span class="line">    <span class="type">int</span>[] rank;</span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Union</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        root = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="title class_">int</span>[size];</span><br><span class="line">        count = size;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="comment">//é»˜è®¤æ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯å®ƒæœ¬èº«</span></span><br><span class="line">            root[i] = i;</span><br><span class="line">            <span class="comment">//é»˜è®¤æ¯ä¸ªå…ƒç´ çš„æ·±åº¦ï¼ˆç§©ï¼‰ä¸º1</span></span><br><span class="line">            rank[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥æ‰¾çˆ¶èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> x</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (x == root[x]) &#123;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> find(root[x]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootX</span> <span class="operator">=</span> find(x);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rootY</span> <span class="operator">=</span> find(y);</span><br><span class="line">        <span class="keyword">if</span> (rootX != rootY) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootX] &gt; rank[rootY]) &#123;</span><br><span class="line">                root[rootY] = rootX;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootX] &lt; rank[rootY]) &#123;</span><br><span class="line">                root[rootX] = rootY;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœæ·±åº¦ç›¸åŒä¸”æ ¹èŠ‚ç‚¹ä¸åŒï¼Œåˆ™æ–°çš„æ ¹èŠ‚ç‚¹çš„æ·±åº¦+1</span></span><br><span class="line">                root[rootY] = rootX;</span><br><span class="line">                rank[rootX] += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">getCount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¤ºä¾‹äºŒï¼šå²›å±¿æ•°é‡"><a href="#ç¤ºä¾‹äºŒï¼šå²›å±¿æ•°é‡" class="headerlink" title="ç¤ºä¾‹äºŒï¼šå²›å±¿æ•°é‡"></a>ç¤ºä¾‹äºŒï¼šå²›å±¿æ•°é‡</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-islands/">200. å²›å±¿æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚</p>
<p>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ&#x2F;æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚</p>
<p>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šå¹¶æŸ¥é›†</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>















<h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><h3 id="åŸºæœ¬æ€æƒ³-8"><a href="#åŸºæœ¬æ€æƒ³-8" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h3><h3 id="åº”ç”¨åœºæ™¯-6"><a href="#åº”ç”¨åœºæ™¯-6" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><h3 id="è§£é¢˜æ­¥éª¤-7"><a href="#è§£é¢˜æ­¥éª¤-7" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><h3 id="ç¤ºä¾‹ä¸€ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#ç¤ºä¾‹ä¸€ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>ç¤ºä¾‹ä¸€ï¼šé•¿åº¦æœ€å°çš„å­æ•°ç»„</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-size-subarray-sum/">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚</p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„ [numsl, numsl+1, â€¦, numsr-1, numsr] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">7</span>, nums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šå­æ•°ç»„ [<span class="number">4</span>,<span class="number">3</span>] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹äºŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">4</span>, nums = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä¸‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼štarget = <span class="number">11</span>, nums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæš´åŠ›æ±‚è§£</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen01</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">            sum += nums[j];</span><br><span class="line">            <span class="keyword">if</span> (sum &gt;= s) &#123;</span><br><span class="line">                ans = Math.min(ans, j - i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans == Integer.MAX_VALUE ? <span class="number">0</span> : ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼šæ»‘åŠ¨çª—å£</p>
<p>ä»£ç å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen02</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (end &lt; nums.length) &#123;</span><br><span class="line">        sum += nums[end];</span><br><span class="line">        <span class="keyword">while</span> (sum &gt;= s) &#123;</span><br><span class="line">            ans = Math.min(ans, end - start + <span class="number">1</span>);</span><br><span class="line">            start++;</span><br><span class="line">            sum -= nums[start];</span><br><span class="line">        &#125;</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans == Integer.MAX_VALUE ? <span class="number">0</span> : ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹äºŒï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#ç¤ºä¾‹äºŒï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="ç¤ºä¾‹äºŒï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>ç¤ºä¾‹äºŒï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="string">&quot;abcabcbb&quot;</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span> </span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="string">&quot;abc&quot;</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="string">&quot;bbbbb&quot;</span></span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ <span class="string">&quot;b&quot;</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = <span class="string">&quot;pwwkew&quot;</span></span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯Â <span class="string">&quot;wke&quot;</span>ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br><span class="line">Â     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ<span class="string">&quot;pwke&quot;</span>Â æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæš´åŠ›è§£æ³•</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼ä¸€ï¼šæš´åŠ›è§£æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring01</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (str.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    HashSet&lt;Character&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">        set.add(str.charAt(i));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; str.length(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.contains(str.charAt(j))) &#123;</span><br><span class="line">                ans = Math.max(ans, j - i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                set.add(str.charAt(j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        set.clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼šæ»‘åŠ¨çª—å£</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼äºŒï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring02</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (str.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    HashSet&lt;Character&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//å³æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">            set.remove(str.charAt(i-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">while</span> (end &lt; str.length() &amp;&amp; !set.contains(str.charAt(end))) &#123;</span><br><span class="line">            set.add(str.charAt(end));</span><br><span class="line">            end++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¾—åˆ°ç»“æœ</span></span><br><span class="line">        ans = Math.max(ans, end - i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹ä¸‰ï¼šæœ€å¤§è¿ç»­1çš„ä¸ªæ•°-III"><a href="#ç¤ºä¾‹ä¸‰ï¼šæœ€å¤§è¿ç»­1çš„ä¸ªæ•°-III" class="headerlink" title="ç¤ºä¾‹ä¸‰ï¼šæœ€å¤§è¿ç»­1çš„ä¸ªæ•° III"></a>ç¤ºä¾‹ä¸‰ï¼šæœ€å¤§è¿ç»­1çš„ä¸ªæ•° III</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/max-consecutive-ones-iii/">1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° kï¼Œå¦‚æœå¯ä»¥ç¿»è½¬æœ€å¤š k ä¸ª 0 ï¼Œåˆ™è¿”å› æ•°ç»„ä¸­è¿ç»­ 1 çš„æœ€å¤§ä¸ªæ•° ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>], K = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼š[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">ç²—ä½“æ•°å­—ä» <span class="number">0</span> ç¿»è½¬åˆ° <span class="number">1</span>ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º <span class="number">6</span>ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>], K = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">10</span></span><br><span class="line">è§£é‡Šï¼š[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">ç²—ä½“æ•°å­—ä» <span class="number">0</span> ç¿»è½¬åˆ° <span class="number">1</span>ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º <span class="number">10</span>ã€‚</span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæ»‘åŠ¨çª—å£</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼ä¸€ï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> A</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> K</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">longestOnes</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">zeroNum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//å³æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">while</span> (right &lt; A.length) &#123;</span><br><span class="line">        <span class="comment">//æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (A[right] == <span class="number">0</span>) &#123;</span><br><span class="line">            zeroNum++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (zeroNum &gt; K) &#123;</span><br><span class="line">            <span class="keyword">if</span> (A[left] == <span class="number">0</span>) &#123;</span><br><span class="line">                zeroNum--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = Math.max(ans, right - left + <span class="number">1</span>);</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¤ºä¾‹å››ï¼šå°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"><a href="#ç¤ºä¾‹å››ï¼šå°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰" class="headerlink" title="ç¤ºä¾‹å››ï¼šå°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰"></a>ç¤ºä¾‹å››ï¼šå°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/get-equal-substrings-within-budget/">1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œs å’Œ tã€‚</p>
<p>å°† s ä¸­çš„ç¬¬ i ä¸ªå­—ç¬¦å˜åˆ° t ä¸­çš„ç¬¬ i ä¸ªå­—ç¬¦éœ€è¦ |s[i] - t[i]| çš„å¼€é”€ï¼ˆå¼€é”€å¯èƒ½ä¸º 0ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­—ç¬¦çš„ ASCII ç å€¼çš„å·®çš„ç»å¯¹å€¼ã€‚</p>
<p>ç”¨äºå˜æ›´å­—ç¬¦ä¸²çš„æœ€å¤§é¢„ç®—æ˜¯ maxCostã€‚åœ¨è½¬åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œæ€»å¼€é”€åº”å½“å°äºç­‰äºè¯¥é¢„ç®—ï¼Œè¿™ä¹Ÿæ„å‘³ç€å­—ç¬¦ä¸²çš„è½¬åŒ–å¯èƒ½æ˜¯ä¸å®Œå…¨çš„ã€‚</p>
<p>å¦‚æœä½ å¯ä»¥å°† s çš„å­å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå®ƒåœ¨ t ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å¯ä»¥è½¬åŒ–çš„æœ€å¤§é•¿åº¦ã€‚</p>
<p>å¦‚æœ s ä¸­æ²¡æœ‰å­å­—ç¬¦ä¸²å¯ä»¥è½¬åŒ–æˆ t ä¸­å¯¹åº”çš„å­å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p> ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;abcd&quot;</span>, t = <span class="string">&quot;bcdf&quot;</span>, maxCost = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ <span class="string">&quot;abc&quot;</span> å¯ä»¥å˜ä¸º <span class="string">&quot;bcd&quot;</span>ã€‚å¼€é”€ä¸º <span class="number">3</span>ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;abcd&quot;</span>, t = <span class="string">&quot;cdef&quot;</span>, maxCost = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šs ä¸­çš„ä»»ä¸€å­—ç¬¦è¦æƒ³å˜æˆ t ä¸­å¯¹åº”çš„å­—ç¬¦ï¼Œå…¶å¼€é”€éƒ½æ˜¯ <span class="number">2</span>ã€‚å› æ­¤ï¼Œæœ€å¤§é•¿åº¦ä¸º <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;abcd&quot;</span>, t = <span class="string">&quot;acde&quot;</span>, maxCost = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼ša -&gt; a, cost = <span class="number">0</span>ï¼Œå­—ç¬¦ä¸²æœªå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥æœ€å¤§é•¿åº¦ä¸º <span class="number">1</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæ»‘åŠ¨çª—å£</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–¹å¼ä¸€ï¼šæ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> t</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> maxCost</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">equalSubstring</span><span class="params">(String s, String t, <span class="type">int</span> maxCost)</span> &#123;</span><br><span class="line">    <span class="comment">//æŠ½è±¡å‡ºé—®é¢˜ï¼šè½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[] diff = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        diff[i] = Math.abs(s.charAt(i) - t.charAt(i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (end &lt; n) &#123;</span><br><span class="line">        count += diff[end];</span><br><span class="line">        <span class="comment">//å·¦æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (count &gt; maxCost) &#123;</span><br><span class="line">            count -= diff[start];</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        ans = Math.max(ans, end - start + <span class="number">1</span>);</span><br><span class="line">        end++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h2><h2 id="å·®åˆ†"><a href="#å·®åˆ†" class="headerlink" title="å·®åˆ†"></a>å·®åˆ†</h2><h2 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h2><h2 id="å­—ç¬¦ä¸²-1"><a href="#å­—ç¬¦ä¸²-1" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><h3 id="ç¤ºä¾‹ä¸€ï¼šæœ€é•¿å›æ–‡å­ä¸²"><a href="#ç¤ºä¾‹ä¸€ï¼šæœ€é•¿å›æ–‡å­ä¸²" class="headerlink" title="ç¤ºä¾‹ä¸€ï¼šæœ€é•¿å›æ–‡å­ä¸²"></a>ç¤ºä¾‹ä¸€ï¼šæœ€é•¿å›æ–‡å­ä¸²</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-palindromic-substring/">5. æœ€é•¿å›æ–‡å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚</p>
<p>å¦‚æœå­—ç¬¦ä¸²çš„ååºä¸åŸå§‹å­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ç§°ä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;babad&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;bab&quot;</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">&quot;aba&quot;</span> åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;cbbd&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;bb&quot;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæš´åŠ›è§£æ³•</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å›æ–‡åˆ¤æ–­</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isPalindromic</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length() / <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str.charAt(i) != str.charAt(str.length() - <span class="number">1</span> - i)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ€é•¿å›æ–‡å­ä¸²ï¼šæš´åŠ›è§£æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">longestPalindrome</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; str.length(); j++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> str.substring(i, j);</span><br><span class="line">            <span class="keyword">if</span> (isPalindromic(s) &amp;&amp; s.length() &gt; max) &#123;</span><br><span class="line">                max = Math.max(max, s.length());</span><br><span class="line">                ans = s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="ç¤ºä¾‹äºŒï¼šæœ‰æ•ˆçš„æ‹¬å·"><a href="#ç¤ºä¾‹äºŒï¼šæœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="ç¤ºä¾‹äºŒï¼šæœ‰æ•ˆçš„æ‹¬å·"></a>ç¤ºä¾‹äºŒï¼šæœ‰æ•ˆçš„æ‹¬å·</h3><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses/">20. æœ‰æ•ˆçš„æ‹¬å· - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ â€˜(â€˜ï¼Œâ€™)â€™ï¼Œâ€™{â€˜ï¼Œâ€™}â€™ï¼Œâ€™[â€˜ï¼Œâ€™]â€™ çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š</p>
<p>å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚<br>å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚<br>æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;()[]&#123;&#125;&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;(]&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>æ–¹å¼ä¸€ï¼šæ ˆ</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœ‰æ•ˆçš„æ‹¬å·ï¼šæ ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> s</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length() % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Character, Character&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Character&gt;() &#123;</span><br><span class="line">        &#123;</span><br><span class="line">            put(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;[&#x27;</span>);</span><br><span class="line">            put(<span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    Deque&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.peek() != map.get(ch)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(ch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/JavaBasic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/JavaBasic/" class="post-title-link" itemprop="url">JavaBasic</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-27 11:26:10" itemprop="dateModified" datetime="2023-02-27T11:26:10+08:00">2023-02-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id><a href="#" class="headerlink" title></a></h1><h1 id="Javaå…¥é—¨"><a href="#Javaå…¥é—¨" class="headerlink" title="Javaå…¥é—¨"></a>Javaå…¥é—¨</h1><h1 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h1><h2 id="JUC"><a href="#JUC" class="headerlink" title="JUC"></a>JUC</h2><h3 id="JUCç®€ä»‹"><a href="#JUCç®€ä»‹" class="headerlink" title="JUCç®€ä»‹"></a>JUCç®€ä»‹</h3><h3 id="volatileå…³é”®å­—ï¼šå†…å­˜å¯è§æ€§"><a href="#volatileå…³é”®å­—ï¼šå†…å­˜å¯è§æ€§" class="headerlink" title="volatileå…³é”®å­—ï¼šå†…å­˜å¯è§æ€§"></a>volatileå…³é”®å­—ï¼šå†…å­˜å¯è§æ€§</h3><p>é—®é¢˜ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.volatiletest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VolatileTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ThreadDemo</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadDemo</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(t1).start();</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t1.isFlag()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadDemo</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;flag: &quot;</span> + isFlag());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFlag</span><span class="params">(<span class="type">boolean</span> flag)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFlag</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<p>flag: true</p>
<p>å¹¶æ²¡æœ‰æ‰“å° â€”â€”â€”-mainâ€”â€”â€”-</p>
<p>åŸå› ï¼š</p>
<ol>
<li><p><strong>JVMå¯¹äºæ¯ä¸ªçº¿ç¨‹ï¼Œéƒ½ä¼šåˆ†é…ä¸€ä»½ç‹¬ç«‹çš„ç¼“å­˜ç”¨äºæ“ä½œæ•°æ®ï¼ŒçœŸæ­£çš„å…±äº«æ•°æ®ä½äºä¸»å­˜ä¸­ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹æ“ä½œæ•°æ®æ—¶ä¼šä»ä¸»å­˜ä¸­å–å‡ºæ•°æ®æ”¾å…¥è‡ªå·±çš„ç¼“å­˜ï¼Œä¿®æ”¹å®Œæˆåï¼Œå†å°†ç¼“å­˜ä¸­çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å­˜ã€‚mainçº¿ç¨‹é€šè¿‡ while(true) ä¸æ–­è¯»å–æ•°æ®ï¼Œå®é™…è¯»å–çš„æ˜¯ç¬¬ä¸€æ¬¡æ”¾å…¥è‡ªå·±ç¼“å­˜çš„æ•°æ®ï¼Œä»è€Œå¼•å‘äº†ã€å†…å­˜å¯è§æ€§ã€‘çš„é—®é¢˜ã€‚</strong></p>
</li>
<li><p><strong>å†…å­˜å¯è§æ€§ï¼šå¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«æ•°æ®æ—¶ï¼Œå½¼æ­¤ä¸å¯è§</strong></p>
<p> ï¼ˆ1ï¼‰<strong>ä½¿ç”¨volatileè§£å†³å†…å­˜å¯è§æ€§é—®é¢˜ï¼Œä½¿ç”¨volatileåï¼Œç³»ç»Ÿçš„å†…å­˜æ …æ ä¼šæ—¶åˆ»çš„å°†çº¿ç¨‹ç¼“å­˜çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å­˜ï¼Œå¯ä»¥è®¤ä¸ºå¤šä¸ªçº¿ç¨‹ç›´æ¥æ“ä½œçš„æ˜¯ä¸»å­˜çš„æ•°æ®ã€‚</strong></p>
<p> ï¼ˆ2ï¼‰<strong>ä½†æ˜¯ï¼Œvolatileä¸å…·æœ‰äº’æ–¥æ€§ï¼Œå³å½“å‰çº¿ç¨‹è®¿é—®å…±äº«æ•°æ®æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¾ç„¶å¯ä»¥è®¿é—®ï¼›åŒæ—¶volatileä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</strong></p>
</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><p>åŠ é”ï¼Œä¿è¯çº¿ç¨‹æ¯æ¬¡éƒ½ä»ä¸»å­˜ä¸­è¯»å–æ•°æ®ï¼Œä½†æ•ˆç‡å¤ªä½ã€‚</p>
<p> å…¶ä»–çº¿ç¨‹æ²¡æœ‰è·å–åˆ°é”ï¼Œå°±ä¼šé˜»å¡ï¼Œé‡æ–°ç­‰å¾…CPUåˆ†é…æ—¶é—´ç‰‡ï¼Œæ•ˆç‡ä½ã€‚</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (t1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (t1.isFlag()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨volatileå…³é”®å­—ä¿®é¥°</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<p> è¿è¡Œç»“æœï¼š</p>
<p> â€”â€”â€”-mainâ€”â€”â€”-<br> flag: true</p>
</li>
</ol>
<h3 id="åŸå­å˜é‡ä¸CASç®—æ³•"><a href="#åŸå­å˜é‡ä¸CASç®—æ³•" class="headerlink" title="åŸå­å˜é‡ä¸CASç®—æ³•"></a>åŸå­å˜é‡ä¸CASç®—æ³•</h3><p>é—®é¢˜ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AtomicTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AtomicDemo</span> <span class="variable">atomicDemo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicDemo</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(atomicDemo).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AtomicDemo</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">serialNumber</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + getSerialNumber());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getSerialNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> serialNumber++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<p>Thread-1 : 0<br>Thread-0 : 0<br>Thread-3 : 1<br>Thread-2 : 1<br>Thread-9 : 2<br>Thread-8 : 3<br>Thread-7 : 4<br>Thread-6 : 5<br>Thread-5 : 6<br>Thread-4 : 7</p>
<p>é—®é¢˜åŸå› ï¼š</p>
<p><strong>i++ çš„åŸå­æ€§é—®é¢˜</strong></p>
<p>i++çš„æ“ä½œå®é™…åˆ†ä¸ºä¸‰æ­¥ï¼šè¯» æ”¹ å†™</p>
<p>int i &#x3D; 10;</p>
<p>i &#x3D; i++;</p>
<p>ç›¸å½“äºä¸‰æ­¥ï¼š</p>
<p>int temp &#x3D; i;</p>
<p>i &#x3D; i + 1;</p>
<p>i &#x3D; temp;</p>
<p>åŸå­å˜é‡ï¼š</p>
<p>jdk1.5å java.concurrent.atomic åŒ…ä¸‹æä¾›äº†åŸå­å˜é‡</p>
<p>å…¶ä¸­æ‰€æœ‰çš„å˜é‡ä½¿ç”¨ volatile ä¿®é¥°ï¼Œä¿è¯å†…å­˜å¯è§æ€§ã€‚</p>
<p>é€šè¿‡ CAS ï¼ˆCompare And Swapï¼‰ç®—æ³•ä¿è¯æ•°æ®çš„åŸå­æ€§ï¼ŒCASæ˜¯ç¡¬ä»¶å¯¹äºå¹¶å‘æ“ä½œå…±äº«æ•°æ®çš„æ”¯æŒï¼ŒJVM åŒæ ·ä¹Ÿåšäº†æ”¯æŒã€‚</p>
<p>CAS åŒ…å«ä¸‰ä¸ªæ“ä½œæ•°ï¼šå†…å­˜å€¼ Vï¼Œé¢„ä¼°å€¼ Aï¼Œæ›´æ–°å€¼ Bï¼Œå½“ä¸”ä»…å½“ V&#x3D;&#x3D;A æ—¶ï¼ŒV &#x3D; Bï¼Œå¦åˆ™ä¸ä½œä»»ä½•æ“ä½œã€‚</p>
<p>æ­¥éª¤è¯´æ˜ï¼š</p>
<p>å¦‚ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œ serialNumber++ æ“ä½œï¼š</p>
<p>serialNumberåˆå§‹å€¼ä¸º0ï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½å°†ä¸»å­˜ä¸­çš„æ•°æ®æ‹·è´è‡³å½“å‰çº¿ç¨‹çš„ç¼“å­˜ï¼Œæ­¤æ—¶å†…å­˜å€¼ä¸º 0ï¼Œçº¿ç¨‹ä¸€ä¿®æ”¹ä¸»å­˜å€¼æ—¶ï¼Œå¾—åˆ°é¢„ä¼°å€¼ä¸º 0ï¼Œä¿®æ”¹å€¼ä¸º 1ï¼Œæ­¤æ—¶ V&#x3D;&#x3D;Aï¼Œè¿›è¡Œä¿®æ”¹æ²¡æœ‰é—®é¢˜ï¼›ä½†çº¿ç¨‹äºŒè·å–çš„å†…å­˜å€¼ä¸º0ï¼Œé¢„ä¼°å€¼ A&#x3D;1ï¼Œæ›´æ–°å€¼ä¸º 1ï¼Œæ­¤æ—¶ V!&#x3D;Aï¼Œä¸è¿›è¡Œæ›´æ–°ï¼Œä»¥æ­¤ä¿è¯åŸå­æ€§ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹æ›´æ–°æˆåŠŸã€‚</p>
<p>CASç®—æ³•æ•ˆç‡æ¯”é”çš„æ•ˆç‡é«˜ï¼Œå› ä¸ºä¸ä¼šæ”¾å¼ƒCPUç»™çš„æ‰§è¡Œæƒï¼Œä¸ä¼šé˜»å¡ï¼Œè€Œæ˜¯å†æ¬¡å°è¯•æ›´æ–°ã€‚ç¼ºç‚¹å¯ä»¥è¯´æ˜¯ä»£ç å†™çš„å¤šã€‚</p>
<p><strong>CASæ— é”ï¼Œä¸ä¼šé˜»å¡ï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢é—®é¢˜ã€‚</strong></p>
<p>é—®é¢˜è§£å†³ï¼šä½¿ç”¨åŸå­å˜é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AtomicTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AtomicDemo</span> <span class="variable">atomicDemo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicDemo</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(atomicDemo).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AtomicDemo</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//private volatile int serialNumber = 0;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">AtomicInteger</span> <span class="variable">serialNumber</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + getSerialNumber());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getSerialNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> serialNumber.getAndIncrement();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<p>Thread-0 : 0<br>Thread-6 : 1<br>Thread-5 : 2<br>Thread-4 : 3<br>Thread-3 : 4<br>Thread-2 : 5<br>Thread-1 : 6<br>Thread-7 : 7<br>Thread-9 : 8<br>Thread-8 : 9</p>
<p>volatile ä¸èƒ½ä¿è¯äº’æ–¥æ€§ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶æ“ä½œæ•°æ®ï¼Œä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</p>
<p>æ¨¡æ‹ŸCASç®—æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.atomic;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¨¡æ‹ŸCASç®—æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareAndSwapTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CompareAndSwap</span> <span class="variable">cas</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CompareAndSwap</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">expectedValue</span> <span class="operator">=</span> cas.getValue();</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">result</span> <span class="operator">=</span> cas.compareAndSet(expectedValue, (<span class="type">int</span>) (Math.random() * <span class="number">10</span>));</span><br><span class="line">                System.out.println(<span class="string">&quot;result: &quot;</span> + result);</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CompareAndSwap</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">int</span> <span class="title function_">compareAndSwap</span><span class="params">(<span class="type">int</span> expectedValue, <span class="type">int</span> newValue)</span> &#123;</span><br><span class="line">        <span class="comment">//æ¨¡æ‹Ÿä»å†…å­˜ä¸­å–å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">oldValue</span> <span class="operator">=</span> getValue();</span><br><span class="line">        <span class="keyword">if</span> (expectedValue == oldValue) &#123;</span><br><span class="line">            <span class="built_in">this</span>.value = newValue;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> oldValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">boolean</span> <span class="title function_">compareAndSet</span><span class="params">(<span class="type">int</span> expectedValue, <span class="type">int</span> newValue)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> expectedValue == compareAndSwap(expectedValue, newValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ConcurrentHashMapé”åˆ†æ®µæœºåˆ¶"><a href="#ConcurrentHashMapé”åˆ†æ®µæœºåˆ¶" class="headerlink" title="ConcurrentHashMapé”åˆ†æ®µæœºåˆ¶"></a>ConcurrentHashMapé”åˆ†æ®µæœºåˆ¶</h3><p>Hashtableçš„é—®é¢˜ï¼š</p>
<ol>
<li>å•ç‹¬æ–¹æ³•åŠ é”ï¼Œæ•ˆç‡ä½</li>
<li>å¤åˆæ“ä½œä»ç„¶æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå¦‚ä¸å­˜åœ¨åˆ™æ·»åŠ æ“ä½œã€‚</li>
</ol>
<p>Java8ä»¥åï¼ŒConcurrentHashMapé‡‡ç”¨CASä»£æ›¿ï¼Œä¸å†ä½¿ç”¨åˆ†æ®µé”ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * CopyOnWriteArrayList/Set</span></span><br><span class="line"><span class="comment"> * å†™æ—¶å¤åˆ¶ï¼Œé¿å…äº†å¹¶å‘ä¿®æ”¹é—®é¢˜ï¼Œä½†æ˜¯å†™å…¥æ•°æ®æ—¶ä¼šå¤åˆ¶ä¸€ä»½List/Setï¼Œæ•ˆç‡ä½</span></span><br><span class="line"><span class="comment"> * é€‚åˆäºå¤šè¯»å°‘äº›ï¼Œä½†åˆæœ‰å¹¶å‘ä¿®æ”¹éœ€æ±‚çš„åœºæ™¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CopyOnWriteArrayListTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">CopyOnWriteArrayListDemo</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CopyOnWriteArrayListDemo</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(thread).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CopyOnWriteArrayListDemo</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨CollectionsåŒ…è£…ä¸ºåŒæ­¥List</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;String&gt; list =</span><br><span class="line">            Collections.synchronizedList(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">            <span class="comment">//è¿­ä»£æ—¶æ·»åŠ æ•°æ®ä¼šæŠ¥java.util.ConcurrentModificationException</span></span><br><span class="line">            list.add(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ä½¿ç”¨ CopyOnWriteArrayList ä»£æ›¿ List</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> CopyOnWriteArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">CopyOnWriteArrayList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>



<h3 id="è¾…åŠ©ç±»"><a href="#è¾…åŠ©ç±»" class="headerlink" title="è¾…åŠ©ç±»"></a>è¾…åŠ©ç±»</h3><h4 id="CountDownLatché—­é”"><a href="#CountDownLatché—­é”" class="headerlink" title="CountDownLatché—­é”"></a>CountDownLatché—­é”</h4><p>åŒæ­¥è¾…åŠ©ç±»</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.concurrent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * CountDownLatchï¼š</span></span><br><span class="line"><span class="comment"> * é—­é”ï¼Œåœ¨å®ŒæˆæŸäº›è¿ç®—æ—¶ï¼Œåªæœ‰å…¶ä»–çº¿ç¨‹çš„è¿ç®—å…¨éƒ¨å®Œæˆï¼Œå½“å‰è¿ç®—æ‰ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CountDownLatchTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">countDownLatch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(count);</span><br><span class="line">        <span class="type">CountDownLatchThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatchThread</span>(countDownLatch);</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(thread).start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            countDownLatch.await();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;Times: &quot;</span> + (end - start));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CountDownLatchThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> CountDownLatch countDownLatch;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CountDownLatchThread</span><span class="params">(CountDownLatch latch)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.countDownLatch = latch;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å¿…é¡»æ‰§è¡Œï¼Œå¦åˆ™é˜»å¡</span></span><br><span class="line">            countDownLatch.countDown();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="CyclicBarrierå¾ªç¯æ …æ "><a href="#CyclicBarrierå¾ªç¯æ …æ " class="headerlink" title="CyclicBarrierå¾ªç¯æ …æ "></a>CyclicBarrierå¾ªç¯æ …æ </h4><h4 id="Semaphoreä¿¡å·ç¯"><a href="#Semaphoreä¿¡å·ç¯" class="headerlink" title="Semaphoreä¿¡å·ç¯"></a>Semaphoreä¿¡å·ç¯</h4><h3 id="å®ç°Callableæ¥å£"><a href="#å®ç°Callableæ¥å£" class="headerlink" title="å®ç°Callableæ¥å£"></a>å®ç°Callableæ¥å£</h3><h3 id="LockåŒæ­¥é”"><a href="#LockåŒæ­¥é”" class="headerlink" title="LockåŒæ­¥é”"></a>LockåŒæ­¥é”</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LockTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Ticket</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ticket</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(t, i + <span class="string">&quot;å·çª—å£&quot;</span>).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ticket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">tickets</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            lock.lock(); <span class="comment">//ä¸Šé”</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (tickets &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">200</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (--tickets));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock(); <span class="comment">//å¿…é¡»é‡Šæ”¾é”</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…</h3><p>é€šè¿‡wait()å’ŒnotifyAll()æ§åˆ¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¡ˆä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProducerAndConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">producer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">consumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸€&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸€&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">product</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿›è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äº§å“å·²æ»¡&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (++product));</span><br><span class="line">            <span class="built_in">this</span>.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å–è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼ºè´§&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (--product));</span><br><span class="line">            <span class="built_in">this</span>.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            clerk.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            clerk.sale();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­˜åœ¨é—®é¢˜ï¼š</p>
<p>ä¿®æ”¹product&gt;&#x3D;1ï¼Œå»¶é•¿æ—¶é—´</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¡ˆä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProducerAndConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">producer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">consumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸€&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸€&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">product</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿›è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äº§å“å·²æ»¡&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (++product));</span><br><span class="line">            <span class="built_in">this</span>.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å–è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼ºè´§&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (--product));</span><br><span class="line">            <span class="built_in">this</span>.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.sale();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>çº¿ç¨‹é˜»å¡ï¼Œç¨‹åºæ— æ³•ç»“æŸ</p>
<p>ç”Ÿäº§è€…ä¸€ : 1<br>æ¶ˆè´¹è€…ä¸€ : 0<br>ç¼ºè´§<br>ç”Ÿäº§è€…ä¸€ : 1<br>æ¶ˆè´¹è€…ä¸€ : 0<br>ç¼ºè´§<br>ç”Ÿäº§è€…ä¸€ : 1<br>æ¶ˆè´¹è€…ä¸€ : 0<br>ç¼ºè´§<br>ç”Ÿäº§è€…ä¸€ : 1<br>äº§å“å·²æ»¡<br>æ¶ˆè´¹è€…ä¸€ : 0</p>
<p>åŸå› ï¼šè™šå‡å”¤é†’</p>
<p>å½“sale()æ–¹æ³•å¾ªç¯æ¬¡æ•°åªå‰©ä¸€æ¬¡ï¼Œget()æ–¹æ³•å¾ªç¯æ¬¡æ•°åªå‰©äºŒæ¬¡ï¼Œproduct&#x3D;0æ—¶ï¼š</p>
<p>sale()æ–¹æ³•å…ˆæ‰§è¡Œï¼Œä¹‹åwait()ï¼Œæ­¤æ—¶ç”Ÿäº§è€…æ‹¿åˆ°é”èµ„æºï¼Œå¾ªç¯ä¸€æ¬¡ï¼Œ++prodcutï¼Œä¹‹ånotifyAll() ï¼Œæ¶ˆè´¹è€…æ‹¿åˆ°é”èµ„æºï¼Œwait()ç»“æŸï¼Œå¾ªç¯æ¬¡æ•°ç»“æŸï¼Œæ­¤æ—¶ç”Ÿäº§è€…æ‹¿åˆ°é”èµ„æºï¼Œæ­¤æ—¶product&#x3D;&#x3D;1ï¼Œwait()ä¹‹åï¼Œä¾¿æ²¡æœ‰äººå”¤é†’ï¼Œç¨‹åºä¾¿ä¸ä¼šç»ˆæ­¢ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šå»æ‰ else åˆ¤æ–­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¡ˆä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProducerAndConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">producer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">consumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸€&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸€&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">product</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿›è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äº§å“å·²æ»¡&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (++product));</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å–è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (product &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼ºè´§&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (--product));</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.sale();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç¨‹åºæ­£å¸¸æ‰§è¡Œç»“æŸï¼Œä½†æ˜¯å†å¢åŠ æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…æ—¶ï¼Œå‡ºç°é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸€&quot;</span>).start();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸€&quot;</span>).start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…äºŒ&quot;</span>).start();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…äºŒ&quot;</span>).start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸‰&quot;</span>).start();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸‰&quot;</span>).start();</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<p>ç”Ÿäº§è€…ä¸€ : 1<br>äº§å“å·²æ»¡<br>æ¶ˆè´¹è€…ä¸€ : 0<br>æ¶ˆè´¹è€…ä¸‰ : -1<br>ç”Ÿäº§è€…äºŒ : 0<br>ç”Ÿäº§è€…ä¸€ : 1</p>
<p>åŸå› ï¼š</p>
<p>å¦‚ç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…æŠ¢åˆ°èµ„æºï¼Œé˜»å¡åœ¨ wait() æ–¹æ³•å¤„ï¼Œç¬¬äºŒä¸ªæ¶ˆè´¹è€…åˆæŠ¢åˆ°èµ„æºï¼Œé˜»å¡åœ¨ wait() æ–¹æ³•å¤„ï¼Œæ­¤æ—¶ç”Ÿäº§è€… notiyfAll() ï¼Œä¸¤ä¸ªæ¶ˆè´¹è€…åŒæ—¶æ‰§è¡Œ â€“product ä¾¿ä¼šå‡ºè´Ÿå€¼ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šä½¿ç”¨whileä»£æ›¿if</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">wait</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span><br></pre></td></tr></table></figure>

<p>å¯¼è‡´å½“å‰çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨è¯¥å¯¹è±¡çš„<a href="../../java/lang/Object.html#notify--"><code>notify()</code></a>æ–¹æ³•æˆ–<a href="../../java/lang/Object.html#notifyAll--"><code>notifyAll()</code></a>æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¡Œä¸ºå°±å¥½åƒç®€å•åœ°æ‰§è¡Œå‘¼å«<code>wait(0)</code> ã€‚</p>
<p>å½“å‰çš„çº¿ç¨‹å¿…é¡»æ‹¥æœ‰è¯¥å¯¹è±¡çš„æ˜¾ç¤ºå™¨ã€‚  è¯¥çº¿ç¨‹é‡Šæ”¾æ­¤ç›‘è§†å™¨çš„æ‰€æœ‰æƒï¼Œå¹¶ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹é€šçŸ¥ç­‰å¾…è¯¥å¯¹è±¡ç›‘è§†å™¨çš„çº¿ç¨‹é€šè¿‡è°ƒç”¨<code>notify</code>æ–¹æ³•æˆ–<code>notifyAll</code>æ–¹æ³•<code>notifyAll</code>  ã€‚ ç„¶åçº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å®ƒå¯ä»¥é‡æ–°è·å¾—ç›‘è§†å™¨çš„æ‰€æœ‰æƒå¹¶æ¢å¤æ‰§è¡Œã€‚ </p>
<p>åƒåœ¨ä¸€ä¸ªå‚æ•°ç‰ˆæœ¬ä¸­ï¼Œä¸­æ–­å’Œè™šå‡å”¤é†’æ˜¯å¯èƒ½çš„ï¼Œå¹¶ä¸”è¯¥æ–¹æ³•åº”è¯¥å§‹ç»ˆåœ¨å¾ªç¯ä¸­ä½¿ç”¨ï¼š </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">       <span class="keyword">while</span> (&lt;condition does not hold&gt;)</span><br><span class="line">           obj.wait();</span><br><span class="line">       ... <span class="comment">// Perform action appropriate to condition</span></span><br><span class="line">   &#125; </span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹æ³•åªèƒ½ç”±ä½œä¸ºè¯¥å¯¹è±¡çš„ç›‘è§†å™¨çš„æ‰€æœ‰è€…çš„çº¿ç¨‹è°ƒç”¨ã€‚ </p>
<p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¡ˆä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProducerAndConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">producer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">consumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸€&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸€&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…äºŒ&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…äºŒ&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(producer, <span class="string">&quot;ç”Ÿäº§è€…ä¸‰&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(consumer, <span class="string">&quot;æ¶ˆè´¹è€…ä¸‰&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">product</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿›è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (product &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;äº§å“å·²æ»¡&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (++product));</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å–è´§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (product &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼ºè´§&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + (--product));</span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.get();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.sale();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="Conditionæ§åˆ¶çº¿ç¨‹é€šä¿¡"><a href="#Conditionæ§åˆ¶çº¿ç¨‹é€šä¿¡" class="headerlink" title="Conditionæ§åˆ¶çº¿ç¨‹é€šä¿¡"></a>Conditionæ§åˆ¶çº¿ç¨‹é€šä¿¡</h3><h3 id="çº¿ç¨‹å…«é”"><a href="#çº¿ç¨‹å…«é”" class="headerlink" title="çº¿ç¨‹å…«é”"></a>çº¿ç¨‹å…«é”</h3><h3 id="çº¿ç¨‹æŒ‰åºäº¤æ›¿æ‰§è¡Œ"><a href="#çº¿ç¨‹æŒ‰åºäº¤æ›¿æ‰§è¡Œ" class="headerlink" title="çº¿ç¨‹æŒ‰åºäº¤æ›¿æ‰§è¡Œ"></a>çº¿ç¨‹æŒ‰åºäº¤æ›¿æ‰§è¡Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸‰ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°ABCï¼Œç¤ºä¾‹ï¼šAABBBCCCCAABBBCCCC...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AlternatePrintABCTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AlternatePrintABC</span> <span class="variable">alternatePrintABC</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AlternatePrintABC</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) &#123;</span><br><span class="line">                alternatePrintABC.loopA(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;T1&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) &#123;</span><br><span class="line">                alternatePrintABC.loopB(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;T2&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">20</span>; i++) &#123;</span><br><span class="line">                alternatePrintABC.loopC(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;T3&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlternatePrintABC</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">//çº¿ç¨‹æ ‡è®°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Condition</span> <span class="variable">condition1</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Condition</span> <span class="variable">condition2</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Condition</span> <span class="variable">condition3</span> <span class="operator">=</span> lock.newCondition();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loopA</span><span class="params">(<span class="type">int</span> loop)</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (number != <span class="number">1</span>) &#123;</span><br><span class="line">                condition1.await();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">2</span>; i++) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;\t&quot;</span> + i + <span class="string">&quot;\t&quot;</span> + loop);</span><br><span class="line">            &#125;</span><br><span class="line">            number = <span class="number">2</span>;</span><br><span class="line">            condition2.signal();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loopB</span><span class="params">(<span class="type">int</span> loop)</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (number != <span class="number">2</span>) &#123;</span><br><span class="line">                condition2.await();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;\t&quot;</span> + i + <span class="string">&quot;\t&quot;</span> + loop);</span><br><span class="line">            &#125;</span><br><span class="line">            number = <span class="number">3</span>;</span><br><span class="line">            condition3.signal();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loopC</span><span class="params">(<span class="type">int</span> loop)</span> &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (number != <span class="number">3</span>) &#123;</span><br><span class="line">                condition3.await();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;\t&quot;</span> + i + <span class="string">&quot;\t&quot;</span> + loop);</span><br><span class="line">            &#125;</span><br><span class="line">            number = <span class="number">1</span>;</span><br><span class="line">            condition1.signal();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ReadWriteLockè¯»å†™é”"><a href="#ReadWriteLockè¯»å†™é”" class="headerlink" title="ReadWriteLockè¯»å†™é”"></a>ReadWriteLockè¯»å†™é”</h3><h3 id="çº¿ç¨‹å…«é”-1"><a href="#çº¿ç¨‹å…«é”-1" class="headerlink" title="çº¿ç¨‹å…«é”"></a>çº¿ç¨‹å…«é”</h3><h4 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.thread.juc.lock;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éé™æ€æ–¹æ³•çš„é”thisï¼Œé™æ€æ–¹æ³•çš„é”ä¸ºå¯¹åº”çš„Classå®ä¾‹</span></span><br><span class="line"><span class="comment"> * åŒä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. ä¸¤ä¸ªæ™®é€šåŒæ­¥æ–¹æ³•ï¼Œä¸¤ä¸ªçº¿ç¨‹ï¼Œè¾“å‡ºA B</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2. æ–°å¢Thread.sleep()æ–¹æ³•ç»™printA()ï¼Œè¾“å‡º A B</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰ç§"><a href="#ç¬¬ä¸‰ç§" class="headerlink" title="ç¬¬ä¸‰ç§"></a>ç¬¬ä¸‰ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 3. æ–°å¢æ™®é€šæ–¹æ³•printC()ï¼Œè¾“å‡º C A B</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printB()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printC()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››ç§"><a href="#ç¬¬å››ç§" class="headerlink" title="ç¬¬å››ç§"></a>ç¬¬å››ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 4. ä¸¤ä¸ªTå¯¹è±¡ï¼Œç¬¬ä¸€ä¸ªå¯¹è±¡è°ƒç”¨printA()æ–¹æ³•ï¼Œç¬¬äºŒä¸ªè°ƒç”¨printB()æ–¹æ³•ï¼Œè¾“å‡ºB C A</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="type">T</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t2.printB()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printC()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äº”ç§"><a href="#ç¬¬äº”ç§" class="headerlink" title="ç¬¬äº”ç§"></a>ç¬¬äº”ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 5. ä¿®æ”¹printA()ä¸ºé™æ€æ–¹æ³•ï¼ŒåŒä¸€ä¸ªTå¯¹è±¡ï¼Œè¾“å‡ºB A</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…­ç§"><a href="#ç¬¬å…­ç§" class="headerlink" title="ç¬¬å…­ç§"></a>ç¬¬å…­ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 6. ä¿®æ”¹printA()å’ŒprintB()éƒ½ä¸ºé™æ€æ–¹æ³•ï¼ŒåŒä¸€ä¸ªTå¯¹è±¡ï¼Œè¾“å‡ºA B</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸ƒç§"><a href="#ç¬¬ä¸ƒç§" class="headerlink" title="ç¬¬ä¸ƒç§"></a>ç¬¬ä¸ƒç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 7. ä¿®æ”¹printA()ä¸ºé™æ€æ–¹æ³•,printB()ä¸ºéé™æ€æ–¹æ³•ï¼Œä¸¤ä¸ªTå¯¹è±¡ï¼Œè¾“å‡º B A</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="type">T</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t2.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å…«ç§"><a href="#ç¬¬å…«ç§" class="headerlink" title="ç¬¬å…«ç§"></a>ç¬¬å…«ç§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 8. ä¿®æ”¹printA()å’ŒprintB()éƒ½ä¸ºé™æ€æ–¹æ³•ï¼Œä¸¤ä¸ªTå¯¹è±¡ï¼Œè¾“å‡ºA B</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printC</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread8MonitorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="type">T</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t.printA()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; t2.printB()).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Callableæ¥å£"><a href="#Callableæ¥å£" class="headerlink" title="Callableæ¥å£"></a>Callableæ¥å£</h3><h3 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h3><p>æä¾›äº†ä¸€ç»„çº¿ç¨‹é˜Ÿåˆ—ï¼Œä¿å­˜ç€æ‰€æœ‰ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ï¼Œé¿å…äº†çº¿ç¨‹çš„åˆ›å»ºä¸é”€æ¯é¢å¤–å¼€é”€ï¼Œæé«˜äº†å“åº”çš„é€Ÿåº¦ã€‚</p>
<p>ä½“ç³»ç»“æ„ï¼š</p>
<p>java.util.concurrent.Executorï¼šçº¿ç¨‹ä½¿ç”¨ä¸è°ƒåº¦çš„æ€»æ¥å£</p>
<p>â€‹		|â€“**ExecutorServiceå­æ¥å£ï¼šçº¿ç¨‹æ± çš„ä¸»è¦æ¥å£</p>
<p>â€‹				|â€“ThreadPoolExecutorï¼šçº¿ç¨‹æ± çš„å®ç°ç±»</p>
<p>â€‹				|â€“ScheduledExecutorServiceï¼šçº¿ç¨‹è°ƒåº¦ï¼ˆå»¶æ—¶æˆ–å®šæ—¶æ‰§è¡Œï¼‰æ¥å£</p>
<p>â€‹						|â€“ScheduledThreadPoolExecutorï¼šç»§æ‰¿ThreadPoolExecutor</p>
<p>å·¥å…·ç±»ï¼šExecutors</p>
<p>ExecutorService newFixedThreadPool()ï¼šåˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± </p>
<p>ExecutorService newCachedThreadPool()ï¼šåˆ›å»ºå¯å˜å¤§å°çš„çº¿ç¨‹æ± </p>
<p>ExecutorService newSingleThreadExecutor()ï¼šåˆ›å»ºå•ä¸€å¤§å°çš„çº¿ç¨‹æ± </p>
<p>ScheduledExecutorService newScheduledThreadPool()ï¼šåˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹ï¼Œå¯ä»¥å»¶æ—¶æˆ–å®šæ—¶æ‰§è¡Œä»»åŠ¡</p>
<h3 id="çº¿ç¨‹è°ƒåº¦"><a href="#çº¿ç¨‹è°ƒåº¦" class="headerlink" title="çº¿ç¨‹è°ƒåº¦"></a>çº¿ç¨‹è°ƒåº¦</h3><h3 id="ForkJoinPoolåˆ†æ”¯ã€åˆå¹¶æ¡†æ¶"><a href="#ForkJoinPoolåˆ†æ”¯ã€åˆå¹¶æ¡†æ¶" class="headerlink" title="ForkJoinPoolåˆ†æ”¯ã€åˆå¹¶æ¡†æ¶"></a>ForkJoinPoolåˆ†æ”¯ã€åˆå¹¶æ¡†æ¶</h3><h1 id="ç‰ˆæœ¬ç‰¹æ€§"><a href="#ç‰ˆæœ¬ç‰¹æ€§" class="headerlink" title="ç‰ˆæœ¬ç‰¹æ€§"></a>ç‰ˆæœ¬ç‰¹æ€§</h1><h2 id="Java8"><a href="#Java8" class="headerlink" title="Java8"></a>Java8</h2><h3 id="æ–°ç‰¹æ€§ç®€ä»‹"><a href="#æ–°ç‰¹æ€§ç®€ä»‹" class="headerlink" title="æ–°ç‰¹æ€§ç®€ä»‹"></a>æ–°ç‰¹æ€§ç®€ä»‹</h3><p>å‡½æ•°å¼æ¥å£</p>
<p>Lambdaè¡¨è¾¾å¼</p>
<p>æ–¹æ³•æ„é€ ã€å¼•ç”¨æ„é€ </p>
<p>StreamAPI</p>
<p>Optionalç±»</p>
<p>æ—¥æœŸæ—¶é—´API</p>
<p>æ³¨è§£ï¼šé‡å¤æ³¨è§£ã€ç±»å‹æ³¨è§£ã€ç›®æ ‡ç±»å‹æ¨æ–­</p>
<p>JDKï¼šStringï¼ˆjoinæ–¹æ³•ï¼‰Filesã€Arraysã€Reflectionè·å–å½¢å‚ç­‰</p>
<p>JVMä¸­MetaSpaceå–ä»£Permgen</p>
<p>æ”¹è¿›ç‰¹ç‚¹ï¼š</p>
<ol>
<li><p>é€Ÿåº¦æ›´å¿«</p>
</li>
<li><p>ä»£ç æ›´å°‘(å¢åŠ äº†æ–°çš„è¯­æ³•ï¼šLambda è¡¨è¾¾å¼)</p>
</li>
<li><p>å¼ºå¤§çš„ Stream API</p>
</li>
<li><p>ä¾¿äºå¹¶è¡Œ</p>
</li>
<li><p>æœ€å¤§åŒ–å‡å°‘ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼šOptional</p>
</li>
<li><p>Nashornå¼•æ“ï¼Œå…è®¸åœ¨JVMä¸Šè¿è¡ŒJSåº”ç”¨</p>
</li>
</ol>
<h3 id="Lambdaè¡¨è¾¾å¼"><a href="#Lambdaè¡¨è¾¾å¼" class="headerlink" title="Lambdaè¡¨è¾¾å¼"></a>Lambdaè¡¨è¾¾å¼</h3><blockquote>
<ol>
<li><p>Lambda æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¯ä»¥æŠŠ Lambda è¡¨è¾¾å¼ç†è§£ä¸ºæ˜¯ä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ã€‚</p>
</li>
<li><p>ä½¿ç”¨å®ƒå¯ä»¥å†™å‡ºæ›´ç®€æ´ã€æ›´çµæ´»çš„ä»£ç ï¼Œä½¿Javaçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›å¾—åˆ°äº†æå‡ã€‚</p>
</li>
<li><p>åœ¨Java 8 è¯­è¨€ä¸­å¼•å…¥çš„ä¸€ç§æ–°çš„è¯­æ³•å…ƒç´ å’Œæ“ä½œç¬¦ä¸º â€œ-&gt;â€ ï¼Œ è¯¥æ“ä½œç¬¦è¢«ç§°ä¸º Lambda æ“ä½œç¬¦æˆ–ç®­å¤´æ“ä½œç¬¦ã€‚å®ƒå°† Lambda åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<p> â€‹	å·¦ä¾§ï¼šæŒ‡å®šäº† Lambda è¡¨è¾¾å¼éœ€è¦çš„å‚æ•°åˆ—è¡¨</p>
<p> â€‹	å³ä¾§ï¼šæŒ‡å®šäº† Lambda ä½“ï¼Œæ˜¯æŠ½è±¡æ–¹æ³•çš„å®ç°é€»è¾‘ï¼Œä¹Ÿå³Lambda è¡¨è¾¾å¼è¦æ‰§è¡Œçš„åŠŸèƒ½ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="Lambdaè¯­æ³•ç¤ºä¾‹"><a href="#Lambdaè¯­æ³•ç¤ºä¾‹" class="headerlink" title="Lambdaè¯­æ³•ç¤ºä¾‹"></a>Lambdaè¯­æ³•ç¤ºä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.lambda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * lambdaè¯­æ³•ç¤ºä¾‹</span></span><br><span class="line"><span class="comment"> * æ“ä½œç¬¦ï¼š-&gt;</span></span><br><span class="line"><span class="comment"> * æ ¼å¼ï¼šå‚æ•°åˆ—è¡¨ -&gt; æ–¹æ³•å®ç°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest01</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * lambdaä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;runnable...&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨lambdaè¡¨è¾¾å¼æ›¿æ¢åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r2</span> <span class="operator">=</span> ()-&gt; System.out.println(<span class="string">&quot;runnable...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        TreeSet&lt;String&gt; treeSet = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String o1, String o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        TreeSet&lt;String&gt; treeSet2 = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;((o1,o2)-&gt;o1.compareTo(o2));</span><br><span class="line">        <span class="comment">// TreeSet&lt;String&gt; treeSet3 = new TreeSet&lt;&gt;(String::compareTo);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * lambdaè¯­æ³•ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼ä¸€ï¼šæ— å‚ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;runnable....&quot;</span>);</span><br><span class="line">    </span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼äºŒï¼šLambda éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">        Consumer&lt;String&gt; consumer = (String str) -&gt; System.out.println(str);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼ä¸‰ï¼šæ•°æ®ç±»å‹å¯ä»¥çœç•¥ï¼Œå› ä¸ºå¯ç”±ç¼–è¯‘å™¨æ¨æ–­å¾—å‡ºï¼Œç§°ä¸º&quot;ç±»å‹æ¨æ–­&quot;</span></span><br><span class="line">        Consumer&lt;String&gt; con1 = (str) -&gt; System.out.println(str);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼å››ï¼šLambda è‹¥åªéœ€è¦ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå‚æ•°çš„å°æ‹¬å·å¯ä»¥çœç•¥</span></span><br><span class="line">        Consumer&lt;String&gt; con2 = str -&gt; System.out.println(str);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼äº”ï¼šLambda éœ€è¦ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‚æ•°ï¼Œå¤šæ¡æ‰§è¡Œè¯­å¥ï¼Œå¹¶ä¸”å¯ä»¥æœ‰è¿”å›å€¼</span></span><br><span class="line">        Comparator&lt;Integer&gt; con3 = (x, y) -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;comparator....&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> Integer.compare(x, y);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯­æ³•æ ¼å¼å…­ï¼šå½“ Lambda ä½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼Œreturn ä¸å¤§æ‹¬å·è‹¥æœ‰ï¼Œéƒ½å¯ä»¥çœç•¥</span></span><br><span class="line">        Comparator&lt;Integer&gt; con4 = (x, y) -&gt; Integer.compare(x, y);</span><br><span class="line">        Comparator&lt;Integer&gt; con5 = Integer::compare;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç±»å‹æ¨æ–­ï¼šLambdaè¡¨è¾¾å¼ä¸­æ— éœ€æŒ‡å®šç±»å‹ï¼Œç¨‹åºä¾ç„¶å¯ä»¥ç¼–è¯‘ï¼Œjavacæ¨æ–­å‡ºäº†å‚æ•°çš„ç±»å‹</span></span><br><span class="line">        List&lt;Integer&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// int[] arr = &#123;1,2,3&#125;;ä¹Ÿæ˜¯ç±»å‹æ¨æ–­ã€‚</span></span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°å¼ï¼ˆFunctionalï¼‰æ¥å£"><a href="#å‡½æ•°å¼ï¼ˆFunctionalï¼‰æ¥å£" class="headerlink" title="å‡½æ•°å¼ï¼ˆFunctionalï¼‰æ¥å£"></a>å‡½æ•°å¼ï¼ˆFunctionalï¼‰æ¥å£</h3><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p>â€‹		åœ¨Javaä¸­ï¼Œéšç€æ–°å…´è¯­è¨€çš„æŒ‘æˆ˜ï¼ŒJavaè¿˜åº”è¯¥æ”¯æŒé¢å‘å‡½æ•°ç¼–ç¨‹ï¼ŒLambdaè¡¨è¾¾å¼æ˜¯å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°ï¼Œå®ƒä»¬å¿…é¡»ä¾é™„äºä¸€ç±»ç‰¹åˆ«çš„å¯¹è±¡ç±»å‹ï¼Œå³å‡½æ•°å¼æ¥å£ã€‚Lambdaè¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å®ä¾‹ã€‚</p>
<blockquote>
<p>å®šä¹‰ï¼š</p>
<ol>
<li><p>åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œç§°ä¸ºå‡½æ•°å¼æ¥å£ã€‚</p>
</li>
<li><p>å‡½æ•°å¼æ¥å£å¯ä»¥æœ‰é»˜è®¤æ–¹æ³•ã€‚</p>
</li>
<li><p>å¯ä»¥é€šè¿‡ Lambda è¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ã€‚ï¼ˆè‹¥ Lambda è¡¨è¾¾å¼æŠ›å‡ºä¸€ä¸ªå—æ£€å¼‚å¸¸ï¼Œé‚£ä¹ˆè¯¥å¼‚å¸¸éœ€è¦åœ¨ç›®æ ‡æ¥å£çš„æŠ½è±¡æ–¹æ³•ä¸Šè¿›è¡Œå£°æ˜ï¼‰ã€‚</p>
</li>
<li><p>å¯ä»¥åœ¨ä¸€ä¸ªæ¥å£ä¸Šä½¿ç”¨ <strong>@FunctionalInterface æ³¨è§£</strong>ï¼Œå¯ä»¥æ£€æŸ¥å®ƒæ˜¯å¦æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚åŒæ—¶ javadoc ä¹Ÿä¼šåŒ…å«ä¸€æ¡å£°æ˜ï¼Œè¯´æ˜è¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚</p>
</li>
<li><p>åœ¨<strong>java.util.function</strong>åŒ…ä¸‹å®šä¹‰äº†Java 8 çš„ä¸°å¯Œçš„å‡½æ•°å¼æ¥å£ã€‚</p>
</li>
<li><p><strong>Lambda è¡¨è¾¾å¼ä½œä¸ºå‚æ•°ä¼ é€’</strong>ï¼Œæ¥æ”¶Lambdaè¡¨è¾¾å¼çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯ä¸è¯¥ Lambda è¡¨è¾¾å¼å…¼å®¹çš„å‡½æ•°å¼æ¥å£çš„ç±»å‹ã€‚</p>
</li>
<li><p>å‡½æ•°å¼æ¥å£ç¤ºä¾‹ï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * When an object implementing interface &lt;code&gt;Runnable&lt;/code&gt; is used</span></span><br><span class="line"><span class="comment">     * to create a thread, starting the thread causes the object&#x27;s</span></span><br><span class="line"><span class="comment">     * &lt;code&gt;run&lt;/code&gt; method to be called in that separately executing</span></span><br><span class="line"><span class="comment">     * thread.</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * The general contract of the method &lt;code&gt;run&lt;/code&gt; is that it may</span></span><br><span class="line"><span class="comment">     * take any action whatsoever.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span>     java.lang.Thread#run()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h4 id="è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£"><a href="#è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£"></a>è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£</h4><blockquote>
<ol>
<li><p>åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¯ä»¥æœ‰å¤šä¸ªé»˜è®¤æ–¹æ³•</p>
</li>
<li><p>ä½¿ç”¨@FunctionalInterfaceæ ‡æ³¨</p>
</li>
<li><p>è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£ç¤ºä¾‹</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£ï¼š</span></span><br><span class="line"><span class="comment"> * 1.åªæœ‰ä¸€ä¸ªã€æŠ½è±¡æ–¹æ³•ã€‘ï¼Œå¯ä»¥æœ‰å¤šä¸ªé»˜è®¤æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 2.ä½¿ç”¨ <span class="doctag">@FunctionalInterface</span> æ³¨è§£æ ‡æ³¨</span></span><br><span class="line"><span class="comment"> * 3.åªè¦ä¸€ä¸ªå¯¹è±¡æ˜¯å‡½æ•°å¼æ¥å£çš„å®ä¾‹ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±å¯ä»¥ç”¨Lambdaè¡¨è¾¾å¼æ¥è¡¨ç¤º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">FunctionalInterfaceCustom</span>&lt;T&gt; &#123;</span><br><span class="line">    T <span class="title function_">getValue</span><span class="params">(T t)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Lambdaè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ä¼ é€’</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Lambda è¡¨è¾¾å¼ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="comment"> * 1. ä¼ é€’çš„æ˜¯ä¸€ä¸ªå‡½æ•°å‹æ¥å£çš„å®ç°ç±»</span></span><br><span class="line"><span class="comment"> * 2. æ¥æ”¶Lambdaè¡¨è¾¾å¼çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯ä¸è¯¥ Lambda è¡¨è¾¾å¼å…¼å®¹çš„å‡½æ•°å¼æ¥å£çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FunctionalInterfaceCustomTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">changeString</span><span class="params">(</span></span><br><span class="line"><span class="params">            String source,</span></span><br><span class="line"><span class="params">            FunctionalInterfaceCustom&lt;String&gt; functionalInterface)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> functionalInterface.getValue(source);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">dest</span> <span class="operator">=</span> changeString(<span class="string">&quot;HelloWorld&quot;</span>, str -&gt; str.toUpperCase(Locale.ROOT));</span><br><span class="line">        System.out.println(<span class="string">&quot;dest: &quot;</span>+dest);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h4 id="Java-å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£"><a href="#Java-å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£" class="headerlink" title="Java å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£"></a>Java å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£</h4><table>
<thead>
<tr>
<th>å‡½æ•°å¼æ¥å£</th>
<th>å‚æ•°ç±»å‹</th>
<th>è¿”å›ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Consumer<T></T></td>
<td>T</td>
<td>void</td>
<td>æ¶ˆè´¹å‹æ¥å£ï¼švoid accept(T t) å¯¹ç±»å‹ä¸º T çš„å¯¹è±¡è¿›è¡Œæ“ä½œ</td>
</tr>
<tr>
<td>Supplier<T></T></td>
<td>æ— </td>
<td>T</td>
<td>ä¾›ç»™å‹æ¥å£ï¼šT get() è¿”å›ç±»å‹ä¸º T çš„æ¥å£</td>
</tr>
<tr>
<td>Function&lt;T,R&gt;</td>
<td>T</td>
<td>R</td>
<td>å‡½æ•°å‹æ¥å£ï¼šR apply(T t) å¯¹ç±»å‹ä¸º T çš„å¯¹è±¡æ“ä½œï¼Œè¿”å› R ç±»å‹</td>
</tr>
<tr>
<td>Predicate<T></T></td>
<td>T</td>
<td>Boolean</td>
<td>æ–­è¨€å‹æ¥å£ï¼šboolean test(T t) æ–­è¨€ç±»å‹ä¸º T çš„å¯¹è±¡æ˜¯å¦æ»¡è¶³çº¦æŸ&#x2F;æ¡ä»¶</td>
</tr>
</tbody></table>
<p>å…¶ä»–æ¥å£ï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°å¼æ¥å£</th>
<th>å‚æ•°ç±»å‹</th>
<th>è¿”å›ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>BiFunction&lt;T,U,R&gt;</td>
<td>T,U</td>
<td>R</td>
<td>R apply(T t,U u) å¯¹å‚æ•° Tï¼ŒUæ“ä½œï¼Œè¿”å› R</td>
</tr>
<tr>
<td>UnaryOperator<T></T></td>
<td>T</td>
<td>T</td>
<td>T apply(T t) å¯¹ç±»å‹ä¸º T çš„å¯¹è±¡è¿›è¡Œä¸€å…ƒè¿ç®—ï¼Œè¿”å› T ç±»å‹</td>
</tr>
<tr>
<td>BinaryOperator<T></T></td>
<td>T</td>
<td>T</td>
<td>T apply(T t1,T t2) å¯¹ç±»å‹ä¸º T çš„å¯¹è±¡è¿›è¡ŒäºŒå…ƒè¿ç®—ï¼Œè¿”å› T ç±»å‹</td>
</tr>
<tr>
<td>BiConsumer&lt;T,U&gt;</td>
<td>T,U</td>
<td>void</td>
<td>void accept(T t,U u) å¯¹ç±»å‹ä¸º T,U çš„å‚æ•°è¿›è¡Œæ“ä½œ</td>
</tr>
<tr>
<td>BiPredicate&lt;T,U&gt;</td>
<td>T,U</td>
<td>boolean</td>
<td>å¯¹ç±»å‹ä¸ºT,Uçš„å‚æ•°è¿›è¡Œæ–­è¨€</td>
</tr>
<tr>
<td>ToIntFunction<T><br>ToLongFunction<T><br>ToDoubleFunction<T></T></T></T></td>
<td>T</td>
<td>int&#x2F;long&#x2F;double</td>
<td>åˆ†åˆ«è®¡ç®— int&#x2F;long&#x2F;double ç±»å‹çš„å‡½æ•°</td>
</tr>
<tr>
<td>IntFunction<T><br>LongFunction<T><br>DoubleFunction<T></T></T></T></td>
<td>int&#x2F;long&#x2F;double</td>
<td>R</td>
<td>å‚æ•°åˆ†åˆ«ä¸ºint&#x2F;long&#x2F;double çš„å‡½æ•°</td>
</tr>
</tbody></table>
<h4 id="å‡½æ•°å¼æ¥å£ç¤ºä¾‹"><a href="#å‡½æ•°å¼æ¥å£ç¤ºä¾‹" class="headerlink" title="å‡½æ•°å¼æ¥å£ç¤ºä¾‹"></a>å‡½æ•°å¼æ¥å£ç¤ºä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.functional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.function.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Javaå†…ç½®æ ¸å¿ƒå‡½æ•°å¼æ¥å£æµ‹è¯•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FunctionInterfaceTest02</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¶ˆè´¹å‹æ¥å£</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * public interface Consumer&lt;T&gt; è¡¨ç¤ºæ¥å—å•ä¸ªè¾“å…¥å‚æ•°å¹¶ä¸”ä¸è¿”å›ç»“æœçš„æ“ä½œ</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *      void accept(T t) å¯¹ç»™å®šçš„å‚æ•°æ‰§è¡Œæ­¤æ“ä½œã€‚</span></span><br><span class="line"><span class="comment">     *      default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆçš„ Consumer ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œè¯¥æ“ä½œï¼Œç„¶åæ‰§è¡Œafteræ“ä½œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">toConsume</span><span class="params">(<span class="type">double</span> money, Consumer&lt;Double&gt; consuemr)</span> &#123;</span><br><span class="line">        consuemr.accept(money);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        toConsume(<span class="number">100</span>, m -&gt; System.out.println(<span class="string">&quot;money = &quot;</span> + m));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–­è¨€å‹æ¥å£</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * public interface Predicate&lt;T&gt; è¡¨ç¤ºä¸€ä¸ªå‚æ•°çš„è°“è¯ï¼ˆå¸ƒå°”å€¼å‡½æ•°ï¼‰</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *      boolean test(T t)</span></span><br><span class="line"><span class="comment">     *          åœ¨ç»™å®šçš„å‚æ•°ä¸Šè¯„ä¼°è¿™ä¸ªè°“è¯</span></span><br><span class="line"><span class="comment">     *      default Predicate&lt;T&gt; and(Predicate&lt;? super T&gt; other)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆçš„è°“è¯ï¼Œè¡¨ç¤ºè¯¥è°“è¯ä¸å¦ä¸€ä¸ªè°“è¯çš„çŸ­è·¯é€»è¾‘AND</span></span><br><span class="line"><span class="comment">     *      static &lt;T&gt; Predicate&lt;T&gt; isEqual(Object targetRef)</span></span><br><span class="line"><span class="comment">     *          è¿”å›æ ¹æ® Objects.equals(Object, Object)æµ‹è¯•ä¸¤ä¸ªå‚æ•°æ˜¯å¦ç›¸ç­‰çš„è°“è¯</span></span><br><span class="line"><span class="comment">     *      default Predicate&lt;T&gt; negate()</span></span><br><span class="line"><span class="comment">     *          è¿”å›è¡¨ç¤ºæ­¤è°“è¯çš„é€»è¾‘å¦å®šçš„è°“è¯</span></span><br><span class="line"><span class="comment">     *      default Predicate&lt;T&gt; or(Predicate&lt;? super T&gt; other)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆçš„è°“è¯ï¼Œè¡¨ç¤ºè¯¥è°“è¯ä¸å¦ä¸€ä¸ªè°“è¯çš„çŸ­è·¯é€»è¾‘æˆ–</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">filterString</span><span class="params">(List&lt;String&gt; list, Predicate&lt;String&gt; predicate)</span> &#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (predicate.test(s)) &#123;</span><br><span class="line">                result.add(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;String&gt; result = filterString(</span><br><span class="line">                Arrays.asList(<span class="string">&quot;ä¸œäº¬&quot;</span>, <span class="string">&quot;è¥¿äº¬&quot;</span>, <span class="string">&quot;å—äº¬&quot;</span>, <span class="string">&quot;beijing&quot;</span>),</span><br><span class="line">                s -&gt; s.contains(<span class="string">&quot;äº¬&quot;</span>));</span><br><span class="line">        result.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¾›ç»™å‹æ¥å£</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * public interface Supplier&lt;T&gt; ä»£è¡¨ç»“æœä¾›åº”å•†</span></span><br><span class="line"><span class="comment">     *      æ²¡æœ‰è¦æ±‚æ¯æ¬¡è°ƒç”¨ä¾›åº”å•†æ—¶éƒ½ä¼šè¿”å›æ–°çš„æˆ–ä¸åŒçš„ç»“æœ</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *      T get() è·å¾—ç»“æœ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        Supplier&lt;Employee&gt; supplier = () -&gt; Employee.getAllEmployee().get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(supplier.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‡½æ•°å‹æ¥å£</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * public interface Function&lt;T,R&gt; è¡¨ç¤ºæ¥å—ä¸€ä¸ªå‚æ•°å¹¶äº§ç”Ÿç»“æœçš„å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *      default &lt;V&gt; Function&lt;T,V&gt; andThen(Function&lt;? super R,? extends V&gt; after)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆå‡½æ•°ï¼Œé¦–å…ˆå°†è¯¥å‡½æ•°åº”ç”¨äºå…¶è¾“å…¥ï¼Œç„¶åå°† afterå‡½æ•°åº”ç”¨äºç»“æœã€‚</span></span><br><span class="line"><span class="comment">     *      R apply(T t) å°†æ­¤å‡½æ•°åº”ç”¨äºç»™å®šçš„å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment">     *      default &lt;V&gt; Function&lt;V,R&gt; compose(Function&lt;? super V,? extends T&gt; before)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆå‡½æ•°ï¼Œé¦–å…ˆå°† beforeå‡½æ•°åº”ç”¨äºå…¶è¾“å…¥ï¼Œç„¶åå°†æ­¤å‡½æ•°åº”ç”¨äºç»“æœã€‚</span></span><br><span class="line"><span class="comment">     *      static &lt;T&gt; Function&lt;T,T&gt; identity() è¿”å›ä¸€ä¸ªæ€»æ˜¯è¿”å›å…¶è¾“å…¥å‚æ•°çš„å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test04</span><span class="params">()</span> &#123;</span><br><span class="line">        Function&lt;String, Employee&gt; function = (name) -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>(name);</span><br><span class="line">        System.out.println(function.apply(<span class="string">&quot;John&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * BiFunction&lt;T,U,R&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * public interface BiFunction&lt;T,U,R&gt;è¡¨ç¤ºæ¥å—ä¸¤ä¸ªå‚æ•°å¹¶äº§ç”Ÿç»“æœçš„å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">     * æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *      default &lt;V&gt; BiFunction&lt;T,U,V&gt; andThen(Function&lt;? super R,? extends V&gt; after)</span></span><br><span class="line"><span class="comment">     *          è¿”å›ä¸€ä¸ªç»„åˆå‡½æ•°ï¼Œé¦–å…ˆå°†æ­¤å‡½æ•°åº”ç”¨äºå…¶è¾“å…¥ï¼Œç„¶åå°† afterå‡½æ•°åº”ç”¨äºç»“æœã€‚</span></span><br><span class="line"><span class="comment">     *      R apply(T t, U u) å°†æ­¤å‡½æ•°åº”ç”¨äºç»™å®šçš„å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test05</span><span class="params">()</span> &#123;</span><br><span class="line">        BiFunction&lt;String, Character, Employee&gt; function = (name, sex) -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>(name, sex);</span><br><span class="line">        System.out.println(function.apply(<span class="string">&quot;Jane&quot;</span>, <span class="string">&#x27;W&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.functional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> sex;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Employee&gt; <span class="title function_">getAllEmployee</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">24</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&quot;NewYork&quot;</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Jerry&quot;</span>, <span class="number">19</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&quot;ShangHai&quot;</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Rose&quot;</span>, <span class="number">24</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&quot;Beijing&quot;</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Jack&quot;</span>, <span class="number">18</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&quot;Xian&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">char</span> sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">char</span> sex, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨</h3><h4 id="æ–¹æ³•å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨</h4><blockquote>
<ol>
<li><p>å½“è¦ä¼ é€’ç»™ Lambda ä½“çš„æ“ä½œï¼Œå·²ç»æœ‰å®ç°çš„æ–¹æ³•äº†ï¼Œä¸éœ€è¦è‡ªå·±å®ç°æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ã€‚</p>
</li>
<li><p>æ–¹æ³•å¼•ç”¨å¯ä»¥çœ‹åšæ˜¯ Lambda è¡¨è¾¾å¼æ·±å±‚æ¬¡çš„è¡¨è¾¾ã€‚æ¢å¥è¯è¯´ï¼Œæ–¹æ³•å¼•ç”¨å°±æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¼æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œé€šè¿‡æ–¹æ³•çš„åå­—æ¥æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚</p>
</li>
<li><p>è¦æ±‚ï¼šå®ç°æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ã€‚</p>
</li>
<li><p>æ ¼å¼ï¼šä½¿ç”¨æ“ä½œç¬¦ <strong>â€œ::â€</strong> å°†ç±»(æˆ–å¯¹è±¡) ä¸æ–¹æ³•ååˆ†éš”å¼€æ¥</p>
<p> å¦‚ä¸‹ä¸‰ç§ä¸»è¦ä½¿ç”¨æƒ…å†µï¼š</p>
<p> ï¼ˆ1ï¼‰å¯¹è±¡ <strong>::</strong> å®ä¾‹æ–¹æ³•å</p>
<p> ï¼ˆ2ï¼‰ç±» <strong>::</strong> é™æ€æ–¹æ³•å</p>
<p> ï¼ˆ3ï¼‰ç±» <strong>::</strong> å®ä¾‹æ–¹æ³•å</p>
</li>
</ol>
</blockquote>
<h4 id="æ–¹æ³•å¼•ç”¨ç¤ºä¾‹"><a href="#æ–¹æ³•å¼•ç”¨ç¤ºä¾‹" class="headerlink" title="æ–¹æ³•å¼•ç”¨ç¤ºä¾‹"></a>æ–¹æ³•å¼•ç”¨ç¤ºä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.methodreference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.basic.versionfeature.java8.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.function.BiPredicate;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¦æ±‚ï¼šå®ç°æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ã€‚</span></span><br><span class="line"><span class="comment"> * æ ¼å¼ï¼šä½¿ç”¨æ“ä½œç¬¦ &quot;::&quot; å°†ç±»(æˆ–å¯¹è±¡) ä¸æ–¹æ³•ååˆ†éš”å¼€æ¥ã€‚</span></span><br><span class="line"><span class="comment"> * å¦‚ä¸‹ä¸‰ç§ä¸»è¦ä½¿ç”¨æƒ…å†µï¼š</span></span><br><span class="line"><span class="comment"> * 1. å¯¹è±¡ :: å®ä¾‹æ–¹æ³•å</span></span><br><span class="line"><span class="comment"> * 2. ç±» :: é™æ€æ–¹æ³•å</span></span><br><span class="line"><span class="comment"> * 3. ç±» :: å®ä¾‹æ–¹æ³•å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodReferenceTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æƒ…å†µä¸€ï¼šå¯¹è±¡::å®ä¾‹æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * Consumer ä¸­çš„void accept(T t)</span></span><br><span class="line"><span class="comment">     * PrintStream void println(T t)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer = str -&gt; System.out.println(str);</span><br><span class="line">        consumer.accept(<span class="string">&quot;China&quot;</span>);</span><br><span class="line">        Consumer&lt;String&gt; consumer2 = System.out::println;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Supplier T get()</span></span><br><span class="line"><span class="comment">     * Employee String getName()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Tony&quot;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&quot;XinJiang&quot;</span>);</span><br><span class="line">        Supplier&lt;String&gt; sup = () -&gt; employee.getName();</span><br><span class="line">        System.out.println(sup.get());</span><br><span class="line">        Supplier&lt;String&gt; supplier = employee::getName;</span><br><span class="line">        System.out.println(supplier.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æƒ…å†µäºŒï¼šç±»::é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * Comparator ä¸­çš„ int compare(T t)</span></span><br><span class="line"><span class="comment">     * Integer int compare(T t)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        Comparator&lt;Integer&gt; com = (o1, o2) -&gt; Integer.compare(o1, o2);</span><br><span class="line">        System.out.println(com.compare(<span class="number">10</span>, <span class="number">9</span>));<span class="comment">//1</span></span><br><span class="line">        Comparator&lt;Integer&gt; comparator = Integer::compare;</span><br><span class="line">        System.out.println(comparator.compare(<span class="number">1</span>, <span class="number">3</span>));<span class="comment">//-1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Function ä¸­çš„ R apply(T t)</span></span><br><span class="line"><span class="comment">     * Math Long round(Double d)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test04</span><span class="params">()</span> &#123;</span><br><span class="line">        Function&lt;Double, Long&gt; fun = d -&gt; Math.round(d);</span><br><span class="line">        System.out.println(fun.apply(<span class="number">1.2</span>));</span><br><span class="line">        Function&lt;Double, Long&gt; fun2 = Math::round;</span><br><span class="line">        System.out.println(fun2.apply(<span class="number">1.2</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æƒ…å†µä¸‰ï¼šç±»ï¼šå®ä¾‹æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * Comparatorä¸­çš„int compare(T t1,T t2)</span></span><br><span class="line"><span class="comment">     * String ä¸­çš„ int t1.compareTo(t2)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test05</span><span class="params">()</span> &#123;</span><br><span class="line">        Comparator&lt;String&gt; com1 = (s1, s2) -&gt; s1.compareTo(s2);</span><br><span class="line">        System.out.println(com1.compare(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abd&quot;</span>));</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ç›¸å½“äºè°ƒç”¨æ–¹ï¼šs1è°ƒç”¨compareTo</span></span><br><span class="line">        <span class="comment">// Stringé‡å†™äº†compareToæ–¹æ³•</span></span><br><span class="line">        Comparator&lt;String&gt; com2 = String::compareTo;</span><br><span class="line">        System.out.println(com2.compare(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abe&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * BigPredicateä¸­çš„boolean test(T t2,T t2)</span></span><br><span class="line"><span class="comment">     * String boolean t1.equals(t2)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test06</span><span class="params">()</span> &#123;</span><br><span class="line">        BiPredicate&lt;String, String&gt; pre1 = (s1, s2) -&gt; s1.equals(s2);</span><br><span class="line">        System.out.println(pre1.test(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;abc&quot;</span>));</span><br><span class="line">        BiPredicate&lt;String, String&gt; pre2 = String::equals;</span><br><span class="line">        System.out.println(pre2.test(<span class="string">&quot;abd&quot;</span>, <span class="string">&quot;abc&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Function ä¸­çš„R apply(T t)</span></span><br><span class="line"><span class="comment">     * Employee ä¸­çš„String getName() ç›¸å½“äº t.getName()</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ²¡æœ‰å‚æ•°ï¼ŒSupplier&lt;String&gt; s = å¯¹è±¡::getName();</span></span><br><span class="line"><span class="comment">     * å«å‚ï¼šFunction&lt;Employee,String&gt; s = ç±»::getName();</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test07</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;John&quot;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&quot;YunNan&quot;</span>);</span><br><span class="line">        Function&lt;Employee, String&gt; fun1 = e -&gt; e.getName();</span><br><span class="line">        System.out.println(fun1.apply(emp));</span><br><span class="line">        <span class="comment">// public String getName(Employee employee) &#123;&#125;</span></span><br><span class="line">        <span class="comment">// Function&lt;Employee,String&gt; fun2 = emp::getName;</span></span><br><span class="line">        Function&lt;Employee, String&gt; fun2 = Employee::getName;</span><br><span class="line">        System.out.println(fun2.apply(emp));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ„é€ å™¨å¼•ç”¨"><a href="#æ„é€ å™¨å¼•ç”¨" class="headerlink" title="æ„é€ å™¨å¼•ç”¨"></a>æ„é€ å™¨å¼•ç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.methodreference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.basic.versionfeature.java8.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.BiFunction;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Supplier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼ï¼š ClassName::new</span></span><br><span class="line"><span class="comment"> * ä¸å‡½æ•°å¼æ¥å£ç›¸ç»“åˆï¼Œè‡ªåŠ¨ä¸å‡½æ•°å¼æ¥å£ä¸­æ–¹æ³•å…¼å®¹ã€‚</span></span><br><span class="line"><span class="comment"> * å¯ä»¥æŠŠæ„é€ å™¨å¼•ç”¨èµ‹å€¼ç»™å®šä¹‰çš„æ–¹æ³•ï¼Œè¦æ±‚æ„é€ å™¨å‚æ•°åˆ—è¡¨è¦ä¸æ¥å£ä¸­æŠ½è±¡</span></span><br><span class="line"><span class="comment"> * æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸€è‡´ï¼Œä¸”æ–¹æ³•çš„è¿”å›å€¼å³ä¸ºæ„é€ å™¨å¯¹åº”ç±»çš„å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚</span></span><br><span class="line"><span class="comment"> *      Function&lt;Integer,MyClass&gt; fun = (n)-&gt;new MyClass(n);</span></span><br><span class="line"><span class="comment"> * ç­‰ä»·äº</span></span><br><span class="line"><span class="comment"> *      Function&lt;Integer,MyClass&gt; fun1 = MyClass::new;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConstructorReferenceTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        Supplier&lt;Employee&gt; employeeSupplier = <span class="keyword">new</span> <span class="title class_">Supplier</span>&lt;Employee&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Employee <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Supplier&lt;Employee&gt; employeeSupplier2 = () -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">        Supplier&lt;Employee&gt; employeeSupplier3 = Employee::<span class="keyword">new</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;employee: &quot;</span> + employeeSupplier3.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        Function&lt;String, Employee&gt; employeeFunction = <span class="keyword">new</span> <span class="title class_">Function</span>&lt;String, Employee&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Employee <span class="title function_">apply</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Function&lt;String, Employee&gt; employeeFunction2 = name -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>(name);</span><br><span class="line">        Function&lt;String, Employee&gt; employeeFunction3 = Employee::<span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        BiFunction&lt;String, Character, Employee&gt; fun = (t, u) -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>(t, u);</span><br><span class="line">        BiFunction&lt;String, Character, Employee&gt; fun1 = Employee::<span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„å¼•ç”¨"><a href="#æ•°ç»„å¼•ç”¨" class="headerlink" title="æ•°ç»„å¼•ç”¨"></a>æ•°ç»„å¼•ç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.methodreference;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°ç»„å¼•ç”¨</span></span><br><span class="line"><span class="comment"> * æ ¼å¼ï¼š type[] :: new</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayReferenceTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        Function&lt;Integer, String[]&gt; arrayFunction = n -&gt; <span class="keyword">new</span> <span class="title class_">String</span>[n];</span><br><span class="line">        Function&lt;Integer, String[]&gt; arrayFunction2 = String[]::<span class="keyword">new</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a>Stream</h3><h4 id="å¹¶è¡Œæµä¸ä¸²è¡Œæµ"><a href="#å¹¶è¡Œæµä¸ä¸²è¡Œæµ" class="headerlink" title="å¹¶è¡Œæµä¸ä¸²è¡Œæµ"></a>å¹¶è¡Œæµä¸ä¸²è¡Œæµ</h4><blockquote>
<ol>
<li><p>å¹¶è¡Œæµå°±æ˜¯æŠŠä¸€ä¸ªå†…å®¹åˆ†æˆå¤šä¸ªæ•°æ®å—ï¼Œå¹¶ç”¨ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å¤„ç†æ¯ä¸ªæ•°æ®å—çš„æµã€‚ç›¸æ¯”è¾ƒä¸²è¡Œçš„æµï¼Œå¹¶è¡Œçš„æµå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
</li>
<li><p>Java 8 ä¸­å°†å¹¶è¡Œè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„å¯¹æ•°æ®è¿›è¡Œå¹¶è¡Œæ“ä½œã€‚Stream API å¯ä»¥å£°æ˜æ€§åœ°é€šè¿‡parallel() ä¸ sequential() åœ¨å¹¶è¡Œæµä¸é¡ºåºæµä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="Streamç®€ä»‹"><a href="#Streamç®€ä»‹" class="headerlink" title="Streamç®€ä»‹"></a>Streamç®€ä»‹</h4><blockquote>
<ol>
<li><p>Stream API ( java.util.stream) æŠŠçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼å¼•å…¥åˆ°Javaä¸­ã€‚</p>
</li>
<li><p>Stream æ˜¯ Java8 ä¸­å¤„ç†é›†åˆçš„å…³é”®æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå¯ä»¥æŒ‡å®šä½ å¸Œæœ›å¯¹é›†åˆè¿›è¡Œçš„æ“ä½œï¼Œå¯ä»¥æ‰§è¡Œéå¸¸å¤æ‚çš„<strong>æŸ¥æ‰¾ã€è¿‡æ»¤å’Œæ˜ å°„</strong>æ•°æ®ç­‰æ“ä½œã€‚ </p>
</li>
<li><p>Stream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ï¼ŒStreamæ˜¯Javaå±‚é¢çš„æ•°æ®å¤„ç†ã€‚</p>
</li>
<li><p>Stream å’Œ Collection é›†åˆçš„åŒºåˆ«ï¼š Collection æ˜¯ä¸€ç§é™æ€çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œè€Œ Stream æ˜¯æœ‰å…³è®¡ç®—çš„ã€‚å‰è€…æ˜¯ä¸»è¦é¢å‘å†…å­˜ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåè€…ä¸»è¦æ˜¯é¢å‘ CPUï¼Œé€šè¿‡ CPU å®ç°è®¡ç®—ã€‚</p>
</li>
<li><p>Streamæ˜¯æ•°æ®æ¸ é“ï¼Œç”¨äºæ“ä½œæ•°æ®æºï¼ˆé›†åˆã€æ•°ç»„ç­‰ï¼‰æ‰€ç”Ÿæˆçš„å…ƒç´ åºåˆ—ã€‚</p>
</li>
<li><p>æ³¨æ„ï¼š</p>
<p> ï¼ˆ1ï¼‰Stream è‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ ã€‚</p>
<p> ï¼ˆ2ï¼‰Stream ä¸ä¼šæ”¹å˜æºå¯¹è±¡ã€‚ç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamã€‚</p>
<p> ï¼ˆ3ï¼‰Stream æ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ã€‚è¿™æ„å‘³ç€ä»–ä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œã€‚</p>
</li>
<li><p>Streamæ“ä½œæ•°æ®çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<p> ï¼ˆ1ï¼‰åˆ›å»º Streamï¼Œ ä¸€ä¸ªæ•°æ®æºï¼ˆå¦‚ï¼šé›†åˆã€æ•°ç»„ï¼‰ï¼Œè·å–ä¸€ä¸ªæµ</p>
<p> ï¼ˆ2ï¼‰ä¸­é—´æ“ä½œï¼Œä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œå¤„ç†</p>
<p> ï¼ˆ3ï¼‰ ç»ˆæ­¢æ“ä½œï¼Œä¸€æ—¦æ‰§è¡Œç»ˆæ­¢æ“ä½œï¼Œå°±æ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œå¹¶äº§ç”Ÿç»“æœã€‚ä¹‹åï¼Œä¸ä¼šå†è¢«ä½¿ç”¨ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="Streamçš„åˆ›å»ºæ–¹å¼"><a href="#Streamçš„åˆ›å»ºæ–¹å¼" class="headerlink" title="Streamçš„åˆ›å»ºæ–¹å¼"></a>Streamçš„åˆ›å»ºæ–¹å¼</h4><h5 id="æ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ"><a href="#æ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ" class="headerlink" title="æ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ"></a>æ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Java8 ä¸­çš„ Collection æ¥å£è¢«æ‰©å±•ï¼Œæä¾›äº†ä¸¤ä¸ªè·å–æµçš„æ–¹æ³•ï¼š</span><br><span class="line"><span class="keyword">default</span> Stream&lt;E&gt; <span class="title function_">stream</span><span class="params">()</span> : è¿”å›ä¸€ä¸ªé¡ºåºæµ</span><br><span class="line"><span class="keyword">default</span> Stream&lt;E&gt; <span class="title function_">parallelStream</span><span class="params">()</span> : è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„Arrays"><a href="#æ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„Arrays" class="headerlink" title="æ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„Arrays"></a>æ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„Arrays</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Java8 ä¸­çš„ Arrays çš„é™æ€æ–¹æ³• stream() å¯ä»¥è·å–æ•°ç»„æµï¼š</span><br><span class="line"><span class="keyword">static</span> &lt;T&gt; Stream&lt;T&gt; <span class="title function_">stream</span><span class="params">(T[] array)</span>: è¿”å›ä¸€ä¸ªæµé‡è½½å½¢å¼ï¼Œèƒ½å¤Ÿå¤„ç†å¯¹åº”åŸºæœ¬ç±»å‹çš„æ•°ç»„ï¼š</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> IntStream <span class="title function_">stream</span><span class="params">(<span class="type">int</span>[] array)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> LongStream <span class="title function_">stream</span><span class="params">(<span class="type">long</span>[] array)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> DoubleStream <span class="title function_">stream</span><span class="params">(<span class="type">double</span>[] array)</span></span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼ä¸‰ï¼šé€šè¿‡Streamçš„of"><a href="#æ–¹å¼ä¸‰ï¼šé€šè¿‡Streamçš„of" class="headerlink" title="æ–¹å¼ä¸‰ï¼šé€šè¿‡Streamçš„of()"></a>æ–¹å¼ä¸‰ï¼šé€šè¿‡Streamçš„of()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥è°ƒç”¨Streamç±»é™æ€æ–¹æ³• of(), é€šè¿‡æ˜¾å¼çš„åˆ›å»ºä¸€ä¸ªæµã€‚å®ƒå¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ã€‚</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Stream&lt;T&gt; <span class="title function_">of</span><span class="params">(T... values)</span> : è¿”å›ä¸€ä¸ªæµ</span><br></pre></td></tr></table></figure>

<h5 id="æ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµ"><a href="#æ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµ" class="headerlink" title="æ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµ"></a>æ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³• Stream.iterate() å’Œ Stream.generate()åˆ›å»ºæ— é™æµã€‚</span><br><span class="line">è¿­ä»£ï¼š<span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Stream&lt;T&gt; <span class="title function_">iterate</span><span class="params">(<span class="keyword">final</span> T seed, <span class="keyword">final</span> UnaryOperator&lt;T&gt; f)</span></span><br><span class="line">ç”Ÿæˆï¼š<span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Stream&lt;T&gt; <span class="title function_">generate</span><span class="params">(Supplier&lt;T&gt; s)</span></span><br></pre></td></tr></table></figure>

<h5 id="Streamçš„åˆ›å»ºç¤ºä¾‹"><a href="#Streamçš„åˆ›å»ºç¤ºä¾‹" class="headerlink" title="Streamçš„åˆ›å»ºç¤ºä¾‹"></a>Streamçš„åˆ›å»ºç¤ºä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.stream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.basic.versionfeature.java8.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Streamçš„åˆ›å»ºæ–¹å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamCreateWayTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Streamåˆ›å»ºæ–¹å¼ä¸€ï¼šé€šè¿‡é›†åˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; employeeList = Employee.getAllEmployee();</span><br><span class="line">        Stream&lt;Employee&gt; stream = employeeList.stream();</span><br><span class="line">        Stream&lt;Employee&gt; parallelStream = employeeList.parallelStream();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Streamçš„åˆ›å»ºæ–¹å¼äºŒï¼šé€šè¿‡æ•°ç»„Arrays.stream()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">IntStream</span> <span class="variable">intStream</span> <span class="operator">=</span> Arrays.stream(array);</span><br><span class="line">        Employee[] employees = <span class="literal">null</span>;</span><br><span class="line">        Employee.getAllEmployee().toArray(employees);</span><br><span class="line">        Stream&lt;Employee&gt; stream = Arrays.stream(employees);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Streamçš„åˆ›å»ºæ–¹å¼ä¸‰ï¼šé€šè¿‡Stream.of</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        Stream&lt;Integer&gt; integerStream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Streamçš„åˆ›å»ºæ–¹å¼å››ï¼šåˆ›å»ºæ— é™æµ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test04</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆ</span></span><br><span class="line">        Stream.generate(Math::random).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line">        <span class="comment">// è¿­ä»£</span></span><br><span class="line">        Stream.iterate(<span class="number">0</span>, t -&gt; t + <span class="number">2</span>).limit(<span class="number">10</span>).forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Stream-çš„ä¸­é—´æ“ä½œ"><a href="#Stream-çš„ä¸­é—´æ“ä½œ" class="headerlink" title="Stream çš„ä¸­é—´æ“ä½œ"></a>Stream çš„ä¸­é—´æ“ä½œ</h4><p>â€‹		å¤šä¸ªä¸­é—´æ“ä½œå¯ä»¥è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæµæ°´çº¿ï¼Œé™¤éæµæ°´çº¿ä¸Šè§¦å‘ç»ˆæ­¢æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œä¸ä¼šæ‰§è¡Œä»»ä½•çš„å¤„ç†ï¼Œè€Œåœ¨ç»ˆæ­¢æ“ä½œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼Œç§°ä¸ºâ€œæƒ°æ€§æ±‚å€¼â€ã€‚</p>
<h5 id="ç­›é€‰ä¸åˆ‡ç‰‡"><a href="#ç­›é€‰ä¸åˆ‡ç‰‡" class="headerlink" title="ç­›é€‰ä¸åˆ‡ç‰‡"></a>ç­›é€‰ä¸åˆ‡ç‰‡</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>filter(Predicate p)</td>
<td>æ¥å—Lambdaï¼Œä»æµä¸­æ’é™¤æŸäº›å…ƒç´ </td>
</tr>
<tr>
<td>distinct()</td>
<td>ç­›é€‰ï¼Œæ ¹æ®æµä¸­å…ƒç´ çš„hashCode()å’Œequals()å»é™¤é‡å¤å…ƒç´ </td>
</tr>
<tr>
<td>limit(long maxSize)</td>
<td>æˆªæ–­æµï¼Œä½¿å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡</td>
</tr>
<tr>
<td>skip(long n)</td>
<td>è·³è¿‡æŒ‡å®šæ•°é‡ä¸ªå…ƒç´ </td>
</tr>
</tbody></table>
<h5 id="æ˜ -å°„"><a href="#æ˜ -å°„" class="headerlink" title="æ˜  å°„"></a>æ˜  å°„</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>map(Function f)</td>
<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‡½æ•°åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ </td>
</tr>
<tr>
<td>flatMap(Function f)</td>
<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œå°†æµä¸­æ¯ä¸€ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµ</td>
</tr>
<tr>
<td>mapToInt(ToIntFunction f)</td>
<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‡½æ•°åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„ IntStream</td>
</tr>
<tr>
<td>mapToLong(ToLongFunction f)</td>
<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‡½æ•°åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„ LongStream</td>
</tr>
<tr>
<td>mapToDouble(ToDoubleFunction f)</td>
<td>æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‡½æ•°åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„ DoubleStream</td>
</tr>
</tbody></table>
<h5 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>sorted()</td>
<td>äº§ç”Ÿä¸€ä¸ªæ–°æµï¼ŒæŒ‰è‡ªç„¶é¡ºåºæ’åº</td>
</tr>
<tr>
<td>sorted(Comparator c)</td>
<td>äº§ç”Ÿä¸€ä¸ªæ–°æµï¼ŒæŒ‰ Comparator æ’åº</td>
</tr>
</tbody></table>
<h5 id="æµçš„ä¸­é—´æ“ä½œç¤ºä¾‹"><a href="#æµçš„ä¸­é—´æ“ä½œç¤ºä¾‹" class="headerlink" title="æµçš„ä¸­é—´æ“ä½œç¤ºä¾‹"></a>æµçš„ä¸­é—´æ“ä½œç¤ºä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•æµçš„ä¸­é—´æ“ä½œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamMiddleOperateTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„ç­›é€‰ä¸åˆ‡ç‰‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; employeeList = Employee.getAllEmployee();</span><br><span class="line">        employeeList.stream().filter(e -&gt; e.getName().contains(<span class="string">&quot;T&quot;</span>)).forEach(System.out::println);</span><br><span class="line">        employeeList.stream().limit(<span class="number">2</span>).forEach(System.out::println);</span><br><span class="line">        employeeList.stream().skip(<span class="number">2</span>).forEach(System.out::println);</span><br><span class="line">        employeeList.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Jack&quot;</span>, <span class="number">18</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&quot;Xian&quot;</span>));</span><br><span class="line">        employeeList.stream().distinct().forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„æ˜ å°„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BB&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;DD&quot;</span>);</span><br><span class="line">        list.stream().map(str -&gt; str.toLowerCase(Locale.ROOT)).forEach(System.out::println);</span><br><span class="line">        Employee.getAllEmployee().stream().map(Employee::getName)</span><br><span class="line">                .filter(name -&gt; name.length() &gt; <span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">        <span class="comment">// flatMap(function f) ç±»ä¼¼äºlist.add() list.addAll()</span></span><br><span class="line">        Stream&lt;Stream&lt;Character&gt;&gt; stream = list.stream().map(StreamMiddleOperateTest::fromStringToCharacterStream);</span><br><span class="line">        stream.forEach(s -&gt; &#123;</span><br><span class="line">            s.forEach(System.out::println);</span><br><span class="line">        &#125;);</span><br><span class="line">        Stream&lt;Character&gt; flatMap = list.stream().flatMap(StreamMiddleOperateTest::fromStringToCharacterStream);</span><br><span class="line">        flatMap.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Stream&lt;Character&gt; <span class="title function_">fromStringToCharacterStream</span><span class="params">(String str)</span> &#123;</span><br><span class="line">        List&lt;Character&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(str.length());</span><br><span class="line">        <span class="keyword">for</span> (Character c : str.toCharArray()) &#123;</span><br><span class="line">            list.add(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.stream();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// sort() è‡ªç„¶æ’åºï¼Œæ’åºå¯¹è±¡éœ€è¦å®ç°Comparableæ¥å£</span></span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">23</span>, <span class="number">24</span>, -<span class="number">12</span>, <span class="number">112</span>, <span class="number">81</span>);</span><br><span class="line">        list.stream().sorted().forEach(System.out::println);</span><br><span class="line">        <span class="comment">// sorted(Comparator com) å®šåˆ¶æ’åº</span></span><br><span class="line">        Employee.getAllEmployee().stream()</span><br><span class="line">                .sorted(Comparator.comparingInt(Employee::getAge))</span><br><span class="line">                .forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Stream-çš„ç»ˆæ­¢æ“ä½œ"><a href="#Stream-çš„ç»ˆæ­¢æ“ä½œ" class="headerlink" title="Stream çš„ç»ˆæ­¢æ“ä½œ"></a>Stream çš„ç»ˆæ­¢æ“ä½œ</h4><p>â€‹		ç»ˆæ­¢æ“ä½œä¼šä»æµçš„æµæ°´çº¿ç”Ÿæˆç»“æœã€‚å…¶ç»“æœå¯ä»¥æ˜¯ä»»ä½•ä¸æ˜¯æµçš„å€¼ï¼Œä¾‹å¦‚ï¼š Listã€Integerï¼Œç”šè‡³æ˜¯ void ã€‚<strong>æµè¿›è¡Œäº†ç»ˆæ­¢æ“ä½œåï¼Œä¸èƒ½å†æ¬¡ä½¿ç”¨</strong>ã€‚</p>
<h5 id="åŒ¹é…ä¸æŸ¥æ‰¾"><a href="#åŒ¹é…ä¸æŸ¥æ‰¾" class="headerlink" title="åŒ¹é…ä¸æŸ¥æ‰¾"></a>åŒ¹é…ä¸æŸ¥æ‰¾</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>allMatch(Predicate p)</td>
<td>æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td>anyMatch(Predicate p)</td>
<td>æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…å…¶ä¸­ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>nonoMatch(Predicate p)</td>
<td>æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´ </td>
</tr>
<tr>
<td>findFirst()</td>
<td>è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>findAny()</td>
<td>è¿”å›ä»»æ„å…ƒç´ </td>
</tr>
<tr>
<td>count()</td>
<td>è¿”å›æµä¸­ä»»æ„å…ƒç´ </td>
</tr>
<tr>
<td>max(Comparator c)</td>
<td>è¿”å›æµä¸­æœ€å¤§å€¼</td>
</tr>
<tr>
<td>min(Comparator c)</td>
<td>è¿”å›æµä¸­æœ€å°å€¼</td>
</tr>
<tr>
<td>forEach(Consumer C)</td>
<td>å†…éƒ¨è¿­ä»£ï¼ˆä½¿ç”¨Collectionæ¥å£éœ€è¦ç”¨æˆ·åšè¿­ä»£ï¼šå¤–éƒ¨è¿­ä»£ï¼‰</td>
</tr>
</tbody></table>
<h5 id="å½’çº¦"><a href="#å½’çº¦" class="headerlink" title="å½’çº¦"></a>å½’çº¦</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>reduce(T iden,BinaryOperator b)</td>
<td>å°†æµä¸­çš„å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°å€¼ï¼Œè¿”å›T</td>
</tr>
<tr>
<td>reduce(BinaryOperator b)</td>
<td>å°†æµä¸­çš„å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°å€¼ï¼Œè¿”å›Optional<T></T></td>
</tr>
</tbody></table>
<h5 id="æ”¶é›†"><a href="#æ”¶é›†" class="headerlink" title="æ”¶é›†"></a>æ”¶é›†</h5><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>collect(Collector c)</td>
<td>å°†æµè½¬åŒ–ä¸ºå…¶ä»–å½¢å¼ï¼Œæ¥æ”¶ä¸€ä¸ªCollectoræ¥å£çš„å®ç°ï¼Œç”¨äºç»™Streamä¸­å…ƒç´ åšæ±‡æ€»</td>
</tr>
</tbody></table>
<p>Collector æ¥å£ä¸­æ–¹æ³•çš„å®ç°å†³å®šäº†å¦‚ä½•å¯¹æµæ‰§è¡Œæ”¶é›†çš„æ“ä½œ(å¦‚æ”¶é›†åˆ° Listã€Setã€Map)ã€‚å¦å¤–ï¼Œ Collectors å®ç”¨ç±»æä¾›äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå¸¸è§æ”¶é›†å™¨å®ä¾‹ï¼Œå…·ä½“æ–¹æ³•ä¸å®ä¾‹å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¿”å›ç±»å‹</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>toList</td>
<td>List<T></T></td>
<td>å°†æµä¸­å…ƒç´ æ”¶é›†åˆ°List</td>
</tr>
<tr>
<td>toSet</td>
<td>Set<T></T></td>
<td>å°†æµä¸­å…ƒç´ æ”¶é›†åˆ°Set</td>
</tr>
<tr>
<td>toCollection</td>
<td>Collection<T></T></td>
<td>å°†æµæ”¶é›†åˆ°åˆ›å»ºçš„é›†åˆ</td>
</tr>
<tr>
<td>counting</td>
<td>Long</td>
<td>è®¡ç®—æµä¸­çš„ä¸ªæ•°</td>
</tr>
<tr>
<td>summingInt</td>
<td>Integer</td>
<td>å¯¹æµä¸­å…ƒç´ çš„æ•´æ•°å±æ€§æ±‚å’Œ</td>
</tr>
<tr>
<td>averagingInt</td>
<td>Double</td>
<td>è®¡ç®—æµä¸­å…ƒç´ Integerå±æ€§çš„å¹³å‡å€¼</td>
</tr>
<tr>
<td>summarizingInt</td>
<td>IntSummaryStatics</td>
<td>æ”¶é›†æµä¸­Integerå±æ€§çš„ç»Ÿè®¡å€¼</td>
</tr>
<tr>
<td>joining</td>
<td>String</td>
<td>è¿æ¥æµä¸­æ¯ä¸ªå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>maxBy</td>
<td>Optional<T></T></td>
<td>æ ¹æ®æ¯”è¾ƒå™¨é€‰æ‹©æœ€å¤§å€¼</td>
</tr>
<tr>
<td>minBy</td>
<td>Optional<T></T></td>
<td>æ ¹æ®æ¯”è¾ƒå™¨é€‰æ‹©æœ€å°å€¼</td>
</tr>
<tr>
<td>reducing</td>
<td>å½’çº¦äº§ç”Ÿçš„ç±»å‹</td>
<td>ä»ç´¯åŠ å™¨çš„åˆå§‹å€¼å¼€å§‹ï¼Œåˆ©ç”¨BinaryOPeratorä¸æµä¸­å…ƒç´ é€ä¸ªç»“åˆï¼Œä»è€Œå½’çº¦æˆå•ä¸ªå€¼</td>
</tr>
<tr>
<td>collectingAndThen</td>
<td>è½¬æ¢å‡½æ•°è¿”å›çš„ç±»å‹</td>
<td>åŒ…è£¹å¦ä¸€ä¸ªæ”¶é›†å™¨ï¼Œå¯¹å…¶ç»“æœè½¬æ¢å‡½æ•°</td>
</tr>
<tr>
<td>groupingBy</td>
<td>Map&lt;K,List<V>&gt;</V></td>
<td>æ ¹æ®æŸå±æ€§å€¼è¿›è¡Œåˆ†ç»„ï¼Œå±æ€§ä¸ºKï¼Œç»“æœä¸ºV</td>
</tr>
<tr>
<td>partitioningBy</td>
<td>Map&lt;Boolean,List<T>&gt;</T></td>
<td>æ ¹æ®trueæˆ–è€…falseè¿›è¡Œåˆ†åŒº</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Employee&gt; employeeList = list.stream().collect(Collectors.toList());</span><br><span class="line">Set&lt;Employee&gt; employeeSet = list.stream().collect(Collectors.toSet());</span><br><span class="line">Collection&lt;Employee&gt; employees = 		   			list.stream().collect(Collectors.toCollection(ArrayList::<span class="keyword">new</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> list.stream().collect(Collectors.counting());</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> list.stream().collect(summingInt(Employee::getSalary));</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">avg</span> <span class="operator">=</span> list.stream().collect(Collectors.summingInt(Employee::getSalary());</span><br><span class="line"><span class="type">int</span> <span class="variable">summaryStaticsiss</span> <span class="operator">=</span> list.stream().collect(Collectors.summarizingINt(Employee::getSalary());</span><br><span class="line">                                              </span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> list.stream().map(Employee::getName).collect(Collectors.joining());</span><br><span class="line">Optional&lt;Employee&gt; max =list.stream().collect(Collectors.maxBy(comparingInt(Employee::getSalary)));</span><br><span class="line">                                              </span><br><span class="line">Optional&lt;Employee&gt; min =list.stream().collect(Collectors.minBy(comparingInt(Employee::getSalary)));</span><br><span class="line">                                              </span><br><span class="line"><span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> list.stream().collect(Collectors.reducing(<span class="number">0</span>,Employee::getSalary,Integer::sum));</span><br><span class="line"><span class="type">int</span> <span class="variable">how</span> <span class="operator">=</span> list.stream().collect(Collectors.collectingAndThen(Collectors.toList(),List::size));</span><br><span class="line">Map&lt;Employee.STATUS,List&lt;Employee&gt; list&gt; map = </span><br><span class="line">data.stream().collect(Collectors.groupingBy(Employee::getStatus);</span><br><span class="line">Map&lt;Boolean,List&lt;Employee&gt; list&gt; map = </span><br><span class="line">data.stream().collect(Collectors.partitioningBy(Employee::getManage);</span><br></pre></td></tr></table></figure>

<h5 id="Streamçš„ç»ˆæ­¢æ“ä½œç¤ºä¾‹"><a href="#Streamçš„ç»ˆæ­¢æ“ä½œç¤ºä¾‹" class="headerlink" title="Streamçš„ç»ˆæ­¢æ“ä½œç¤ºä¾‹"></a>Streamçš„ç»ˆæ­¢æ“ä½œç¤ºä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•æµçš„ç»ˆæ­¢æ“ä½œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTerminalOperateTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„åŒ¹é…ä¸æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; allEmployee = Employee.getAllEmployee();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">allMatch</span> <span class="operator">=</span> allEmployee.stream().allMatch(e -&gt; e.getAge() &gt; <span class="number">18</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;allMatch: &quot;</span> + allMatch);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">anyMatch</span> <span class="operator">=</span> allEmployee.stream().anyMatch(e -&gt; e.getAge() &gt; <span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;anyMatch: &quot;</span> + anyMatch);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">noneMatch</span> <span class="operator">=</span> allEmployee.stream().noneMatch(e -&gt; e.getName().contains(<span class="string">&quot;L&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;noneMatch: &quot;</span> + noneMatch);</span><br><span class="line">        Optional&lt;Employee&gt; findFirst = allEmployee.stream().findFirst();</span><br><span class="line">        System.out.println(<span class="string">&quot;findFirst: &quot;</span> + findFirst);</span><br><span class="line">        Optional&lt;Employee&gt; findAny = allEmployee.stream().findAny();</span><br><span class="line">        System.out.println(<span class="string">&quot;findAny: &quot;</span> + findAny);</span><br><span class="line">        Optional&lt;Employee&gt; findAny2 = allEmployee.parallelStream().findAny();</span><br><span class="line">        System.out.println(<span class="string">&quot;findAny2: &quot;</span> + findAny2);</span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> allEmployee.stream().filter(e -&gt; e.getAge() &gt; <span class="number">18</span>).count();</span><br><span class="line">        System.out.println(count);</span><br><span class="line">        Stream&lt;Integer&gt; map = allEmployee.stream().map(e -&gt; e.getAge());</span><br><span class="line">        Optional&lt;Integer&gt; max = map.max(Double::compare);</span><br><span class="line">        System.out.println(<span class="string">&quot;max: &quot;</span> + max.get());</span><br><span class="line">        Stream&lt;Integer&gt; map2 = allEmployee.stream().map(e -&gt; e.getAge());</span><br><span class="line">        Optional&lt;Integer&gt; min = map2.min(Double::compare);</span><br><span class="line">        System.out.println(<span class="string">&quot;min: &quot;</span> + min.get());</span><br><span class="line">        <span class="comment">//å†…éƒ¨è¿­ä»£</span></span><br><span class="line">        allEmployee.stream().forEach(System.out::println);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//å¤–éƒ¨è¿­ä»£(ä½¿ç”¨Collectionæ¥å£è¿­ä»£)</span></span><br><span class="line">        allEmployee.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„å½’çº¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">reduce</span> <span class="operator">=</span> list.stream().reduce(<span class="number">1</span>, Integer::sum);</span><br><span class="line">        List&lt;Employee&gt; allEmployee = Employee.getAllEmployee();</span><br><span class="line">        Stream&lt;Integer&gt; map = allEmployee.stream().map(Employee::getAge);</span><br><span class="line">        <span class="comment">// Optional&lt;Integer&gt; reduce2 = map.reduce(Integer::sum);</span></span><br><span class="line">        Optional&lt;Integer&gt; reduce2 = map.reduce((d1, d2) -&gt; d1 + d2);</span><br><span class="line">        System.out.println(reduce2.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•æµçš„æ”¶é›†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test06</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Employee&gt; result = Employee.getAllEmployee().stream()</span><br><span class="line">                .filter(e -&gt; e.getSex() == <span class="string">&#x27;W&#x27;</span>)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h4><h5 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h5><blockquote>
<ol>
<li><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè‡­åæ˜­è‘—çš„ç©ºæŒ‡é’ˆå¼‚å¸¸æ˜¯å¯¼è‡´Javaåº”ç”¨ç¨‹åºå¤±è´¥çš„æœ€å¸¸è§åŸå› ã€‚ä»¥å‰ï¼Œä¸ºäº†è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ŒGoogleå…¬å¸è‘—åçš„Guavaé¡¹ç›®å¼•å…¥äº†Optionalç±»ï¼ŒGuavaé€šè¿‡ä½¿ç”¨æ£€æŸ¥ç©ºå€¼çš„æ–¹å¼æ¥é˜²æ­¢ä»£ç æ±¡æŸ“ï¼Œå®ƒé¼“åŠ±ç¨‹åºå‘˜å†™æ›´å¹²å‡€çš„ä»£ç ã€‚å—åˆ°Google Guavaçš„å¯å‘ï¼ŒOptionalç±»å·²ç»æˆä¸ºJava 8ç±»åº“çš„ä¸€éƒ¨åˆ†ã€‚</p>
</li>
<li><p>Optional<T> ç±»ï¼ˆjava.util.Optionalï¼‰æ˜¯ä¸€ä¸ªå®¹å™¨ç±»ï¼Œå®ƒå¯ä»¥ä¿å­˜ç±»å‹Tçš„å€¼ï¼Œä»£è¡¨è¿™ä¸ªå€¼å­˜åœ¨ã€‚æˆ–è€…ä»…ä»…ä¿å­˜ nullï¼Œè¡¨ç¤ºè¿™ä¸ªå€¼ä¸å­˜åœ¨ã€‚åŸæ¥ç”¨ null è¡¨ç¤ºä¸€ä¸ªå€¼ä¸å­˜åœ¨ï¼Œç°åœ¨ Optional å¯ä»¥æ›´å¥½çš„è¡¨è¾¾è¿™ä¸ªæ¦‚å¿µã€‚å¹¶ä¸”å¯ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</T></p>
</li>
<li><p>Optional ç±»çš„ Javadoc æè¿°å¦‚ä¸‹ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ä¸º null çš„å®¹å™¨å¯¹è±¡ã€‚å¦‚æœå€¼å­˜åœ¨åˆ™ isPresent() æ–¹æ³•ä¼šè¿”å› trueï¼Œè°ƒç”¨ get() æ–¹æ³•ä¼šè¿”å›è¯¥å¯¹è±¡ã€‚</p>
</li>
</ol>
</blockquote>
<h5 id="åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•"><a href="#åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•"></a>åˆ›å»ºOptionalç±»å¯¹è±¡çš„æ–¹æ³•</h5><blockquote>
<p>Optional.of(T t) : åˆ›å»ºä¸€ä¸ª Optional å®ä¾‹ï¼Œtå¿…é¡»éç©ºï¼›</p>
<p>Optional.empty() : åˆ›å»ºä¸€ä¸ªç©ºçš„ Optional å®ä¾‹</p>
<p>Optional.ofNullable(T t)ï¼štå¯ä»¥ä¸ºnull</p>
</blockquote>
<h5 id="åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡"><a href="#åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡" class="headerlink" title="åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡"></a>åˆ¤æ–­Optionalå®¹å™¨ä¸­æ˜¯å¦åŒ…å«å¯¹è±¡</h5><blockquote>
<p>boolean isPresent() : åˆ¤æ–­æ˜¯å¦åŒ…å«å¯¹è±¡</p>
<p>void ifPresent(Consumer&lt;? super T&gt; consumer) ï¼šå¦‚æœæœ‰å€¼ï¼Œå°±æ‰§è¡ŒConsumeræ¥å£çš„å®ç°ä»£ç ï¼Œå¹¶ä¸”è¯¥å€¼ä¼šä½œä¸ºå‚æ•°ä¼ ç»™å®ƒã€‚</p>
</blockquote>
<h5 id="è·å–Optionalå®¹å™¨çš„å¯¹è±¡"><a href="#è·å–Optionalå®¹å™¨çš„å¯¹è±¡" class="headerlink" title="è·å–Optionalå®¹å™¨çš„å¯¹è±¡"></a>è·å–Optionalå®¹å™¨çš„å¯¹è±¡</h5><blockquote>
<p>T get() : å¦‚æœè°ƒç”¨å¯¹è±¡åŒ…å«å€¼ï¼Œè¿”å›è¯¥å€¼ï¼Œå¦åˆ™æŠ›å¼‚å¸¸</p>
<p>T orElse(T other) ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å›æŒ‡å®šçš„otherå¯¹è±¡ã€‚</p>
<p>T orElseGet(Supplier&lt;? extends T&gt; other) ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å›ç”±Supplieræ¥å£å®ç°æä¾›çš„å¯¹è±¡ã€‚</p>
<p>T orElseThrow(Supplier&lt;? extends X&gt; exceptionSupplier) ï¼šå¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™æŠ›å‡ºç”±Supplieræ¥å£å®ç°æä¾›çš„å¼‚å¸¸ã€‚</p>
</blockquote>
<h5 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.basic.versionfeature.java8.optional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Optionalç±»ï¼šä¸ºäº†åœ¨ç¨‹åºä¸­é¿å…å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸è€Œåˆ›å»ºçš„ã€‚</span></span><br><span class="line"><span class="comment"> * å¸¸ç”¨çš„æ–¹æ³•ï¼šofNullable(T t)</span></span><br><span class="line"><span class="comment"> *      orElse(T t)</span></span><br><span class="line"><span class="comment"> * å…¶ä»–æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment"> *      Optional.of(T t) : åˆ›å»ºä¸€ä¸ª Optional å®ä¾‹ï¼Œtå¿…é¡»éç©ºï¼›</span></span><br><span class="line"><span class="comment"> *      Optional.empty() : åˆ›å»ºä¸€ä¸ªç©ºçš„ Optional å®ä¾‹</span></span><br><span class="line"><span class="comment"> *      Optional.ofNullable(T t)ï¼štå¯ä»¥ä¸ºnull</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OptionalTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Girl</span> <span class="variable">girl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Girl</span>();</span><br><span class="line">        girl = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// java.lang.NullPointerException</span></span><br><span class="line">        Optional&lt;Girl&gt; optionalGirl = Optional.of(girl);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test02</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Girl</span> <span class="variable">girl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Girl</span>();</span><br><span class="line">        girl = <span class="literal">null</span>;</span><br><span class="line">        Optional&lt;Girl&gt; optionalGirl = Optional.ofNullable(girl);</span><br><span class="line">        <span class="type">Girl</span> <span class="variable">tingting</span> <span class="operator">=</span> optionalGirl.orElse(<span class="keyword">new</span> <span class="title class_">Girl</span>(<span class="string">&quot;liutingting&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;girl: &quot;</span> + tingting);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test03</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Boy</span> <span class="variable">boy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();</span><br><span class="line">        boy = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">girlName</span> <span class="operator">=</span> getGirlName3(boy);</span><br><span class="line">        System.out.println(girlName);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getGirlName</span><span class="params">(Boy boy)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> boy.getGirl().getName();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¼˜åŒ–ä»¥åçš„getGirlName()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGirlName2</span><span class="params">(Boy boy)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (boy != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">Girl</span> <span class="variable">girl</span> <span class="operator">=</span> boy.getGirl();</span><br><span class="line">            <span class="keyword">if</span> (girl != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> girl.getName();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨optionalä¼˜åŒ–</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGirlName3</span><span class="params">(Boy boy)</span> &#123;</span><br><span class="line">        Optional&lt;Boy&gt; boyOptional = Optional.ofNullable(boy);</span><br><span class="line">        <span class="type">Boy</span> <span class="variable">liufei</span> <span class="operator">=</span> boyOptional.orElse(<span class="keyword">new</span> <span class="title class_">Boy</span>());</span><br><span class="line">        <span class="type">Girl</span> <span class="variable">girl</span> <span class="operator">=</span> liufei.getGirl();</span><br><span class="line">        Optional&lt;Girl&gt; girlOptional = Optional.ofNullable(girl);</span><br><span class="line">        <span class="type">Girl</span> <span class="variable">liutingting</span> <span class="operator">=</span> girlOptional.orElse(<span class="keyword">new</span> <span class="title class_">Girl</span>(<span class="string">&quot;liutingting&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> liutingting.getName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Girl</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Girl</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Girl</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Boy</span> &#123;</span><br><span class="line">    Girl girl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Boy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Boy</span><span class="params">(Girl girl)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.girl = girl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Girl <span class="title function_">getGirl</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> girl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/Kafka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/Kafka/" class="post-title-link" itemprop="url">Kafka</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-20 18:44:20" itemprop="dateModified" datetime="2023-03-20T18:44:20+08:00">2023-03-20</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>Kafka</b></font></div>

<blockquote>
<p>ã€Referã€‘</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vr4y1677k/?spm_id_from=333.337.search-card.all.click">ã€å°šç¡…è°·ã€‘Kafka3.xæ•™ç¨‹ï¼ˆä»å…¥é—¨åˆ°è°ƒä¼˜ï¼Œæ·±å…¥å…¨é¢ï¼‰_å“”å“©å“”å“©_bilibili</a></p>
</blockquote>
<h1 id="kafka-å…¥é—¨"><a href="#kafka-å…¥é—¨" class="headerlink" title="kafka å…¥é—¨"></a>kafka å…¥é—¨</h1><h2 id="Kafka-æ¦‚è¿°"><a href="#Kafka-æ¦‚è¿°" class="headerlink" title="Kafka æ¦‚è¿°"></a>Kafka æ¦‚è¿°</h2><h3 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h3><p>ç›®å‰ä¼ä¸šä¸­æ¯”è¾ƒå¸¸è§çš„æ¶ˆæ¯é˜Ÿåˆ—äº§å“ä¸»è¦æœ‰ Kafkaã€ActiveMQ ã€RabbitMQ ã€ RocketMQ ç­‰ã€‚</p>
<p>åœ¨å¤§æ•°æ®åœºæ™¯ä¸»è¦é‡‡ç”¨ Kafka ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ã€‚åœ¨ JavaEE å¼€å‘ä¸­ä¸»è¦é‡‡ç”¨ ActiveMQã€ RabbitMQã€RocketMQ</p>
<h3 id="ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯"><a href="#ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯" class="headerlink" title="ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯"></a>ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯</h3><p>ä¸»è¦åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼šç¼“å­˜&#x2F;æ¶ˆå³°ã€è§£è€¦å’Œå¼‚æ­¥é€šä¿¡</p>
<ul>
<li><p>ç¼“å†²&#x2F;æ¶ˆå³°ï¼šæœ‰åŠ©äºæ§åˆ¶å’Œä¼˜åŒ–æ•°æ®æµç»è¿‡ç³»ç»Ÿçš„é€Ÿåº¦ï¼Œè§£å†³ç”Ÿäº§æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯çš„å¤„ç†é€Ÿåº¦ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p><img src="/2023/02/28/Kafka/Kafka%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-%E5%89%8A%E5%B3%B0.png" alt="Kafkaæ¶ˆæ¯é˜Ÿåˆ—-å‰Šå³°.png"></p>
</li>
<li><p>è§£è€¦ï¼šå…è®¸ä½ ç‹¬ç«‹çš„æ‰©å±•æˆ–ä¿®æ”¹ä¸¤è¾¹çš„å¤„ç†è¿‡ç¨‹ï¼Œåªè¦ç¡®ä¿å®ƒä»¬éµå®ˆåŒæ ·çš„æ¥å£çº¦æŸã€‚</p>
<p><img src="/2023/02/28/Kafka/Kafka%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-%E8%A7%A3%E8%80%A6.png" alt="Kafkaæ¶ˆæ¯é˜Ÿåˆ—-è§£è€¦.png"></p>
</li>
<li><p>å¼‚æ­¥é€šä¿¡ï¼šå…è®¸ç”¨æˆ·æŠŠä¸€ä¸ªæ¶ˆæ¯æ”¾å…¥é˜Ÿåˆ—ï¼Œä½†å¹¶ä¸ç«‹å³å¤„ç†å®ƒï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™å†å»å¤„ç†å®ƒä»¬ã€‚</p>
<p><img src="/2023/02/28/Kafka/Kafka%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-%E5%BC%82%E6%AD%A5.png" alt="Kafkaæ¶ˆæ¯é˜Ÿåˆ—-å¼‚æ­¥.png"></p>
</li>
</ul>
<h3 id="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"><a href="#æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼"></a>æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼</h3><h4 id="ç‚¹å¯¹ç‚¹æ¨¡å¼"><a href="#ç‚¹å¯¹ç‚¹æ¨¡å¼" class="headerlink" title="ç‚¹å¯¹ç‚¹æ¨¡å¼"></a>ç‚¹å¯¹ç‚¹æ¨¡å¼</h4><ul>
<li><p>æ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰å–æ•°æ®ï¼Œæ¶ˆæ¯æ”¶åˆ°åæ¸…é™¤æ¶ˆæ¯</p>
<p><img src="/2023/02/28/Kafka/Kakfa%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-%E7%82%B9%E5%AF%B9%E7%82%B9%E6%A8%A1%E5%BC%8F.png" alt="Kakfaæ¶ˆæ¯é˜Ÿåˆ—-ç‚¹å¯¹ç‚¹æ¨¡å¼.png"></p>
</li>
</ul>
<h4 id="å‘å¸ƒ-x2F-è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒ-x2F-è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒ &#x2F; è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒ &#x2F; è®¢é˜…æ¨¡å¼</h4><ul>
<li><p>å¯ä»¥æœ‰å¤šä¸ªtopicä¸»é¢˜</p>
</li>
<li><p>æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®ä¹‹åï¼Œä¸åˆ é™¤æ•°æ®</p>
</li>
<li><p>æ¯ä¸ªæ¶ˆè´¹è€…ç›¸äº’ç‹¬ç«‹ï¼Œéƒ½å¯ä»¥æ¶ˆè´¹åˆ°æ•°æ®</p>
<p><img src="/2023/02/28/Kafka/Kafka%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.png" alt="Kafkaæ¶ˆæ¯é˜Ÿåˆ—-å‘å¸ƒè®¢é˜…æ¨¡å¼.png"></p>
</li>
</ul>
<h2 id="Kafka-å…¥é—¨ç¤ºä¾‹"><a href="#Kafka-å…¥é—¨ç¤ºä¾‹" class="headerlink" title="Kafka å…¥é—¨ç¤ºä¾‹"></a>Kafka å…¥é—¨ç¤ºä¾‹</h2><h2 id="kafka-ç”Ÿäº§è€…"><a href="#kafka-ç”Ÿäº§è€…" class="headerlink" title="kafka ç”Ÿäº§è€…"></a>kafka ç”Ÿäº§è€…</h2><h2 id="Kafka-Broker"><a href="#Kafka-Broker" class="headerlink" title="Kafka Broker"></a>Kafka Broker</h2><h2 id="Kafka-æ¶ˆè´¹è€…"><a href="#Kafka-æ¶ˆè´¹è€…" class="headerlink" title="Kafka æ¶ˆè´¹è€…"></a>Kafka æ¶ˆè´¹è€…</h2><h2 id="Kafka-Eagle-ç›‘æ§"><a href="#Kafka-Eagle-ç›‘æ§" class="headerlink" title="Kafka-Eagle ç›‘æ§"></a>Kafka-Eagle ç›‘æ§</h2><h2 id="Kafka-Kraft-æ¨¡å¼"><a href="#Kafka-Kraft-æ¨¡å¼" class="headerlink" title="Kafka-Kraft æ¨¡å¼"></a>Kafka-Kraft æ¨¡å¼</h2><h1 id="Kafka-é›†æˆ"><a href="#Kafka-é›†æˆ" class="headerlink" title="Kafka é›†æˆ"></a>Kafka é›†æˆ</h1><h2 id="é›†æˆ-Flume"><a href="#é›†æˆ-Flume" class="headerlink" title="é›†æˆ Flume"></a>é›†æˆ Flume</h2><h2 id="é›†æˆ-Flink"><a href="#é›†æˆ-Flink" class="headerlink" title="é›†æˆ Flink"></a>é›†æˆ Flink</h2><h2 id="é›†æˆ-SpringBoot"><a href="#é›†æˆ-SpringBoot" class="headerlink" title="é›†æˆ SpringBoot"></a>é›†æˆ SpringBoot</h2><h2 id="é›†æˆ-Spark"><a href="#é›†æˆ-Spark" class="headerlink" title="é›†æˆ Spark"></a>é›†æˆ Spark</h2><h1 id="æºç è§£æ"><a href="#æºç è§£æ" class="headerlink" title="æºç è§£æ"></a>æºç è§£æ</h1><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><h2 id="ç”Ÿäº§è€…æºç "><a href="#ç”Ÿäº§è€…æºç " class="headerlink" title="ç”Ÿäº§è€…æºç "></a>ç”Ÿäº§è€…æºç </h2><h2 id="æ¶ˆè´¹è€…æºç "><a href="#æ¶ˆè´¹è€…æºç " class="headerlink" title="æ¶ˆè´¹è€…æºç "></a>æ¶ˆè´¹è€…æºç </h2><h2 id="æœåŠ¡å™¨æºç "><a href="#æœåŠ¡å™¨æºç " class="headerlink" title="æœåŠ¡å™¨æºç "></a>æœåŠ¡å™¨æºç </h2><h1 id="ç”Ÿäº§è°ƒä¼˜"><a href="#ç”Ÿäº§è°ƒä¼˜" class="headerlink" title="ç”Ÿäº§è°ƒä¼˜"></a>ç”Ÿäº§è°ƒä¼˜</h1><h2 id="Kafka-ç¡¬ä»¶é…ç½®é€‰æ‹©"><a href="#Kafka-ç¡¬ä»¶é…ç½®é€‰æ‹©" class="headerlink" title="Kafka ç¡¬ä»¶é…ç½®é€‰æ‹©"></a>Kafka ç¡¬ä»¶é…ç½®é€‰æ‹©</h2><h2 id="Kafka-ç”Ÿäº§è€…"><a href="#Kafka-ç”Ÿäº§è€…" class="headerlink" title="Kafka ç”Ÿäº§è€…"></a>Kafka ç”Ÿäº§è€…</h2><h2 id="kafka-Broker"><a href="#kafka-Broker" class="headerlink" title="kafka Broker"></a>kafka Broker</h2><h2 id="Kafka-æ¶ˆè´¹è€…-1"><a href="#Kafka-æ¶ˆè´¹è€…-1" class="headerlink" title="Kafka æ¶ˆè´¹è€…"></a>Kafka æ¶ˆè´¹è€…</h2><h2 id="kafka-æ€»ä½“"><a href="#kafka-æ€»ä½“" class="headerlink" title="kafka æ€»ä½“"></a>kafka æ€»ä½“</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/JavaWeb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/JavaWeb/" class="post-title-link" itemprop="url">JavaWeb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-03-08 14:39:38" itemprop="dateModified" datetime="2023-03-08T14:39:38+08:00">2023-03-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div align="center"><font size="70"><b>JavaWeb</b></font></div>

<h1 id="Tomcat-æœåŠ¡å™¨"><a href="#Tomcat-æœåŠ¡å™¨" class="headerlink" title="Tomcat æœåŠ¡å™¨"></a>Tomcat æœåŠ¡å™¨</h1><p>JavaEEï¼šJavaè¯­è¨€åœ¨ä¼ä¸šçº§å¼€å‘ä¸­ä½¿ç”¨çš„æŠ€æœ¯è§„èŒƒçš„æ€»å’Œï¼Œä¸€å…±è§„å®šäº† 13 é¡¹å¤§çš„è§„èŒƒï¼ˆç•¥ï¼‰ã€‚</p>
<p>å®˜ç½‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></p>
<p>æ­¤å¤„ä»¥ <code>Tomcat8.5.x</code> ä¸ºä¾‹ã€‚</p>
<h2 id="å…¶å®ƒ-Web-æœåŠ¡å™¨è½¯ä»¶"><a href="#å…¶å®ƒ-Web-æœåŠ¡å™¨è½¯ä»¶" class="headerlink" title="å…¶å®ƒ Web æœåŠ¡å™¨è½¯ä»¶"></a>å…¶å®ƒ Web æœåŠ¡å™¨è½¯ä»¶</h2><blockquote>
<ol>
<li><p>WebLogicï¼šOracleå…¬å¸ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„ JavaEE è§„èŒƒï¼Œæ”¶è´¹ã€‚</p>
</li>
<li><p>WebSphereï¼šIBMå…¬å¸ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„ JavaEE è§„èŒƒï¼Œæ”¶è´¹ã€‚</p>
</li>
<li><p>JBOSSï¼šJBOSSå…¬å¸çš„ï¼Œå¤§å‹çš„JavaEEæœåŠ¡å™¨ï¼Œæ”¯æŒæ‰€æœ‰çš„ JavaEE è§„èŒƒï¼Œæ”¶è´¹ã€‚</p>
</li>
<li><p>Tomcatï¼šApache åŸºé‡‘ç»„ç»‡ï¼Œä¸­å°å‹çš„ JavaEE æœåŠ¡å™¨ï¼Œä»…ä»…æ”¯æŒå°‘é‡çš„ JavaEE è§„èŒƒ Servlet&#x2F;Jspã€‚å¼€æºå…è´¹çš„ã€‚</p>
</li>
</ol>
</blockquote>
<h2 id="Tomcat-ç‰ˆæœ¬ä¸è§„èŒƒå¯¹åº”å…³ç³»"><a href="#Tomcat-ç‰ˆæœ¬ä¸è§„èŒƒå¯¹åº”å…³ç³»" class="headerlink" title="Tomcat ç‰ˆæœ¬ä¸è§„èŒƒå¯¹åº”å…³ç³»"></a>Tomcat ç‰ˆæœ¬ä¸è§„èŒƒå¯¹åº”å…³ç³»</h2><table>
<thead>
<tr>
<th align="left"><strong>Servlet Spec</strong></th>
<th align="left"><strong>JSP Spec</strong></th>
<th align="left"><strong>EL Spec</strong></th>
<th align="left"><strong>WebSocket Spec</strong></th>
<th align="left"><strong>Authentication (JASPIC) Spec</strong></th>
<th align="left"><strong>Apache Tomcat Version</strong></th>
<th align="left"><strong>Latest Released Version</strong></th>
<th align="left"><strong>Supported Java Versions</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">6.1</td>
<td align="left">4.0</td>
<td align="left">6.0</td>
<td align="left">TBD</td>
<td align="left">TBD</td>
<td align="left">11.0.x</td>
<td align="left">11.0.0-M4 (alpha)</td>
<td align="left">17 and later</td>
</tr>
<tr>
<td align="left">6.0</td>
<td align="left">3.1</td>
<td align="left">5.0</td>
<td align="left">2.1</td>
<td align="left">3.0</td>
<td align="left">10.1.x</td>
<td align="left">10.1.7</td>
<td align="left">11 and later</td>
</tr>
<tr>
<td align="left">5.0</td>
<td align="left">3.0</td>
<td align="left">4.0</td>
<td align="left">2.0</td>
<td align="left">2.0</td>
<td align="left">10.0.x (superseded)</td>
<td align="left">10.0.27 (superseded)</td>
<td align="left">8 and later</td>
</tr>
<tr>
<td align="left">4.0</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">1.1</td>
<td align="left">9.0.x</td>
<td align="left">9.0.73</td>
<td align="left">8 and later</td>
</tr>
<tr>
<td align="left">3.1</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">1.1</td>
<td align="left">8.5.x</td>
<td align="left">8.5.87</td>
<td align="left">7 and later</td>
</tr>
<tr>
<td align="left">3.1</td>
<td align="left">2.3</td>
<td align="left">3.0</td>
<td align="left">1.1</td>
<td align="left">N&#x2F;A</td>
<td align="left">8.0.x (superseded)</td>
<td align="left">8.0.53 (superseded)</td>
<td align="left">7 and later</td>
</tr>
<tr>
<td align="left">3.0</td>
<td align="left">2.2</td>
<td align="left">2.2</td>
<td align="left">1.1</td>
<td align="left">N&#x2F;A</td>
<td align="left">7.0.x (archived)</td>
<td align="left">7.0.109 (archived)</td>
<td align="left">6 and later (7 and later for WebSocket)</td>
</tr>
<tr>
<td align="left">2.5</td>
<td align="left">2.1</td>
<td align="left">2.1</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">6.0.x (archived)</td>
<td align="left">6.0.53 (archived)</td>
<td align="left">5 and later</td>
</tr>
<tr>
<td align="left">2.4</td>
<td align="left">2.0</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">5.5.x (archived)</td>
<td align="left">5.5.36 (archived)</td>
<td align="left">1.4 and later</td>
</tr>
<tr>
<td align="left">2.3</td>
<td align="left">1.2</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">4.1.x (archived)</td>
<td align="left">4.1.40 (archived)</td>
<td align="left">1.3 and later</td>
</tr>
<tr>
<td align="left">2.2</td>
<td align="left">1.1</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">N&#x2F;A</td>
<td align="left">3.3.x (archived)</td>
<td align="left">3.3.2 (archived)</td>
<td align="left">1.1 and later</td>
</tr>
</tbody></table>
<h2 id="Tomcat-ç›®å½•è¯´æ˜"><a href="#Tomcat-ç›®å½•è¯´æ˜" class="headerlink" title="Tomcat ç›®å½•è¯´æ˜"></a>Tomcat ç›®å½•è¯´æ˜</h2><p><img src="/2023/02/28/JavaWeb/Tomcat%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E.png" alt="Tomcatç›®å½•è¯´æ˜"></p>
<blockquote>
<p>bin    ä¸“é—¨ç”¨æ¥å­˜æ”¾TomcatæœåŠ¡å™¨çš„å¯æ‰§è¡Œç¨‹åºã€‚</p>
<p>conf   ä¸“é—¨ç”¨æ¥å­˜æ”¾TocmatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>lib     ä¸“é—¨ç”¨æ¥å­˜æ”¾TomcatæœåŠ¡å™¨çš„jaråŒ…ã€‚</p>
<p>logs   ä¸“é—¨ç”¨æ¥å­˜æ”¾TomcatæœåŠ¡å™¨è¿è¡Œæ—¶è¾“å‡ºçš„æ—¥è®°ä¿¡æ¯ã€‚</p>
<p>temp   ä¸“é—¨ç”¨æ¥å­˜æ”¾Tomcdatè¿è¡Œæ—¶äº§ç”Ÿçš„ä¸´æ—¶æ•°æ®ã€‚</p>
<p>webapps ä¸“é—¨ç”¨æ¥å­˜æ”¾éƒ¨ç½²çš„Webå·¥ç¨‹ã€‚</p>
<p>work   æ˜¯Tomcatå·¥ä½œæ—¶çš„ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾Tomcatè¿è¡Œæ—¶jspç¿»è¯‘ä¸ºServletçš„æºç ï¼Œå’ŒSessioné’åŒ–çš„ç›®å½•ã€‚</p>
</blockquote>
<h2 id="Tomcat-çš„å¯åŠ¨å…³é—­ï¼ˆWindowsï¼‰"><a href="#Tomcat-çš„å¯åŠ¨å…³é—­ï¼ˆWindowsï¼‰" class="headerlink" title="Tomcat çš„å¯åŠ¨å…³é—­ï¼ˆWindowsï¼‰"></a>Tomcat çš„å¯åŠ¨å…³é—­ï¼ˆWindowsï¼‰</h2><p><strong>å¯åŠ¨æ–¹å¼ï¼š</strong></p>
<ol>
<li><strong>æ–¹å¼ä¸€ï¼šåŒå‡»å®‰è£…ç›®å½•ä¸‹ bin&#x2F;startup.sh</strong></li>
<li><strong>æ–¹å¼äºŒï¼šCMD åˆ‡æ¢åˆ° bin ç›®å½•ï¼šcatalina run</strong></li>
</ol>
<p>æµè§ˆå™¨è¾“å…¥ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a> è®¿é—®</p>
<p>Tomcat æ§åˆ¶å°ä¹±ç ï¼š<strong>ä¿®æ”¹ conf&#x2F;log.propertiesï¼šjava.util.logging.ConsoleHandler.encoding &#x3D; GBK</strong></p>
<p><strong>å…³é—­æ–¹å¼ï¼š</strong></p>
<ol>
<li>æ­£å¸¸å…³é—­ï¼šåŒå‡» bin&#x2F;shutdown.batã€‚</li>
<li>CTRL + Cã€‚</li>
<li>ç‚¹å‰å·å…³é—­çª—å£ï¼ˆå¯èƒ½å¯¼è‡´ç«¯å£å ç”¨ï¼‰ã€‚</li>
</ol>
<h2 id="ä¿®æ”¹-Tomcat-ç«¯å£"><a href="#ä¿®æ”¹-Tomcat-ç«¯å£" class="headerlink" title="ä¿®æ”¹ Tomcat ç«¯å£"></a>ä¿®æ”¹ Tomcat ç«¯å£</h2><p>HTTP åè®®çš„é»˜è®¤ç«¯å£æ˜¯80ï¼Œä¸€èˆ¬é…ç½®ä¸º80ç«¯å£ï¼Œæµè§ˆå™¨åœ°å€æ å¯ä»¥ä¸ç”¨è¾“å…¥ç«¯å£å·ã€‚</p>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port=<span class="string">&quot;8888&quot;</span> protocol=<span class="string">&quot;HTTP/1.1&quot;</span> connectionTimeout=<span class="string">&quot;20000&quot;</span> redirectPort=<span class="string">&quot;8445&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Tomcatéƒ¨ç½²é¡¹ç›®çš„ä¸‰ç§æ–¹å¼"><a href="#Tomcatéƒ¨ç½²é¡¹ç›®çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="Tomcatéƒ¨ç½²é¡¹ç›®çš„ä¸‰ç§æ–¹å¼"></a>Tomcatéƒ¨ç½²é¡¹ç›®çš„ä¸‰ç§æ–¹å¼</h2><ol>
<li><p>ç›´æ¥å°†é¡¹ç›®æ‹·è´åœ¨ webapps ç›®å½•ä¸‹ã€‚&#x2F;hello é¡¹ç›®çš„è®¿é—®è·¯å¾„ï¼ˆè™šæ‹Ÿç›®å½•ï¼‰ã€‚</p>
<p>å°†é¡¹ç›®æ‰“åŒ…æˆ warï¼Œè‡ªåŠ¨è§£å‹ï¼Œåˆ é™¤ç›®å½•å³å¯ã€‚</p>
<p>åœ¨ webapps ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå·¥ç¨‹ç›®å½•ï¼Œæ”¾å…¥é™æ€é¡µé¢å³å¯ã€‚</p>
</li>
<li><p>é…ç½®conf&#x2F;server.xmlæ–‡ä»¶ï¼ˆç•¥ï¼‰ã€‚</p>
</li>
<li><p>åœ¨ conf\Catalina\localhost åˆ›å»ºä»»æ„åç§°çš„ xml æ–‡ä»¶ï¼ˆå¯ä»¥å°†é¡¹ç›®é…ç½®åœ¨å…¶å®ƒåœ°æ–¹ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼šï¼ˆIdeaçš„éƒ¨ç½²ä¹Ÿé‡‡ç”¨è¿™ç§æ–¹å¼ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">Context è¡¨ç¤ºä¸€ä¸ªå·¥ç¨‹ä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="comment">path è¡¨ç¤ºå·¥ç¨‹çš„è®¿é—®è·¯å¾„:/abc</span></span><br><span class="line"><span class="comment">docBase è¡¨ç¤ºä½ çš„å·¥ç¨‹ç›®å½•åœ¨å“ªé‡Œ</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">path</span>=<span class="string">&quot;/ServletProject&quot;</span> <span class="attr">docBase</span>=<span class="string">&quot;D:\projectA&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="IDEA-é…ç½®-Tomcat-æœåŠ¡å™¨"><a href="#IDEA-é…ç½®-Tomcat-æœåŠ¡å™¨" class="headerlink" title="IDEA é…ç½® Tomcat æœåŠ¡å™¨"></a>IDEA é…ç½® Tomcat æœåŠ¡å™¨</h2><p>æ·»åŠ  Tomcat æœåŠ¡å™¨ï¼š<strong>File | Settings | Build, Execution, Deployment | Application Servers</strong></p>
<p>æ–°å»º JavaWeb é¡¹ç›®ï¼š<strong>New Project ï¼Œå³é”® Add FrameWork Supportâ€¦</strong></p>
<p>ç›®å½•ç»“æ„è¯´æ˜ï¼š</p>
<blockquote>
<p>JavaWeb<br>  â”œâ”€src<br>  â”‚  â””â”€main<br>  â”‚      â”œâ”€java<br>  â”‚      â””â”€resources<br>  â””â”€web<br>      â””â”€WEB-INF<br>         â””â”€lib					#ä¾èµ–Jar</p>
<p>â€‹		 â””â”€classes		   #å­—èŠ‚ç æ–‡ä»¶</p>
<p>â€‹		 â””â”€web.xml		#æ ¸å¿ƒé…ç½®æ–‡ä»¶</p>
</blockquote>
<p><strong>æ³¨æ„ï¼šæ‰€æœ‰çš„ web.xml ç»§æ‰¿äº† Tomcat çš„ web.xmlã€‚WEB-INF ç›®å½•ä¸‹çš„èµ„æºä¸èƒ½ç›´æ¥è¢«æµè§ˆå™¨è®¿é—®ã€‚</strong></p>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h2 id="Servletå®šä¹‰"><a href="#Servletå®šä¹‰" class="headerlink" title="Servletå®šä¹‰"></a>Servletå®šä¹‰</h2><blockquote>
<ul>
<li>Servlet æ˜¯ JavaEE è§„èŒƒä¹‹ä¸€ã€‚è§„èŒƒçº¦ç­‰äºæ¥å£</li>
<li>Servlet æ˜¯ JavaWeb ä¸‰å¤§ç»„ä»¶ä¹‹ä¸€ã€‚ä¸‰å¤§ç»„ä»¶ï¼šServlet ã€Filter ã€Listener</li>
<li>Servlet æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ª Java å°ç¨‹åºï¼Œå®ƒå¯ä»¥æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œå¹¶å“åº”æ•°æ®ç»™å®¢æˆ·ç«¯</li>
</ul>
</blockquote>
<h2 id="Servletä½“ç³»ç»“æ„"><a href="#Servletä½“ç³»ç»“æ„" class="headerlink" title="Servletä½“ç³»ç»“æ„"></a>Servletä½“ç³»ç»“æ„</h2><p><strong>Servlet</strong> <strong>æ¥å£</strong></p>
<p><strong>GenericServlet</strong> æŠ½è±¡ç±»ï¼šå®ç°äº†Serviceä»¥å¤–çš„å…¶ä»–æ–¹æ³•ã€‚</p>
<p>HttpServlet æŠ½è±¡ç±»ï¼š serviceæ–¹æ³•ä¸­ä¼šåŒºåˆ†è¯·æ±‚æ–¹å¼ï¼Œè¯¥ç±»æä¾›äº†doget()ã€dopost()ç­‰æ–¹å¼ã€‚</p>
<p>Servlet æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest req, ServletResponse res)</span></span><br><span class="line">	<span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Servlet-å…¥é—¨ç¤ºä¾‹"><a href="#Servlet-å…¥é—¨ç¤ºä¾‹" class="headerlink" title="Servlet å…¥é—¨ç¤ºä¾‹"></a>Servlet å…¥é—¨ç¤ºä¾‹</h2><h3 id="å®ç°-Servlet-æ¥å£"><a href="#å®ç°-Servlet-æ¥å£" class="headerlink" title="å®ç° Servlet æ¥å£"></a>å®ç° Servlet æ¥å£</h3><blockquote>
<ol>
<li>åˆ›å»º Web é¡¹ç›®ï¼Œå¼•å…¥ä¾èµ–</li>
<li>å®ç° Servlet æ¥å£</li>
<li>é€šè¿‡ xml æˆ–è€…æ³¨è§£æ–¹å¼é…ç½® Servlet</li>
</ol>
</blockquote>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šå®ç° Servlet æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servletå…¥é—¨ç¤ºä¾‹</span></span><br><span class="line"><span class="comment"> * servlet3.0ä»¥åæ”¯æŒæ³¨è§£é…ç½®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*@WebServlet(</span></span><br><span class="line"><span class="comment">        name = &quot;serverTest01&quot;,</span></span><br><span class="line"><span class="comment">        urlPatterns = &#123;&quot;/serverTest01/test&quot;,&quot;/serverDemo01&quot;&#125;,</span></span><br><span class="line"><span class="comment">        initParams = &#123;</span></span><br><span class="line"><span class="comment">                @WebInitParam(name = &quot;name&quot;,value = &quot;Tom&quot;),</span></span><br><span class="line"><span class="comment">                @WebInitParam(name = &quot;age&quot;,value = &quot;12&quot;)</span></span><br><span class="line"><span class="comment">        &#125;,loadOnStartup = 1)*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest01</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ServletConfigçš„é…ç½®å¯ç”±web.xmlæˆ–æ³¨è§£ä¸­æ‹¿åˆ°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ServletConfigä¸ServletContextçš„åŒºåˆ«ï¼š</span></span><br><span class="line"><span class="comment">     *  1. ServletConfigå¯¹è±¡å«Servleté…ç½®å¯¹è±¡ã€‚ä¸»è¦ç”¨äºåŠ è½½é…ç½®æ–‡ä»¶çš„åˆå§‹åŒ–å‚æ•° &lt;init-param&gt; ,ä¸ºå…·ä½“çš„ServletæœåŠ¡ã€‚</span></span><br><span class="line"><span class="comment">     *     ServletConfigå¯¹è±¡åœ¨Servletå¯¹è±¡åˆ›å»ºä¹‹åï¼Œè°ƒç”¨initæ–¹æ³•ä¹‹å‰åˆ›å»ºï¼Œ</span></span><br><span class="line"><span class="comment">     *     ä¹‹åServletConfigå¯¹è±¡éšç€init()æ–¹æ³•ä¼ å…¥åˆ°Servletä¸­ã€‚</span></span><br><span class="line"><span class="comment">     *  2. ServletContextå¯¹è±¡å«Servletä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ç”¨äºåŠ è½½ &lt;context-params&gt; ï¼Œæ¯å½“ä¸€ä¸ªwebåº”ç”¨è¢«åŠ è½½æ—¶ï¼ŒServletå®¹å™¨å°±ä¼šä¸ºè¿™ä¸ª</span></span><br><span class="line"><span class="comment">     *      webåº”ç”¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å½“å‰webåº”ç”¨çš„ç¯å¢ƒï¼Œåœ¨å½“å‰webåº”ç”¨ä¸­æ‰€æœ‰çš„servletéƒ½å…±äº«ä¸€ä¸ªServletContextå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">configLocation</span> <span class="operator">=</span> servletConfig.getInitParameter(<span class="string">&quot;contextConfigLocation&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;servlet init...paras: &quot;</span>+configLocation);</span><br><span class="line">        <span class="keyword">for</span>(Enumeration&lt;String&gt; enumeration = servletConfig.getInitParameterNames(); enumeration.hasMoreElements();)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> enumeration.nextElement();</span><br><span class="line">            System.out.println(key+<span class="string">&quot;: &quot;</span>+servletConfig.getInitParameter(key));</span><br><span class="line">            <span class="comment">// contextConfigLocation: classpath:applicationContext.xml</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†å…·ä½“çš„è¯·æ±‚</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest01 service()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Servletåœ¨æœåŠ¡å™¨å…³é—­æ—¶çš„é”€æ¯æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest01 destroy() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ï¼šé…ç½® Servlet</p>
<p>ï¼ˆ1ï¼‰æ³¨è§£é…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*@WebServlet(</span></span><br><span class="line"><span class="comment">        name = &quot;serverTest01&quot;,</span></span><br><span class="line"><span class="comment">        urlPatterns = &#123;&quot;/serverTest01/test&quot;,&quot;/serverDemo01&quot;&#125;,</span></span><br><span class="line"><span class="comment">        initParams = &#123;</span></span><br><span class="line"><span class="comment">                @WebInitParam(name = &quot;name&quot;,value = &quot;Tom&quot;),</span></span><br><span class="line"><span class="comment">                @WebInitParam(name = &quot;age&quot;,value = &quot;12&quot;)</span></span><br><span class="line"><span class="comment">        &#125;,loadOnStartup = 1)*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest01</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰Xmlé…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--context-param ä¸Šä¸‹æ–‡å‚æ•°--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--classpath:webé¡¹ç›®æ‰“åŒ…åçš„ä½ç½®/WEB-INF/classes--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/classes/applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®ç›‘å¬å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.example.listener.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servletTest01<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.example.servlet.ServletTest01<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            init-param: servletå¯¹è±¡çš„initæ–¹æ³•ï¼Œä¼šæ ¹æ®åˆå§‹åŒ–å‚æ•°åšé…ç½®ç­‰å¤„ç†</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>username<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>password<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            load-on-startup:</span></span><br><span class="line"><span class="comment">            ä¸ºè´Ÿæ•°æ—¶ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶åˆ›å»ºServletå¯¹è±¡</span></span><br><span class="line"><span class="comment">            ä¸º 0 æˆ–æ­£æ•°æ—¶ï¼ŒæœåŠ¡å™¨å¯åŠ¨ä¾¿åˆ›å»ºServletå¯¹è±¡</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>0<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servletTest01<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            url-pattern:</span></span><br><span class="line"><span class="comment">            å¯é…ç½®å¤šä¸ªï¼Œé…ç½®å½¢å¼ä¸»è¦ä¸ºï¼š</span></span><br><span class="line"><span class="comment">            1. /testï¼šåŒ¹é…testè¯·æ±‚</span></span><br><span class="line"><span class="comment">            2. /test/*  åŒ¹é…testä¸‹çš„æ‰€æœ‰è¯·æ±‚ï¼ˆè·¯å¾„åŒ¹é…ï¼‰</span></span><br><span class="line"><span class="comment">            3. *.actionç­‰    ä»¥actionç­‰æ‰©å±•åç»“å°¾çš„è¯·æ±‚(æ‰©å±•ååŒ¹é…)</span></span><br><span class="line"><span class="comment">            é”™è¯¯å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">            1. æ²¡åŠ  /</span></span><br><span class="line"><span class="comment">                &lt;url-pattern&gt;test&lt;/url-pattern&gt;</span></span><br><span class="line"><span class="comment">            2. / å’Œ * ä¸èƒ½å…±ç”¨</span></span><br><span class="line"><span class="comment">                &lt;url-pattern&gt;/test/*.action&lt;/url-pattern&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.action<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Sessionå¤±æ•ˆæ—¶é—´ï¼šåˆ†é’Ÿ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬å››æ­¥ï¼šè®¿é—® <a target="_blank" rel="noopener" href="http://localhost:8080/JavaWeb/test">http://localhost:8080/JavaWeb/test</a></p>
<h3 id="ç»§æ‰¿-GenericServlet-æŠ½è±¡ç±»"><a href="#ç»§æ‰¿-GenericServlet-æŠ½è±¡ç±»" class="headerlink" title="ç»§æ‰¿ GenericServlet æŠ½è±¡ç±»"></a>ç»§æ‰¿ GenericServlet æŠ½è±¡ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»§æ‰¿GenericServlet</span></span><br><span class="line"><span class="comment"> * GenericServletå®ç°äº†Servletæ¥å£çš„å…¶ä»–æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &#123;&quot;/servletTest02&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest02</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest)servletRequest;</span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">        <span class="keyword">if</span>(method.equalsIgnoreCase(<span class="string">&quot;GET&quot;</span>))&#123;</span><br><span class="line">            <span class="built_in">this</span>.doGet();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.equalsIgnoreCase(<span class="string">&quot;POST&quot;</span>))&#123;</span><br><span class="line">            <span class="built_in">this</span>.doPost();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest02 doPost()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest02 doGet()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç»§æ‰¿-HttpServlet-æŠ½è±¡ç±»"><a href="#ç»§æ‰¿-HttpServlet-æŠ½è±¡ç±»" class="headerlink" title="ç»§æ‰¿ HttpServlet æŠ½è±¡ç±»"></a>ç»§æ‰¿ HttpServlet æŠ½è±¡ç±»</h3><p>HttpServletï¼š(æ ¹æ®è¯·æ±‚æ–¹æ³•çš„ä¸åŒè°ƒç”¨æ›´åŠ ç»†åŒ–çš„è°ƒç”¨å¤„ç†æ–¹æ³•)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">    <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> req.getMethod();</span><br><span class="line">    <span class="keyword">if</span> (method.equals(METHOD_GET)) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">lastModified</span> <span class="operator">=</span> getLastModified(req);</span><br><span class="line">        <span class="keyword">if</span> (lastModified == -<span class="number">1</span>) &#123;</span><br><span class="line">            doGet(req, resp);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">ifModifiedSince</span> <span class="operator">=</span> req.getDateHeader(HEADER_IFMODSINCE);</span><br><span class="line">            <span class="keyword">if</span> (ifModifiedSince &lt; lastModified) &#123;</span><br><span class="line">                maybeSetLastModified(resp, lastModified);</span><br><span class="line">                doGet(req, resp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_HEAD)) &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">lastModified</span> <span class="operator">=</span> getLastModified(req);</span><br><span class="line">        maybeSetLastModified(resp, lastModified);</span><br><span class="line">        doHead(req, resp);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_POST)) &#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_PUT)) &#123;</span><br><span class="line">        doPut(req, resp);</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_DELETE)) &#123;</span><br><span class="line">        doDelete(req, resp);</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_OPTIONS)) &#123;</span><br><span class="line">        doOptions(req,resp);</span><br><span class="line">        </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.equals(METHOD_TRACE)) &#123;</span><br><span class="line">        doTrace(req,resp); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">errMsg</span> <span class="operator">=</span> lStrings.getString(<span class="string">&quot;http.method_not_implemented&quot;</span>);</span><br><span class="line">        Object[] errArgs = <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">1</span>];</span><br><span class="line">        errArgs[<span class="number">0</span>] = method;</span><br><span class="line">        errMsg = MessageFormat.format(errMsg, errArgs);</span><br><span class="line">        </span><br><span class="line">        resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(value=&quot;/servletTest03&quot;,loadOnStartup = 0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest03</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest02 doGet()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Servlet-è¯·æ±‚è·¯å¾„å†™æ³•"><a href="#Servlet-è¯·æ±‚è·¯å¾„å†™æ³•" class="headerlink" title="Servlet è¯·æ±‚è·¯å¾„å†™æ³•"></a>Servlet è¯·æ±‚è·¯å¾„å†™æ³•</h2><blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    url-pattern:</span></span><br><span class="line"><span class="comment">    å¯é…ç½®å¤šä¸ªï¼Œé…ç½®å½¢å¼ä¸»è¦ä¸ºï¼š</span></span><br><span class="line"><span class="comment">    1. /testï¼šåŒ¹é…testè¯·æ±‚</span></span><br><span class="line"><span class="comment">    2. /test/*  åŒ¹é…testä¸‹çš„æ‰€æœ‰è¯·æ±‚</span></span><br><span class="line"><span class="comment">    3. *.actionç­‰    ä»¥actionç»“å°¾çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">    é”™è¯¯å†™æ³•ï¼š</span></span><br><span class="line"><span class="comment">    1. æ²¡åŠ  /</span></span><br><span class="line"><span class="comment">        &lt;url-pattern&gt;test&lt;/url-pattern&gt;</span></span><br><span class="line"><span class="comment">    2. / å’Œ * ä¸èƒ½å…¬ç”¨</span></span><br><span class="line"><span class="comment">        &lt;url-pattern&gt;/test/*.action&lt;/url-pattern&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.action<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="ServletConfig"><a href="#ServletConfig" class="headerlink" title="ServletConfig"></a>ServletConfig</h2><blockquote>
<ul>
<li>ServletConfig çš„é…ç½®å¯ç”± web.xml æˆ–æ³¨è§£ä¸­å¾—åˆ°ã€‚</li>
<li>ServletConfig å¯¹è±¡å« Servlet é…ç½®å¯¹è±¡ã€‚ä¸»è¦ç”¨äºåŠ è½½é…ç½®æ–‡ä»¶çš„åˆå§‹åŒ–å‚æ•° <init-param> ï¼Œä¸ºå…·ä½“çš„ Servlet æœåŠ¡ã€‚</init-param></li>
<li>ServletConfig å¯¹è±¡åœ¨ Servlet å¯¹è±¡åˆ›å»ºä¹‹åï¼Œè°ƒç”¨ init æ–¹æ³•ä¹‹å‰åˆ›å»ºï¼Œä¹‹å ServletConfig å¯¹è±¡éšç€ init( ) æ–¹æ³•ä¼ å…¥åˆ° Servlet ä¸­ã€‚</li>
</ul>
</blockquote>
<p>GenericSerevlet çš„ init æ–¹æ³•åˆå§‹åŒ–äº† ServletConfigï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    <span class="built_in">this</span>.config = config;</span><br><span class="line">    <span class="built_in">this</span>.init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆServletConfigä½¿ç”¨ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»§æ‰¿GenericServlet</span></span><br><span class="line"><span class="comment"> * GenericServletå®ç°äº†Servletæ¥å£çš„å…¶ä»–æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(value = &quot;/servletTest04&quot;, initParams = &#123;</span></span><br><span class="line"><span class="meta">        @WebInitParam(name = &quot;servletParam&quot;, value = &quot;servletParamValue&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest04</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * initæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ä¸ºconfigèµ‹å€¼ï¼šsuper.init(config);</span></span><br><span class="line"><span class="comment">         * å¦‚æœæœªæŒ‡å®šload-on-startupä¸ºæ­£æ•°ï¼Œåˆ™è®¿é—®è¯¥Servletæ—¶æ‰ä¼šæ‰§è¡Œinit</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="built_in">super</span>.init(config);</span><br><span class="line">        <span class="type">String</span> <span class="variable">servletName</span> <span class="operator">=</span> config.getServletName();</span><br><span class="line">        System.out.println(<span class="string">&quot;servletName: &quot;</span> + servletName);</span><br><span class="line">        <span class="comment">//servletName: com.example.servlet.ServletTest04</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">servletParam</span> <span class="operator">=</span> config.getInitParameter(<span class="string">&quot;servletParam&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;servletParam: &quot;</span> + servletParam);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">        Enumeration&lt;String&gt; initParameterNames = config.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (initParameterNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> initParameterNames.nextElement();</span><br><span class="line">            System.out.println(<span class="string">&quot;value: &quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·å–ServletContextå¯¹è±¡</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> config.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;servletContext: &quot;</span> + servletContext);</span><br><span class="line">        <span class="comment">//servletContext: org.apache.catalina.core.ApplicationContextFacade@50793d3a</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;GET&quot;</span>.equalsIgnoreCase(method)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doGet();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;POST&quot;</span>.equalsIgnoreCase(method)) &#123;</span><br><span class="line">            <span class="built_in">this</span>.doPost();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest03 doPost()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletTest03 doGet()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ServletCotext"><a href="#ServletCotext" class="headerlink" title="ServletCotext"></a>ServletCotext</h2><blockquote>
<ul>
<li>ServletContextå¯¹è±¡å«Servletä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç”¨äºåŠ è½½ <context-params> ï¼Œæ¯å½“ä¸€ä¸ªwebåº”ç”¨è¢«åŠ è½½æ—¶ï¼ŒServletå®¹å™¨å°±ä¼šä¸ºè¿™ä¸ª web åº”ç”¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å½“å‰ web åº”ç”¨çš„ç¯å¢ƒï¼Œåœ¨å½“å‰ web åº”ç”¨ä¸­æ‰€æœ‰çš„ servletéƒ½å…±äº«ä¸€ä¸ª ServletContext å¯¹è±¡ã€‚</context-params></li>
<li>ServletContext æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒè¡¨ç¤º Servlet ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li>
<li>ä¸€ä¸ª web å·¥ç¨‹ï¼Œåªæœ‰ä¸€ä¸ª ServletContext å¯¹è±¡å®ä¾‹ã€‚</li>
<li>ServletContext å¯¹è±¡æ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡ã€‚</li>
<li>ServletContext æ˜¯åœ¨ web å·¥ç¨‹éƒ¨ç½²å¯åŠ¨çš„æ—¶å€™åˆ›å»ºã€‚åœ¨ web å·¥ç¨‹åœæ­¢çš„æ—¶å€™é”€æ¯ã€‚</li>
</ul>
</blockquote>
<p><strong>ServletContext åŠŸèƒ½ï¼š</strong></p>
<blockquote>
<ul>
<li>è·å–æ–‡ä»¶çš„MIMEç±»å‹ï¼šMIME æ˜¯ HTTP åè®®ä¸­æ•°æ®ç±»å‹ã€‚<ul>
<li>MIME çš„è‹±æ–‡å…¨ç§°æ˜¯â€Multipurpose Internet Mail Extensionsâ€ å¤šåŠŸèƒ½ Internet é‚®ä»¶æ‰©å……æœåŠ¡ã€‚</li>
<li>MIME ç±»å‹çš„æ ¼å¼æ˜¯â€å¤§ç±»å‹&#x2F;å°ç±»å‹â€ï¼Œå¹¶ä¸æŸä¸€ç§æ–‡ä»¶çš„æ‰©å±•åç›¸å¯¹åº”ã€‚</li>
<li>æ ¼å¼ï¼šå¤§ç±»å‹&#x2F;å°ç±»å‹ text&#x2F;html  image&#x2F;jpeg</li>
<li>String getMimeType(String file)</li>
</ul>
</li>
<li>ServletContextåŸŸå¯¹è±¡ï¼šå…±äº«æ•°æ®ï¼ŒServletContextçš„å¯¹è±¡èŒƒå›´ï¼šæ‰€æœ‰ç”¨æˆ·æ‰€æœ‰è¯·æ±‚çš„æ•°æ®<ul>
<li>setAttribute(String name,Object value)</li>
<li>getAttribute(String name)</li>
<li>removeAttribute(String name)</li>
</ul>
</li>
<li>è·å–æ–‡ä»¶çš„çœŸå®ï¼ˆæœåŠ¡å™¨ï¼‰è·¯å¾„ï¼šä¸€èˆ¬ä¸‹è½½&#x2F;ä¸Šä¼ æ–‡ä»¶éœ€è¦ç»å¯¹è·¯å¾„<ul>
<li>String getRealPath(String path)</li>
<li>String b &#x3D; context.getRealPath(â€œ&#x2F;b.txtâ€);   webç›®å½•ä¸‹èµ„æºè®¿é—®</li>
<li>String c &#x3D; context.getRealPath(â€œ&#x2F;WEB-INF&#x2F;c.txtâ€);   WEB-INF ç›®å½•ä¸‹çš„èµ„æºè®¿é—®</li>
<li>String a &#x3D; context.getRealPath(â€œ&#x2F;WEB-INF&#x2F;classes&#x2F;a.txtâ€);   src ç›®å½•ä¸‹çš„èµ„æºè®¿é—®</li>
</ul>
</li>
<li>è·å–å½“å‰çš„å·¥ç¨‹è·¯å¾„ï¼šservletContext.getContextPath();</li>
</ul>
</blockquote>
<p>ServletConfigä¸ServletContextçš„åŒºåˆ«ï¼š</p>
<blockquote>
<p>ServletConfigä¸ServletContextçš„åŒºåˆ«ï¼š</p>
<ol>
<li>ServletConfig å¯¹è±¡å« Servlet é…ç½®å¯¹è±¡ã€‚ä¸»è¦ç”¨äºåŠ è½½é…ç½®æ–‡ä»¶çš„åˆå§‹åŒ–å‚æ•°<init-param>,ä¸ºå…·ä½“çš„ ServletæœåŠ¡ã€‚ServletConfig å¯¹è±¡åœ¨ servlet å¯¹è±¡åˆ›å»ºä¹‹åï¼Œè°ƒç”¨ init æ–¹æ³•ä¹‹å‰åˆ›å»ºï¼Œä¹‹å ServletConfig å¯¹è±¡éšç€ init() æ–¹æ³•ä¼ å…¥åˆ° Servlet ä¸­ã€‚</init-param></li>
<li>ServletContext å¯¹è±¡å« Servletä¸Šä¸‹æ–‡å¯¹è±¡ã€‚æ¯å½“ä¸€ä¸ª web åº”ç”¨è¢«åŠ è½½æ—¶ï¼ŒServlet å®¹å™¨å°±ä¼šä¸ºè¿™ä¸ª web åº”ç”¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å½“å‰ web åº”ç”¨çš„ç¯å¢ƒï¼Œåœ¨å½“å‰ web åº”ç”¨ä¸­æ‰€æœ‰çš„ servlet éƒ½å…±äº«ä¸€ä¸ª ServletContext å¯¹è±¡ã€‚</li>
</ol>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆServletContextï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;servletContextTest&quot;,value = &quot;/servletContextTest&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContextTest01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”±requestå¯¹è±¡è·å– ServletContextå¯¹è±¡</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext2</span> <span class="operator">=</span> req.getServletContext();</span><br><span class="line">        System.out.println(servletContext == servletContext2); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–å·¥ç¨‹ç›®å½•</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">contentPath</span> <span class="operator">=</span> servletContext.getContextPath();</span><br><span class="line">        System.out.println(<span class="string">&quot;contentPath: &quot;</span>+contentPath); <span class="comment">// /web</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åŸŸå¯¹è±¡</span></span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;servletContextTestKey&quot;</span>, <span class="string">&quot;servletContextTestValue&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–å…¨éƒ¨é…ç½®å‚æ•°</span></span><br><span class="line">        Enumeration&lt;String&gt; initParameterNames = servletContext.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span>(initParameterNames.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> initParameterNames.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> servletContext.getInitParameter(key);</span><br><span class="line">            System.out.println(<span class="string">&quot;servletContext: key: &quot;</span>+key+<span class="string">&quot;, value: &quot;</span>+value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// servletContext: key: password, value: root</span></span><br><span class="line">        <span class="comment">// servletContext: key: username, value: root</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–MIMEç±»å‹</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">mimeType</span> <span class="operator">=</span> servletContext.getMimeType(<span class="string">&quot;a.jpg&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;mimeType: &quot;</span>+mimeType); <span class="comment">// image/jpeg</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–èµ„æºçš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath1</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath2</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;/WEN-INF/classes/b.txt&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">readPath3</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;/WEB-INF/web.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;realPath: &quot;</span>+realPath);</span><br><span class="line">        System.out.println(<span class="string">&quot;realPath1: &quot;</span>+realPath1);</span><br><span class="line">        System.out.println(<span class="string">&quot;realPath2: &quot;</span>+realPath2);</span><br><span class="line">        System.out.println(<span class="string">&quot;realPath3: &quot;</span>+readPath3);</span><br><span class="line">        <span class="comment">//realPath:  D:\Java\WorkSpace\JavaBasic\JavaWeb\out\artifacts\ServletTest_war_exploded\</span></span><br><span class="line">        <span class="comment">//realPath1: D:\Java\WorkSpace\JavaBasic\JavaWeb\out\artifacts\ServletTest_war_exploded\a.txt</span></span><br><span class="line">        <span class="comment">//realPath2: D:\Java\WorkSpace\JavaBasic\JavaWeb\out\artifacts\ServletTest_war_exploded\WEN-INF\classes\b.txt</span></span><br><span class="line">        <span class="comment">//realPath3: D:\Java\WorkSpace\JavaBasic\JavaWeb\out\artifacts\ServletTest_war_exploded\WEB-INF\web.xml</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Servlet-æ‰§è¡ŒåŸç†"><a href="#Servlet-æ‰§è¡ŒåŸç†" class="headerlink" title="Servlet æ‰§è¡ŒåŸç†"></a>Servlet æ‰§è¡ŒåŸç†</h2><blockquote>
<ol>
<li>å½“æœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨çš„è¯·æ±‚åï¼Œä¼šè§£æè¯·æ±‚URLè·¯å¾„ï¼Œè·å–è®¿é—®çš„Servletçš„èµ„æºè·¯å¾„ã€‚</li>
<li>æŸ¥æ‰¾ web.xml æ–‡ä»¶æˆ–æ³¨è§£ @WebServletï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„ Servlet è¯·æ±‚èµ„æºè·¯å¾„ã€‚å¦‚æœæœ‰åˆ™åœ¨æ‰¾åˆ°å¯¹åº”çš„ç±»åï¼Œtomcat ä¼šå°†å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜ï¼Œé€šè¿‡åå°„åˆ›å»º Servlet å¯¹è±¡ï¼Œå¹¶åˆ›å»ºrequestå’Œresponseå¯¹è±¡ï¼Œä¼ é€’ç»™serviceæ–¹æ³•å¤„ç†ä¸šåŠ¡ã€‚</li>
</ol>
</blockquote>
<h2 id="Servlet-ç”Ÿå‘½å‘¨æœŸ"><a href="#Servlet-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Servlet ç”Ÿå‘½å‘¨æœŸ"></a>Servlet ç”Ÿå‘½å‘¨æœŸ</h2><blockquote>
<p>Servlet ç”Ÿå‘½å‘¨æœŸå¯è¢«å®šä¹‰ä¸ºä»åˆ›å»ºç›´åˆ°æ¯ç­çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ Servlet éµå¾ªçš„è¿‡ç¨‹ï¼š</p>
<p><strong>1.</strong>   <strong>Servlet åˆå§‹åŒ–åè°ƒç”¨ init () æ–¹æ³•ã€‚</strong></p>
<p><strong>2.</strong>   <strong>Servlet è°ƒç”¨ service() æ–¹æ³•æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</strong></p>
<p><strong>3.</strong>   <strong>Servlet é”€æ¯å‰è°ƒç”¨ destroy() æ–¹æ³•ã€‚</strong></p>
<p>æœ€åï¼ŒServlet æ˜¯ç”± JVM çš„åƒåœ¾å›æ”¶å™¨è¿›è¡Œåƒåœ¾å›æ”¶çš„ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šinit()æ–¹æ³•</strong></p>
<p>å½“å®¢æˆ·ç«¯è°ƒç”¨ä¸€ä¸ª Servlet æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ª Servlet å®ä¾‹ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œé€‚å½“çš„æ—¶å€™ç§»äº¤ç»™ doGet æˆ– doPost æ–¹æ³•ã€‚init( ) æ–¹æ³•ç®€å•åœ°åˆ›å»ºæˆ–åŠ è½½ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®å°†è¢«ç”¨äº Servlet çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p>
<p><strong>ç¬¬äºŒæ­¥ï¼šservice() æ–¹æ³•</strong></p>
<p>service( ) æ–¹æ³•æ˜¯æ‰§è¡Œå®é™…ä»»åŠ¡çš„ä¸»è¦æ–¹æ³•ã€‚Servlet å®¹å™¨ï¼ˆå³ Web æœåŠ¡å™¨ï¼‰è°ƒç”¨ service( ) æ–¹æ³•æ¥å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰çš„è¯·æ±‚ï¼Œå¹¶æŠŠæ ¼å¼åŒ–çš„å“åº”å†™å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>æ¯æ¬¡æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ª Servlet è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹å¹¶è°ƒç”¨æœåŠ¡ã€‚service( ) æ–¹æ³•æ£€æŸ¥ HTTP è¯·æ±‚ç±»å‹ï¼ˆGETã€POSTã€PUTã€DELETE ç­‰ï¼‰ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è°ƒç”¨ doGetã€doPostã€doPutï¼ŒdoDelete ç­‰æ–¹æ³•ã€‚</p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šdestory( ) æ–¹æ³•</strong></p>
<p>destroy( ) æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨ Servlet ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è¢«è°ƒç”¨ã€‚destroy( ) æ–¹æ³•å¯ä»¥å…³é—­æ•°æ®åº“è¿æ¥ã€åœæ­¢åå°çº¿ç¨‹ã€æŠŠ Cookie åˆ—è¡¨æˆ–ç‚¹å‡»è®¡æ•°å™¨å†™å…¥åˆ°ç£ç›˜ï¼Œå¹¶æ‰§è¡Œå…¶ä»–ç±»ä¼¼çš„æ¸…ç†æ´»åŠ¨ã€‚åœ¨è°ƒç”¨ destroy( ) æ–¹æ³•ä¹‹åï¼Œservlet å¯¹è±¡è¢«æ ‡è®°ä¸ºåƒåœ¾å›æ”¶ã€‚</p>
</blockquote>
<h2 id="Servlet-åˆ›å»ºé”€æ¯æ—¶æœº"><a href="#Servlet-åˆ›å»ºé”€æ¯æ—¶æœº" class="headerlink" title="Servlet åˆ›å»ºé”€æ¯æ—¶æœº"></a>Servlet åˆ›å»ºé”€æ¯æ—¶æœº</h2><blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼ŒServlet è¢«åˆ›å»ºã€‚å¯ä»¥é…ç½®æ‰§è¡Œ Servlet çš„åˆ›å»ºæ—¶æœºã€‚</p>
<p>åœ¨<servlet>æ ‡ç­¾ä¸‹é…ç½®ï¼š</servlet></p>
<p>ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶ï¼Œåˆ›å»ºã€‚<load-on-startup>çš„å€¼ä¸ºè´Ÿæ•°</load-on-startup></p>
<p>åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œåˆ›å»ºã€‚<load-on-startup>çš„å€¼ä¸º 0 æˆ–æ­£æ•´æ•°</load-on-startup></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    load-on-startup:</span></span><br><span class="line"><span class="comment">    ä¸ºè´Ÿæ•°æ—¶ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶åˆ›å»ºServletå¯¹è±¡</span></span><br><span class="line"><span class="comment">    ä¸º 0 æˆ–æ­£æ•°æ—¶ï¼ŒæœåŠ¡å™¨å¯åŠ¨ä¾¿åˆ›å»ºServletå¯¹è±¡</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>0<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>init() æ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œè¯´æ˜ä¸€ä¸ª Servlet åœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒServlet æ˜¯å•ä¾‹çš„ã€‚</strong></li>
<li><strong>service() æ–¹æ³•ï¼Œæä¾›æœåŠ¡ï¼šæ‰§è¡Œ service æ–¹æ³•ï¼Œæ‰§è¡Œå¤šæ¬¡ã€‚</strong></li>
<li><strong>æ¯æ¬¡è®¿é—® Servlet æ—¶ï¼ŒService æ–¹æ³•éƒ½ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</strong></li>
<li><strong>destory() è¢«é”€æ¯ï¼šæ‰§è¡Œ destroy æ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚Servlet è¢«é”€æ¯æ—¶æ‰§è¡Œã€‚æœåŠ¡å™¨å…³é—­æ—¶ï¼ŒServletè¢«é”€æ¯ã€‚</strong></li>
<li><strong>åªæœ‰æœåŠ¡å™¨æ­£å¸¸å…³é—­æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ destroy æ–¹æ³•ã€‚destroyæ–¹æ³•åœ¨ Servlet è¢«é”€æ¯ä¹‹å‰æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºé‡Šæ”¾èµ„æºã€‚</strong></li>
</ul>
</blockquote>
<h2 id="Servlet3-0-æ³¨è§£é…ç½®"><a href="#Servlet3-0-æ³¨è§£é…ç½®" class="headerlink" title="Servlet3.0 æ³¨è§£é…ç½®"></a>Servlet3.0 æ³¨è§£é…ç½®</h2><blockquote>
<ol>
<li><p>é¿å…servletè¿‡å¤šæ—¶ï¼Œé…ç½®æ–‡ä»¶ç¹å¤šï¼ŒJavaEE6å¼€å§‹æ”¯æŒã€‚</p>
</li>
<li><p>ä¸éœ€è¦åˆ›å»ºweb.xmlï¼Œå…³é”®åœ¨äºå°†è·¯å¾„ä¸ç±»æ˜ å°„ã€‚ï¼ˆå¯é…ç½®å¤šä¸ªè·¯å¾„ï¼‰</p>
</li>
<li><p>ä¸€èˆ¬æ³¨è§£ä¸­çš„valueè¡¨ç¤ºæœ€é‡è¦çš„å±æ€§ï¼Œè‹¥é‡‡ç”¨value&#x3D;â€â€ï¼Œvalueå¯çœç•¥ã€‚åœ¨ç±»ä¸Šä½¿ç”¨@WebServletæ³¨è§£ï¼Œè¿›è¡Œé…ç½®ã€‚@WebServlet(â€œèµ„æºè·¯å¾„â€)</p>
</li>
<li><p>@WebServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebServlet &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">    String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">loadOnStartup</span><span class="params">()</span> <span class="keyword">default</span> -<span class="number">1</span>;</span><br><span class="line">    WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">false</span>;</span><br><span class="line">    String <span class="title function_">smallIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">largeIcon</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">displayName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@WebInitParam</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> WebInitParam &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆ@WebServlet é…ç½®ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(</span></span><br><span class="line"><span class="meta">        name = &quot;serverTest01&quot;,</span></span><br><span class="line"><span class="meta">        urlPatterns = &#123;&quot;/serverTest01&quot;,&quot;/serverDemo01&quot;&#125;,</span></span><br><span class="line"><span class="meta">        initParams = &#123;</span></span><br><span class="line"><span class="meta">                @WebInitParam(name = &quot;name&quot;,value = &quot;Tom&quot;),</span></span><br><span class="line"><span class="meta">                @WebInitParam(name = &quot;age&quot;,value = &quot;12&quot;)</span></span><br><span class="line"><span class="meta">        &#125;,loadOnStartup = 1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest01</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="Servletç›¸å¯¹-x2F-ç»å¯¹è·¯å¾„"><a href="#Servletç›¸å¯¹-x2F-ç»å¯¹è·¯å¾„" class="headerlink" title="Servletç›¸å¯¹&#x2F;ç»å¯¹è·¯å¾„"></a>Servletç›¸å¯¹&#x2F;ç»å¯¹è·¯å¾„</h2><blockquote>
<ul>
<li><p>ç›¸å¯¹è·¯å¾„ï¼šä»¥ <strong>.&#x2F;</strong> å¼€å¤´ï¼Œå¦‚ index.html ä¸å¯ä»¥ç¡®å®šå”¯ä¸€èµ„æºã€‚</p>
<ul>
<li><strong>.&#x2F;</strong> å½“å‰ç›®å½•   <strong>..&#x2F;</strong>  ä¸Šä¸€çº§ç›®å½•</li>
</ul>
</li>
<li><p>ç»å¯¹è·¯å¾„ï¼šä»¥ <strong>&#x2F;</strong> å¼€å¤´ï¼Œå¯ä»¥ç¡®å®šå”¯ä¸€èµ„æºã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://localhost/demo1.html"><strong>http://localhost/demo1.html</strong></a>     <strong>&#x2F;demo1.html</strong></li>
</ul>
</li>
</ul>
<p><strong>Servlet ä¸­æ‰€æœ‰è®¿é—®è·¯å¾„éƒ½è¦ç”¨ç»å¯¹è·¯å¾„â€œ&#x2F;â€å¼€å¤´ã€‚æµè§ˆå™¨é¡µé¢ä¸­â€œ&#x2F;â€è¡¨ç¤ºç«™ç‚¹è·¯å¾„ï¼ŒæœåŠ¡å™¨ç«¯çš„â€œ&#x2F;â€è¡¨ç¤ºåº”ç”¨è·¯å¾„ã€‚</strong></p>
<p>å¯¹äºæœåŠ¡å™¨ç«¯æ¥è¯´ï¼Œurlçš„é…ç½®å¿…é¡»ä»¥ &#x2F; å¼€å¤´ï¼Œè¡¨ç¤ºç»å¯¹è·¯å¾„ï¼Œå³åº”ç”¨åç§°ã€‚</p>
<p><strong><url-pattern>&#x2F;test</url-pattern></strong></p>
<p><strong>&#x2F;test å³ http:&#x2F;&#x2F; localhost:8080&#x2F;ServletTest&#x2F;test</strong></p>
<p>å¯¹äºè½¬å‘ï¼š<strong>request.forward</strong> è½¬å‘çš„è·¯å¾„ï¼ˆæ³¨æ„ï¼šä¸åŒ…å« <strong>redirect <strong>é‡å®šå‘ï¼‰åšå®Œåå°ä¸šåŠ¡é€»è¾‘å¤„ç†åï¼Œéœ€è¦åšé¡µé¢çš„è·³è½¬ï¼Œæ¯”å¦‚ï¼š</strong>req.getRequestDispatcher(â€œ&#x2F;pages&#x2F;success.jspâ€).forward(req, resp);<strong>è¿™æ—¶å€™è·³è½¬çš„é¡µé¢</strong>â€œ&#x2F;pages&#x2F;success.jspâ€<strong>ä¹Ÿå¿…é¡»æ·»åŠ </strong>â€œ&#x2F;â€</strong>ï¼Œå®ƒä»£è¡¨çš„å«ä¹‰ä¹Ÿä¸€æ ·ï¼Œå°±æ˜¯åº”ç”¨çš„åç§°ã€‚</p>
<p>å¯¹äºé¡µé¢é…ç½®çš„è·¯å¾„ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬çš„åº”ç”¨urlæ˜¯ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/test%E3%80%82">http://localhost:8080/testã€‚</a></p>
<p>é‚£ç«™ç‚¹çš„è·¯å¾„å°±æ˜¯ï¼š<a target="_blank" rel="noopener" href="http://localhost:8080/test%EF%BC%8C%E5%AF%B9%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E6%B5%8F%E8%A7%88%E5%99%A8%E8%80%8C%E8%A8%80%EF%BC%8C%E5%AE%83%E8%AE%A4%E8%AF%86%E7%9A%84%E5%8F%AA%E6%9C%89%E7%AB%99%E7%82%B9%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9A%84jsp%E9%A1%B5%E9%9D%A2%EF%BC%8C%E2%80%9C/%E2%80%9D%E4%BB%A3%E8%A1%A8%E7%9A%84%E6%98%AF%E7%AB%99%E7%82%B9%E5%90%8D%E3%80%82%E6%89%80%E4%BB%A5%E5%9C%A8%E2%80%9C/%E2%80%9D%E5%90%8E%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E4%B8%8A%E5%BA%94%E7%94%A8%E7%9A%84%E5%90%8D%E7%A7%B0%E6%89%8D%E8%83%BD%E6%AD%A3%E7%A1%AE%E7%9A%84%E8%AE%BF%E9%97%AE%E5%88%B0%E3%80%82">http://localhost:8080/testï¼Œå¯¹å®¢æˆ·ç«¯çš„æµè§ˆå™¨è€Œè¨€ï¼Œå®ƒè®¤è¯†çš„åªæœ‰ç«™ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„jspé¡µé¢ï¼Œâ€œ/â€ä»£è¡¨çš„æ˜¯ç«™ç‚¹åã€‚æ‰€ä»¥åœ¨â€œ/â€åéœ€è¦æ·»åŠ ä¸Šåº”ç”¨çš„åç§°æ‰èƒ½æ­£ç¡®çš„è®¿é—®åˆ°ã€‚</a></p>
<p><strong>å¦‚è¡¨å• <form action=" /test/a/b" method="post">ï¼Œåº”ç”¨åæ˜¯testï¼Œ&#x2F; ä»£è¡¨ç«™ç‚¹çš„åŸŸåç«¯å£ï¼Œ <a href="http://localhost:8080ï¼Œæ‰€ä»¥/testä»£è¡¨">http://localhost:8080ï¼Œæ‰€ä»¥/testä»£è¡¨</a> <a target="_blank" rel="noopener" href="http://localhost:8080/test">http://localhost:8080/test</a></form></strong></p>
<p>åœ¨åº”ç”¨ä¸­ï¼Œç»å¸¸è¿™æ ·å†™ï¼š</p>
<p><strong><form action="${pageContext.request.contextPath}/servletTest/helloWorld" method="post"></form></strong></p>
<p><strong>${pageContext.request.contextPath}</strong> çš„æ•ˆæœå°±æ˜¯â€&#x2F;åº”ç”¨åâ€ ï¼Œè¿™é‡Œç­‰äº &#x2F;test</p>
<p>å¯¹äºé¡µé¢èµ„æºå¼•ç”¨ï¼ŒCSSï¼ŒJSï¼Œå›¾ç‰‡ç­‰ï¼Œéƒ½è¦å¦‚æ­¤å†™ï¼Œæ¯”å¦‚</p>
<script>src="${pageContext.request.contextPath}/pages/event/js/addevent.js"></script>

<p>å¯¹äº<strong>jsp&#x2F;servlet</strong>çš„é‡å®šå‘ redirectï¼Œé‡å®šå‘å…¶å®å‘æœåŠ¡å™¨å‘é€äº†2æ¬¡è¯·æ±‚ã€‚</p>
<p>æ‰€æœ‰æ¶‰åŠå‰ç«¯é¡µé¢çš„åœ°æ–¹ï¼Œâ€œ&#x2F;â€ä»£è¡¨çš„æ˜¯ç«™ç‚¹åï¼Œéœ€è¦æˆ‘ä»¬åœ¨â€œ&#x2F;â€åŠ ä¸Šåº”ç”¨åä»¥æ˜ç¡®åº”ç”¨æœåŠ¡ã€‚</p>
</blockquote>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼š<strong>HyperText Transfer Protocol</strong>ï¼Œå®šä¹‰äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šä¿¡æ—¶ï¼Œå‘é€æ•°æ®çš„æ ¼å¼ã€‚</p>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><blockquote>
<ol>
<li><p>åŸºäºTCP&#x2F;IPçš„é«˜çº§åè®®ã€‚</p>
</li>
<li><p>é»˜è®¤ç«¯å£å·ï¼š80ï¼ˆä¸ç”¨æ·»åŠ ç«¯å£ï¼‰ã€‚</p>
</li>
<li><p>åŸºäºè¯·æ±‚&#x2F;å“åº”æ¨¡å‹çš„ï¼šä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€æ¬¡å“åº”ã€‚</p>
</li>
<li><p>æ— çŠ¶æ€çš„ï¼šæ¯æ¬¡è¯·æ±‚ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¸èƒ½äº¤äº’æ•°æ®ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="è¯·æ±‚æ•°æ®æ ¼å¼"><a href="#è¯·æ±‚æ•°æ®æ ¼å¼" class="headerlink" title="è¯·æ±‚æ•°æ®æ ¼å¼"></a>è¯·æ±‚æ•°æ®æ ¼å¼</h3><h4 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a>è¯·æ±‚è¡Œ</h4><blockquote>
<p>æ ¼å¼ï¼šè¯·æ±‚æ–¹å¼	è¯·æ±‚url	è¯·æ±‚åè®®ç‰ˆæœ¬</p>
<p>å¦‚ï¼šGet &#x2F;login.html HTTP&#x2F;1.1</p>
<p>HTTP åè®®æœ‰ 7 ç§è¯·æ±‚ï¼Œå¸¸ç”¨çš„æœ‰ 2 ç§ï¼š</p>
<p>GETï¼š</p>
<ol>
<li><p>è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚è¡Œä¸­ï¼Œåœ¨urlåã€‚</p>
</li>
<li><p>è¯·æ±‚çš„urlé•¿åº¦æœ‰é™åˆ¶çš„ã€‚</p>
</li>
<li><p>ä¸å¤ªå®‰å…¨ã€‚</p>
</li>
</ol>
<p>POSTï¼š</p>
<ol>
<li><p>è¯·æ±‚å‚æ•°åœ¨è¯·æ±‚ä½“ä¸­ã€‚</p>
</li>
<li><p>è¯·æ±‚çš„urlé•¿åº¦æ²¡æœ‰é™åˆ¶çš„ã€‚</p>
</li>
<li><p>ç›¸å¯¹å®‰å…¨è¯·æ±‚å¤´ã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="è¯·æ±‚å¤´"><a href="#è¯·æ±‚å¤´" class="headerlink" title="è¯·æ±‚å¤´"></a>è¯·æ±‚å¤´</h4><blockquote>
<p>å®¢æˆ·ç«¯æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ä¿¡æ¯ã€‚</p>
<p>æ ¼å¼ï¼šè¯·æ±‚å¤´åç§°ï¼šè¯·æ±‚å¤´å€¼</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">GET</span> <span class="string">/favicon.ico HTTP/1.1</span></span><br><span class="line"><span class="attr">Host</span>: <span class="string">localhost:8080</span></span><br><span class="line"><span class="attr">User-Agent</span>: <span class="string">Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:82.0) Gecko/20100101 Firefox/82.0</span></span><br><span class="line"><span class="attr">Accept</span>: <span class="string">image/webp,*/*</span></span><br><span class="line"><span class="attr">Accept-Language</span>: <span class="string">zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span></span><br><span class="line"><span class="attr">Accept-Encoding</span>: <span class="string">gzip, deflate</span></span><br><span class="line"><span class="attr">Connection</span>: <span class="string">keep-alive</span></span><br></pre></td></tr></table></figure>

<p>å¸¸è§çš„è¯·æ±‚å¤´ï¼š</p>
<ol>
<li><p>User-Agentï¼š æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œä½¿ç”¨çš„æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ï¼ˆæµè§ˆå™¨ä»£ç†ç”¨æˆ·è¿›è¡Œè·å–èµ„æºï¼‰ã€‚</p>
<p>å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯è·å–è¯¥å¤´çš„ä¿¡æ¯ï¼Œè§£å†³æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p>
</li>
<li><p>Refererï¼š<a target="_blank" rel="noopener" href="http://localhost/login.html%E3%80%82">http://localhost/login.htmlã€‚</a></p>
<p> å‘Šè¯‰æœåŠ¡å™¨ï¼Œå½“å‰è¯·æ±‚ä»å“ªé‡Œæ¥ã€‚å½“å‰è®¿é—®é¡µé¢çš„URLã€‚</p>
<p>ä½œç”¨ï¼š 1. é˜²ç›—é“¾ã€‚ 2. ç»Ÿè®¡å·¥ä½œã€‚</p>
</li>
</ol>
</blockquote>
<h4 id="è¯·æ±‚ç©ºè¡Œ"><a href="#è¯·æ±‚ç©ºè¡Œ" class="headerlink" title="è¯·æ±‚ç©ºè¡Œ"></a>è¯·æ±‚ç©ºè¡Œ</h4><blockquote>
<p><strong>ç©ºè¡Œï¼Œç”¨äºåˆ†å‰² POST è¯·æ±‚çš„è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ã€‚GET è¯·æ±‚æ²¡æœ‰è¯·æ±‚ç©ºè¡Œå’Œè¯·æ±‚ä½“ã€‚</strong></p>
</blockquote>
<h4 id="è¯·æ±‚ä½“ï¼šï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰"><a href="#è¯·æ±‚ä½“ï¼šï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰" class="headerlink" title="è¯·æ±‚ä½“ï¼šï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰"></a>è¯·æ±‚ä½“ï¼šï¼ˆè¯·æ±‚æ­£æ–‡ï¼‰</h4><blockquote>
<p>å°è£…POSTè¯·æ±‚æ¶ˆæ¯çš„è¯·æ±‚å‚æ•°ã€‚</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">GET</span> <span class="string">/favicon.ico HTTP/1.1</span></span><br><span class="line"><span class="attr">Host</span>: <span class="string">localhost:8080</span></span><br><span class="line"><span class="attr">User-Agent</span>: <span class="string">Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:82.0) Gecko/20100101 Firefox/82.0</span></span><br><span class="line"><span class="attr">Accept</span>: <span class="string">image/webp,*/*</span></span><br><span class="line"><span class="attr">Accept-Language</span>: <span class="string">zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span></span><br><span class="line"><span class="attr">Accept-Encoding</span>: <span class="string">gzip, deflate</span></span><br><span class="line"><span class="attr">Connection</span>: <span class="string">keep-alive</span></span><br><span class="line"><span class="attr">Referer</span>: <span class="string">http://localhost:8080/demo/demo2</span></span><br><span class="line"><span class="attr">username</span> = <span class="string">zhangsan</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="å“åº”æ•°æ®æ ¼å¼"><a href="#å“åº”æ•°æ®æ ¼å¼" class="headerlink" title="å“åº”æ•°æ®æ ¼å¼"></a>å“åº”æ•°æ®æ ¼å¼</h3><h4 id="å“åº”è¡Œ"><a href="#å“åº”è¡Œ" class="headerlink" title="å“åº”è¡Œ"></a>å“åº”è¡Œ</h4><blockquote>
<p>ç»„æˆï¼šåè®®&#x2F;ç‰ˆæœ¬	å“åº”çŠ¶æ€ç 	çŠ¶æ€ç æè¿°</p>
<p><strong>å“åº”çŠ¶æ€ç ï¼š</strong></p>
<table>
<thead>
<tr>
<th>çŠ¶æ€ç </th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>1xx</td>
<td>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚æ–¹ç»§ç»­æ‰§è¡Œæ“ä½œã€‚</td>
</tr>
<tr>
<td>2xx</td>
<td>æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†ã€‚ 200</td>
</tr>
<tr>
<td>3xx</td>
<td>é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ã€‚  302ï¼Œé‡å®šå‘ï¼Œ304ï¼ˆè®¿é—®ç¼“å­˜ï¼‰ã€‚</td>
</tr>
<tr>
<td>4xx</td>
<td>å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ã€‚  404ï¼Œèµ„æºæœªæ‰¾åˆ°ã€‚  405ï¼Œè¯·æ±‚æ–¹å¼å’Œå¯¹åº”çš„æ–¹æ³•ä¸åŒ¹é…ï¼ŒdoGet() doXX()ã€‚</td>
</tr>
<tr>
<td>5xx</td>
<td>æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ã€‚</td>
</tr>
</tbody></table>
</blockquote>
<h4 id="å“åº”å¤´"><a href="#å“åº”å¤´" class="headerlink" title="å“åº”å¤´"></a>å“åº”å¤´</h4><blockquote>
<p>å¸¸è§çš„å“åº”å¤´ï¼š</p>
<ul>
<li>Content-Typeï¼šæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯æœ¬æ¬¡å“åº”ä½“æ•°æ®æ ¼å¼ä»¥åŠç¼–ç æ ¼å¼ã€‚</li>
<li>Content-Dispositionï¼šæœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ä»¥ä»€ä¹ˆæ ¼å¼æ‰“å¼€å“åº”ä½“æ•°æ®ã€‚<ul>
<li>in-line: é»˜è®¤å€¼ï¼Œåœ¨å½“å‰é¡µé¢æ‰“å¼€ã€‚</li>
<li>attachment;filename&#x3D;xxxï¼šä»¥é™„ä»¶å½¢å¼æ‰“å¼€å“åº”ä½“ï¼Œæ–‡ä»¶ä¸‹è½½ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="å“åº”ç©ºè¡Œ"><a href="#å“åº”ç©ºè¡Œ" class="headerlink" title="å“åº”ç©ºè¡Œ"></a>å“åº”ç©ºè¡Œ</h4><blockquote>
<p>åˆ†å‰²å“åº”å¤´å’Œå“åº”ä½“</p>
</blockquote>
<h4 id="å“åº”ä½“ï¼šä¼ è¾“çš„æ•°æ®"><a href="#å“åº”ä½“ï¼šä¼ è¾“çš„æ•°æ®" class="headerlink" title="å“åº”ä½“ï¼šä¼ è¾“çš„æ•°æ®"></a>å“åº”ä½“ï¼šä¼ è¾“çš„æ•°æ®</h4><blockquote>
<p>å“åº”å­—ç¬¦ä¸²æ ¼å¼ï¼šæ™®é€šé¡µé¢</p>
</blockquote>
<h2 id="RequeståŠŸèƒ½"><a href="#RequeståŠŸèƒ½" class="headerlink" title="RequeståŠŸèƒ½"></a>RequeståŠŸèƒ½</h2><p>ç»§æ‰¿ä½“ç³»ï¼š</p>
<p>ServletRequest</p>
<p>â€‹	HttpServletRequest</p>
<p>â€‹		org.apache.catalina.connector.RequestFacade (tomcat)</p>
<h3 id="è·å–è¯·æ±‚è¡Œæ•°æ®"><a href="#è·å–è¯·æ±‚è¡Œæ•°æ®" class="headerlink" title="è·å–è¯·æ±‚è¡Œæ•°æ®"></a>è·å–è¯·æ±‚è¡Œæ•°æ®</h3><blockquote>
<p><strong>Get   &#x2F;app&#x2F;demo?name&#x3D;tom  HTTP&#x2F;1.1</strong></p>
<ul>
<li><strong>String getMethod()      è·å–è¯·æ±‚æ–¹å¼ï¼šGet</strong>   </li>
<li><strong>String getContextPath()   è·å–è™šæ‹Ÿç›®å½•ï¼š&#x2F;app</strong> </li>
<li><strong>String getServletPath()   è·å– Servlet è·¯å¾„  &#x2F;demo</strong>      </li>
<li><strong>String getQueryString()   è·å– get è¯·æ±‚å‚æ•° name</strong>  </li>
<li><strong>String getRequestURI()   è·å–è¯·æ±‚URI  &#x2F;app&#x2F;demo ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚</strong></li>
<li>**StringBuffer RequestURL()     è·å–è¯·æ±‚URL   <a target="_blank" rel="noopener" href="http://localhost:8080/app/demo">http://localhost:8080/app/demo</a>  **<ul>
<li><strong>ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆStringBufferå¯ä¿®æ”¹ï¼ŒStringæŒ‡å‘æ–°çš„ï¼‰ã€‚</strong></li>
</ul>
</li>
<li><strong>String getProtocol()      è·å–åè®®åŠç‰ˆæœ¬   HTTP&#x2F;1.1</strong>  </li>
<li><strong>String getRemoteAddr()  è·å–å®¢æˆ·ç«¯IP</strong></li>
</ul>
</blockquote>
<h3 id="è·å–è¯·æ±‚å¤´æ•°æ®"><a href="#è·å–è¯·æ±‚å¤´æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚å¤´æ•°æ®"></a>è·å–è¯·æ±‚å¤´æ•°æ®</h3><blockquote>
<p><strong>String getHeader(String name)</strong></p>
<p><strong>Enumeration<String> getHeaderNames()    è·å–è¯·æ±‚å¤´é›†åˆ</String></strong></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆè·å–è¯·æ±‚å¤´æ•°æ®ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–è¯·æ±‚è¡Œå’Œè¯·æ±‚å¤´æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/requestTest01&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> req.getMethod();</span><br><span class="line">        System.out.println(method); <span class="comment">// GET</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">contentPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line">        System.out.println(contentPath); <span class="comment">// /JavaWeb</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> req.getServletPath();</span><br><span class="line">        System.out.println(servletPath); <span class="comment">// /requestTest01</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">queryString</span> <span class="operator">=</span> req.getQueryString();</span><br><span class="line">        System.out.println(queryString); <span class="comment">// name=tom</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> req.getRequestURI();</span><br><span class="line">        System.out.println(requestURI); <span class="comment">// /JavaWeb/requestTest01</span></span><br><span class="line"></span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">requestURL</span> <span class="operator">=</span> req.getRequestURL();</span><br><span class="line">        System.out.println(requestURL); <span class="comment">// http://localhost:8080/JavaWeb/requestTest01</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">protocol</span> <span class="operator">=</span> req.getProtocol();</span><br><span class="line">        System.out.println(protocol); <span class="comment">// HTTP/1.1</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">remoteAddr</span> <span class="operator">=</span> req.getRemoteAddr();</span><br><span class="line">        System.out.println(remoteAddr); <span class="comment">// 0:0:0:0:0:0:0:1</span></span><br><span class="line">        <span class="comment">//   è·å–è¯·æ±‚å¤´</span></span><br><span class="line">        Enumeration&lt;String&gt; headerNames = req.getHeaderNames();</span><br><span class="line">        <span class="keyword">while</span> (headerNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">header</span> <span class="operator">=</span> headerNames.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> req.getHeader(header);</span><br><span class="line">            System.out.println(header + <span class="string">&quot; : &quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//  user-agentå¯ä»¥å¤„ç†æµè§ˆå™¨å…¼å®¹é—®é¢˜</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">header</span> <span class="operator">=</span> req.getHeader(<span class="string">&quot;user-agent&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (header.contains(<span class="string">&quot;Chrome&quot;</span>)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Chrome browser&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Other browser&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doGet(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–è¯·æ±‚ä½“æ•°æ®"><a href="#è·å–è¯·æ±‚ä½“æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚ä½“æ•°æ®"></a>è·å–è¯·æ±‚ä½“æ•°æ®</h3><blockquote>
<p>è·å–æµå¯¹è±¡ï¼š</p>
<p>BufferedReader getReader()          è·å–å­—ç¬¦è¾“å…¥æµï¼Œåªæ“ä½œå­—ç¬¦æ•°æ®ã€‚</p>
<p>ServletInputStream getInputStream()   è·å–å­—èŠ‚è¾“å…¥æµï¼Œå¯ä»¥æ“ä½œä»»æ„æ•°æ®ç±»å‹æ•°æ®ã€‚ï¼ˆæ–‡ä»¶ä¸Šä¼ ï¼‰</p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼ˆè·å–è¾“å…¥æµï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/requestTest02&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æµ‹è¯•è·å–è¯·æ±‚ä½“æ•°æ®<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“åï¼š&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç ï¼š&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•è·å–è¯·æ±‚ä½“æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/requestTest02&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest02</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// postè¯·æ±‚ä¹±ç </span></span><br><span class="line">        <span class="comment">// req.setCharacterEncoding(&quot;UTF-8&quot;);</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> req.getReader();</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å­—ç¬¦æµç¼–ç å·²ç»è®¾ç½®è¿‡äº†ï¼Œæ­¤å¤„ä¸ç”Ÿæ•ˆ</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(line.getBytes(<span class="string">&quot;iso-8859-1&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            <span class="comment">// username=%E5%88%98%E9%A3%9E&amp;password=root</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–è¯·æ±‚å‚æ•°"><a href="#è·å–è¯·æ±‚å‚æ•°" class="headerlink" title="è·å–è¯·æ±‚å‚æ•°"></a>è·å–è¯·æ±‚å‚æ•°</h3><blockquote>
<p><strong>String getParameter(String name)</strong></p>
<p><strong>String[] getParameterValues(String name)          å¤é€‰æ¡†ã€‚</strong></p>
<p><strong>Enumeration<String> getParameterNames()    è·å–è¯·æ±‚çš„å‚æ•°åç§°ã€‚</String></strong></p>
<p><strong>Map&lt;String,String[]&gt; getPArameterMap()    è·å–æ‰€æœ‰å‚æ•°çš„é›†åˆã€‚</strong></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼ˆè·å–è¯·æ±‚å‚æ•°ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;requestTest03&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æµ‹è¯•è·å–è¯·æ±‚å‚æ•°<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“åï¼š&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç ï¼š&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;girl&quot;</span>&gt;</span>girl</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;boy&quot;</span>&gt;</span>boy</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æµ‹è¯•è·å–è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/requestTest03&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest03</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;</span><br><span class="line">        <span class="comment">//å•ä¸ªå‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        <span class="comment">//å¤é€‰æ¡†</span></span><br><span class="line">        String[] hobbies = req.getParameterValues(<span class="string">&quot;hobby&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String hobby : hobbies) &#123;</span><br><span class="line">            System.out.println(hobby);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è·å–è¯·æ±‚çš„å‚æ•°åç§°</span></span><br><span class="line">        Enumeration&lt;String&gt; parameterNames = req.getParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (parameterNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> parameterNames.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> req.getParameter(key);</span><br><span class="line">            System.out.println(key + <span class="string">&quot;*****&quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è·å–æ‰€æœ‰å‚æ•°çš„é›†åˆ</span></span><br><span class="line">        Map&lt;String, String[]&gt; parameterMap = req.getParameterMap();</span><br><span class="line">        Set&lt;String&gt; keys = parameterMap.keySet();</span><br><span class="line">        <span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">            String[] values = parameterMap.get(key);</span><br><span class="line">            <span class="keyword">for</span> (String value : values) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;key----&quot;</span> + key + <span class="string">&quot;value---&quot;</span> + value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚ä¸­æ–‡ä¹±ç è§£å†³"><a href="#è¯·æ±‚ä¸­æ–‡ä¹±ç è§£å†³" class="headerlink" title="è¯·æ±‚ä¸­æ–‡ä¹±ç è§£å†³"></a>è¯·æ±‚ä¸­æ–‡ä¹±ç è§£å†³</h3><blockquote>
<ul>
<li><p>getè¯·æ±‚ï¼š Tomcat8å·²ç»è§£å†³ã€‚</p>
</li>
<li><p>postè¯·æ±‚ï¼š</p>
<ul>
<li><p>è®¾ç½®é¡µé¢æäº¤çš„ç¼–ç ä¸º UTF-8 ã€‚</p>
</li>
<li><p>åœ¨è·å–å‚æ•°å‰ï¼Œè®¾ç½® request çš„ç¼–ç  request.setCharacterEncoding(â€œutf-8â€);</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">// postè¯·æ±‚ä¹±ç </span></span><br><span class="line">	req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="Request-å…±äº«æ•°æ®"><a href="#Request-å…±äº«æ•°æ®" class="headerlink" title="Request å…±äº«æ•°æ®"></a>Request å…±äº«æ•°æ®</h3><blockquote>
<p>åŸŸå¯¹è±¡ï¼šä¸€ä¸ªæœ‰ä½œç”¨èŒƒå›´çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨èŒƒå›´å†…å…±äº«æ•°æ®ã€‚</p>
<p>requeståŸŸï¼šä¸€èˆ¬ç”¨äºè½¬å‘ä¸­çš„å¤šä¸ªèµ„æºå…±äº«æ•°æ®ã€‚</p>
<p><strong>1.</strong>   <strong>void setAttribute(String name,Object obj)</strong>    <strong>å­˜å‚¨æ•°æ®</strong></p>
<p><strong>2.</strong>   <strong>Object getAttribute(String name)</strong></p>
<p><strong>3.</strong>   <strong>removeAttribute(String name)</strong></p>
</blockquote>
<h3 id="è·å–-ServletContext"><a href="#è·å–-ServletContext" class="headerlink" title="è·å– ServletContext"></a>è·å– ServletContext</h3><blockquote>
<p><strong>ServerContext getServletContext()</strong></p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼ˆä¸­æ–‡ä¹±ç ä¸è¯·æ±‚è½¬å‘ä¸åŸŸå¯¹è±¡ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/requestTest04&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/requestTest04&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest04</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(username);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/requestTest05&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/requestTest05&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest05</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span>(String)req.getAttribute(<span class="string">&quot;msg&quot;</span>);</span><br><span class="line">        System.out.println(msg);</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> req.getServletContext();</span><br><span class="line">        System.out.println(servletContext);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è½¬å‘-æœåŠ¡å™¨å†…éƒ¨èµ„æºè·³è½¬"><a href="#è¯·æ±‚è½¬å‘-æœåŠ¡å™¨å†…éƒ¨èµ„æºè·³è½¬" class="headerlink" title="è¯·æ±‚è½¬å‘(æœåŠ¡å™¨å†…éƒ¨èµ„æºè·³è½¬)"></a>è¯·æ±‚è½¬å‘(æœåŠ¡å™¨å†…éƒ¨èµ„æºè·³è½¬)</h3><blockquote>
<p>é€šè¿‡requestå¯¹è±¡è·å–è¯·æ±‚è½¬å‘å¯¹è±¡ï¼š<strong>RequestDispatcher getRequestDispatcher(String path);</strong></p>
<p>ä½¿ç”¨RequestDispatcherè½¬å‘ï¼š<strong>forward(ServletRequest request,ServletResponse response);</strong></p>
<p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li><p>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
</li>
<li><p>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨å†…éƒ¨èµ„æºã€‚</p>
</li>
<li><p>è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚</p>
</li>
</ol>
</blockquote>
<h2 id="ResponseåŠŸèƒ½"><a href="#ResponseåŠŸèƒ½" class="headerlink" title="ResponseåŠŸèƒ½"></a>ResponseåŠŸèƒ½</h2><h3 id="è®¾ç½®å“åº”è¡Œ"><a href="#è®¾ç½®å“åº”è¡Œ" class="headerlink" title="è®¾ç½®å“åº”è¡Œ"></a>è®¾ç½®å“åº”è¡Œ</h3><blockquote>
<p>æ ¼å¼ï¼š<strong>HTTP&#x2F;1.1 200 OK</strong></p>
<p>è®¾ç½®çŠ¶æ€ç ï¼š<strong>setStatus(int sc)</strong></p>
</blockquote>
<h3 id="è®¾ç½®å“åº”å¤´"><a href="#è®¾ç½®å“åº”å¤´" class="headerlink" title="è®¾ç½®å“åº”å¤´"></a>è®¾ç½®å“åº”å¤´</h3><blockquote>
<p><strong>setHeader(String headername,String value)</strong></p>
</blockquote>
<h3 id="è®¾ç½®å“åº”ä½“"><a href="#è®¾ç½®å“åº”ä½“" class="headerlink" title="è®¾ç½®å“åº”ä½“"></a>è®¾ç½®å“åº”ä½“</h3><blockquote>
<ol>
<li><p>è·å–è¾“å‡ºæµ</p>
<p>å­—ç¬¦è¾“å‡ºæµ <strong>PrintWriter getWriter()</strong></p>
<p><strong>å­—èŠ‚è¾“å‡ºæµ ServletOutputStream getOutputStream()</strong></p>
</li>
<li><p>ä½¿ç”¨è¾“å‡ºæµå°†æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯æµè§ˆå™¨ã€‚</p>
</li>
</ol>
</blockquote>
<h3 id="å“åº”å­—ç¬¦æ•°æ®"><a href="#å“åº”å­—ç¬¦æ•°æ®" class="headerlink" title="å“åº”å­—ç¬¦æ•°æ®"></a>å“åº”å­—ç¬¦æ•°æ®</h3><blockquote>
<p><strong>è·å–å­—ç¬¦è¾“å‡ºæµï¼Œè¾“å‡ºæ•°æ®</strong></p>
<p>   <strong>PrintWriter pw &#x3D; response.getWriter();</strong> </p>
<p>â€‹	è·å–çš„æµçš„é»˜è®¤ç¼–ç æ˜¯ISO-8859-1ï¼Œå­—ç¬¦è¾“å‡ºæµä¸­çš„ä¸­æ–‡ä¹±ç ã€‚å­—èŠ‚æµå’Œå­—ç¬¦æµåªèƒ½å“åº”ä¸€ä¸ªï¼Œå¦åˆ™æŠ¥é”™ã€‚</p>
</blockquote>
<h3 id="å“åº”å­—èŠ‚æ•°æ®"><a href="#å“åº”å­—èŠ‚æ•°æ®" class="headerlink" title="å“åº”å­—èŠ‚æ•°æ®"></a>å“åº”å­—èŠ‚æ•°æ®</h3><blockquote>
<p>è·å–å­—èŠ‚è¾“å‡ºæµï¼Œè¾“å‡ºæ•°æ®</p>
<p><strong>ServletOutputStream out &#x3D; ServletOutputStream getOutputStream()ã€‚</strong></p>
</blockquote>
<h3 id="å“åº”ä¹±ç "><a href="#å“åº”ä¹±ç " class="headerlink" title="å“åº”ä¹±ç "></a>å“åº”ä¹±ç </h3><blockquote>
<p>æ–¹å¼ä¸€ï¼š<strong>å“åº”çš„ç¼–ç åº”è¯¥å’Œæµè§ˆå™¨è§£ç æ–¹å¼åº”è¯¥ä¸€è‡´ã€‚éœ€è¦åŒæ—¶æŒ‡å®šresponseä¸æµè§ˆå™¨ç¼–ç æ ¼å¼</strong></p>
<p><strong>resp.setCharacterEncoding(â€œgbkâ€);</strong></p>
<p> æµè§ˆå™¨çš„é»˜è®¤è§£ç æ–¹å¼ä¸æ“ä½œç³»ç»Ÿä¸€è‡´ï¼Œwindowsé»˜è®¤ä¸ºGBK2312ã€‚å¦‚æœè¦æ±‚ç¼–ç ä¸ºutf-8ï¼Œåˆ™è¦è®¾ç½®å“åº”å¤´ã€‚å‘Šè¯‰æµè§ˆå™¨æœåŠ¡å™¨å‘é€çš„æ¶ˆæ¯çš„ç¼–ç æ ¼å¼ï¼Œå»ºè®®æµè§ˆå™¨ä½¿ç”¨è¯¥ç¼–ç æ ¼å¼è¿›è¡Œç¼–ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šéœ€è¦åŒæ—¶æŒ‡å®šresponseä¸æµè§ˆå™¨ç¼–ç æ ¼å¼</span></span><br><span class="line">resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>,<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒï¼šç®€å†™å½¢å¼ï¼Œåœ¨è·å–æµä¹‹å‰è®¾ç½®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šç®€å†™å½¢å¼ï¼šè®¾ç½®MIMEå¹¶è®¾ç½®å­—ç¬¦ç¼–ç </span></span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);     <span class="comment">//è®¾ç½®MIMEå¹¶è®¾ç½®å­—ç¬¦ç¼–ç </span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šresponseå¯¹è±¡ç”±Tomcatåˆ›å»ºï¼Œå“åº”å®Œæˆå³æ–­å¼€è¿æ¥ï¼Œå³è¯¥å­—ç¬¦æµä¸éœ€è¦åˆ·æ–°ç¼“å†²åŒºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">pw.write(<span class="string">&quot;&lt;h1&gt;ä½ å¥½ ResponseDemo&lt;/h1&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆå“åº”å­—ç¬¦æµï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“åº”å­—ç¬¦æµåŠä¹±ç é—®é¢˜è§£å†³</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/responseTest01&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseTest01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// æµè§ˆå™¨é»˜è®¤ä½¿ç”¨ç³»ç»Ÿç¼–ç æ–¹å¼   win:GBK</span></span><br><span class="line">        <span class="comment">// responseé»˜è®¤ç¼–ç ISO-8859-1    é¡µé¢è¾“å‡ºä½ å¥½ï¼šæ˜¾ç¤ºï¼Ÿï¼Ÿ</span></span><br><span class="line">        <span class="comment">// resp.setCharacterEncoding(&quot;utf-8&quot;);   é¡µé¢è¾“å‡ºä½ å¥½ï¼šæ˜¾ç¤º æµ£æ</span></span><br><span class="line">        <span class="comment">// resp.setCharacterEncoding(&quot;gbk&quot;);       //é¡µé¢è¾“å‡ºä½ å¥½ï¼šæ˜¾ç¤º ä½ å¥½</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼ä¸€ï¼šéœ€è¦åŒæ—¶æŒ‡å®šresponseä¸æµè§ˆå™¨ç¼–ç æ ¼å¼</span></span><br><span class="line">        <span class="comment">// resp.setCharacterEncoding(&quot;utf-8&quot;);</span></span><br><span class="line">        <span class="comment">// resp.setHeader(&quot;content-type&quot;,&quot;text/html;charset=utf8&quot;);</span></span><br><span class="line">        <span class="comment">// æ–¹å¼äºŒï¼šç®€å†™å½¢å¼ï¼šè®¾ç½®MIMEå¹¶è®¾ç½®å­—ç¬¦ç¼–ç </span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// resp.setCharacterEncoding(&quot;utf-8&quot;);</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.write(<span class="string">&quot;&lt;h2&gt;ä½ å¥½ Response!&lt;/h2&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆå“åº”å­—èŠ‚æµï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“åº”å­—èŠ‚æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/responseTest02&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseTest02</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="type">ServletOutputStream</span> <span class="variable">sos</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line">        sos.write(<span class="string">&quot;ä½ å¥½ Response&quot;</span>.getBytes(<span class="string">&quot;utf-8&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="éªŒè¯ç "><a href="#éªŒè¯ç " class="headerlink" title="éªŒè¯ç "></a>éªŒè¯ç </h3><blockquote>
<p>æœ¬è´¨æ˜¯å›¾ç‰‡ï¼Œé˜²æ­¢æ¶æ„æ³¨å†Œï¼Œé€šè¿‡å†å†…å­˜ä¸­åˆ›å»ºå¯¹è±¡ã€‚</p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆéªŒè¯ç ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="è½¬å‘ä¸é‡å®šå‘"><a href="#è½¬å‘ä¸é‡å®šå‘" class="headerlink" title="è½¬å‘ä¸é‡å®šå‘"></a>è½¬å‘ä¸é‡å®šå‘</h2><h3 id="è½¬å‘ç›¸å…³API"><a href="#è½¬å‘ç›¸å…³API" class="headerlink" title="è½¬å‘ç›¸å…³API"></a>è½¬å‘ç›¸å…³API</h3><blockquote>
<p><strong>RequestDispatcher getRequestDispatcher(String path)</strong> è·å–è¯·æ±‚åˆ†å‘å™¨ã€‚</p>
<p><strong>forward(ServletRequest request, ServletResponse response)</strong> </p>
</blockquote>
<h3 id="è½¬å‘ç‰¹ç‚¹"><a href="#è½¬å‘ç‰¹ç‚¹" class="headerlink" title="è½¬å‘ç‰¹ç‚¹"></a>è½¬å‘ç‰¹ç‚¹</h3><blockquote>
<p><strong>1.</strong>   <strong>åœ°å€æ ä¸­çš„åœ°å€ä¸ä¼šæ”¹å˜ã€‚</strong></p>
<p><strong>2.</strong>   <strong>åªæœ‰ä¸€ä¸ªè¯·æ±‚ã€‚</strong></p>
<p><strong>3.</strong>   <strong>åœ¨ä¸¤ä¸ª Servlet ä¸­å¯ä»¥å…±äº«è¯·æ±‚ä¸­æ•°æ®ã€‚</strong></p>
<p><strong>4.</strong>   <strong>æœ€ç»ˆçš„å“åº”ç”± BServlet æ¥å†³å®šï¼Œå’Œ AServlet æ²¡æœ‰å…³ç³»ã€‚</strong></p>
<p><strong>5.</strong>   <strong>å¯ä»¥è®¿é—® WEB-INF ä¸­çš„èµ„æºã€‚</strong></p>
<p><strong>6.</strong>   <strong>è¯·æ±‚è½¬å‘ä¸èƒ½è·¨åŸŸè®¿é—®ã€‚</strong></p>
</blockquote>
<h3 id="é‡å®šå‘ç›¸å…³API"><a href="#é‡å®šå‘ç›¸å…³API" class="headerlink" title="é‡å®šå‘ç›¸å…³API"></a>é‡å®šå‘ç›¸å…³API</h3><blockquote>
<p>æ–¹å¼ä¸€ï¼š</p>
<ul>
<li><strong>response.setStatus(302);</strong></li>
<li><strong>response.setHeader(â€œlocationâ€,â€&#x2F;app&#x2F;responseDemo2â€);</strong></li>
</ul>
<p>æ–¹å¼äºŒï¼š</p>
<ul>
<li><strong>response.sendRedirect(String location)   locationï¼Œè½¬å‘åˆ°çš„èµ„æºè·¯å¾„ã€‚</strong></li>
</ul>
</blockquote>
<h3 id="é‡å®šå‘ç‰¹ç‚¹"><a href="#é‡å®šå‘ç‰¹ç‚¹" class="headerlink" title="é‡å®šå‘ç‰¹ç‚¹"></a>é‡å®šå‘ç‰¹ç‚¹</h3><blockquote>
<ul>
<li><strong>é‡å®šå‘éœ€è¦å‘é€çŠ¶æ€ç ï¼šçŠ¶æ€ç 302   èµ„æºè·¯å¾„</strong></li>
<li><strong>åœ°å€æ ä¸­çš„åœ°å€ä¼šæ”¹å˜ã€‚</strong></li>
<li><strong>æœ‰ä¸¤ä¸ªè¯·æ±‚ã€‚</strong></li>
<li><strong>åœ¨ä¸¤ä¸ªServletä¸­ä¸å¯ä»¥å…±äº«è¯·æ±‚ä¸­æ•°æ®ã€‚</strong></li>
<li><strong>æœ€ç»ˆçš„å“åº”ç”± BServlet æ¥å†³å®šï¼Œå’Œ AServlet æ²¡æœ‰å…³ç³»ã€‚</strong></li>
<li><strong>ä¸å¯ä»¥è®¿é—®WEB-INFä¸­çš„èµ„æºã€‚</strong></li>
<li><strong>è¯·æ±‚é‡å®šå‘èƒ½è·¨åŸŸè®¿é—®ã€‚</strong></li>
<li><strong>URLé‡å®šå‘ç›¸å½“äºå°†é‡å®šå‘çš„èµ„æºè·¯å¾„å¤åˆ¶åˆ°æµè§ˆå™¨åœ°å€æ ä¸­é‡æ–°çš„å‘é€ä¸€æ¬¡è¯·æ±‚ã€‚</strong></li>
<li><strong>æ³¨æ„ï¼š è¯·æ±‚è½¬å‘çš„èµ„æºè·¯å¾„ä¸éœ€è¦ä¸Šä¸‹æ–‡è·¯å¾„ï¼ŒURLé‡å®šå‘éœ€è¦è·å–è™šæ‹Ÿç›®å½•ï¼šrequest.getContextPath()ã€‚</strong></li>
</ul>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼šï¼ˆè½¬å‘ä¸é‡å®šå‘ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>






















































      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/28/MybatisPlus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Fei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MineTing">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/28/MybatisPlus/" class="post-title-link" itemprop="url">MybatisPlus</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2023-02-28T00:00:00+08:00">2023-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-02-26 23:22:19" itemprop="dateModified" datetime="2023-02-26T23:22:19+08:00">2023-02-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id><a href="#" class="headerlink" title></a></h1><h1 id="MybatisPlus"><a href="#MybatisPlus" class="headerlink" title="MybatisPlus"></a>MybatisPlus</h1><p><strong>ã€æ–‡æ¡£ã€‘</strong><a target="_blank" rel="noopener" href="https://baomidou.com/">https://baomidou.com/</a></p>
<p><strong>ã€å»ºè®®é˜…è¯»å®˜æ–¹æ–‡æ¡£å­¦ä¹  MybatisPlusã€‘</strong></p>
<h1 id="ä¸€ã€å¿«é€Ÿå…¥é—¨"><a href="#ä¸€ã€å¿«é€Ÿå…¥é—¨" class="headerlink" title="ä¸€ã€å¿«é€Ÿå…¥é—¨"></a>ä¸€ã€å¿«é€Ÿå…¥é—¨</h1><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><p><a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus">MyBatis-Plus (opens new window)</a>ï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://www.mybatis.org/mybatis-3/">MyBatis (opens new window)</a>çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p>
<h3 id="1-1-1-ç‰¹æ€§"><a href="#1-1-1-ç‰¹æ€§" class="headerlink" title="1.1.1 ç‰¹æ€§"></a>1.1.1 ç‰¹æ€§</h3><ul>
<li><strong>æ— ä¾µå…¥</strong>ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li>
<li><strong>æŸè€—å°</strong>ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li>
<li><strong>å¼ºå¤§çš„ CRUD æ“ä½œ</strong>ï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li>
<li><strong>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</strong>ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li>
<li><strong>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li>
<li><strong>æ”¯æŒ ActiveRecord æ¨¡å¼</strong>ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li>
<li><strong>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</strong>ï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li>
<li><strong>å†…ç½®ä»£ç ç”Ÿæˆå™¨</strong>ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li>
<li><strong>å†…ç½®åˆ†é¡µæ’ä»¶</strong>ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</li>
<li><strong>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“</strong>ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li>
<li><strong>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</strong>ï¼šå¯è¾“å‡º SQL è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li>
<li><strong>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</strong>ï¼šæä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li>
</ul>
<h3 id="1-1-2-æ¡†æ¶ç»“æ„"><a href="#1-1-2-æ¡†æ¶ç»“æ„" class="headerlink" title="1.1.2 æ¡†æ¶ç»“æ„"></a>1.1.2 æ¡†æ¶ç»“æ„</h3><img src="images/MybatisPlusæ¡†æ¶ç»“æ„.png" alt="MybatisPlusæ¡†æ¶ç»“æ„" style="zoom:60%;">

<h2 id="1-2-å¿«é€Ÿå¼€å§‹"><a href="#1-2-å¿«é€Ÿå¼€å§‹" class="headerlink" title="1.2 å¿«é€Ÿå¼€å§‹"></a>1.2 å¿«é€Ÿå¼€å§‹</h2><h3 id="1-2-1-æ•°æ®åº“è„šæœ¬"><a href="#1-2-1-æ•°æ®åº“è„šæœ¬" class="headerlink" title="1.2.1 æ•°æ®åº“è„šæœ¬"></a>1.2.1 æ•°æ®åº“è„šæœ¬</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line">    id <span class="type">BIGINT</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä¸»é”®ID&#x27;</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">    age <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;é‚®ç®±&#x27;</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> (id, name, age, email) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;Jone&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;test1@baomidou.com&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;test2@baomidou.com&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="number">28</span>, <span class="string">&#x27;test3@baomidou.com&#x27;</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">&#x27;Sandy&#x27;</span>, <span class="number">21</span>, <span class="string">&#x27;test4@baomidou.com&#x27;</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">&#x27;Billie&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;test5@baomidou.com&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><code>user</code>è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>age</th>
<th>email</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Jone</td>
<td>18</td>
<td><a href="mailto:&#116;&#101;&#115;&#x74;&#49;&#64;&#x62;&#97;&#111;&#x6d;&#105;&#100;&#111;&#x75;&#46;&#99;&#111;&#x6d;">&#116;&#101;&#115;&#x74;&#49;&#64;&#x62;&#97;&#111;&#x6d;&#105;&#100;&#111;&#x75;&#46;&#99;&#111;&#x6d;</a></td>
</tr>
<tr>
<td>2</td>
<td>Jack</td>
<td>20</td>
<td><a href="mailto:&#x74;&#101;&#x73;&#x74;&#50;&#x40;&#x62;&#97;&#111;&#x6d;&#105;&#x64;&#111;&#x75;&#x2e;&#99;&#x6f;&#109;">&#x74;&#101;&#x73;&#x74;&#50;&#x40;&#x62;&#97;&#111;&#x6d;&#105;&#x64;&#111;&#x75;&#x2e;&#99;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>3</td>
<td>Tom</td>
<td>28</td>
<td><a href="mailto:&#x74;&#x65;&#x73;&#116;&#51;&#x40;&#98;&#97;&#x6f;&#x6d;&#105;&#100;&#x6f;&#x75;&#x2e;&#x63;&#x6f;&#109;">&#x74;&#x65;&#x73;&#116;&#51;&#x40;&#98;&#97;&#x6f;&#x6d;&#105;&#100;&#x6f;&#x75;&#x2e;&#x63;&#x6f;&#109;</a></td>
</tr>
<tr>
<td>4</td>
<td>Sandy</td>
<td>21</td>
<td><a href="mailto:&#x74;&#x65;&#115;&#x74;&#52;&#x40;&#98;&#97;&#111;&#x6d;&#105;&#x64;&#x6f;&#117;&#x2e;&#99;&#x6f;&#x6d;">&#x74;&#x65;&#115;&#x74;&#52;&#x40;&#98;&#97;&#111;&#x6d;&#105;&#x64;&#x6f;&#117;&#x2e;&#99;&#x6f;&#x6d;</a></td>
</tr>
<tr>
<td>5</td>
<td>Billie</td>
<td>24</td>
<td><a href="mailto:&#116;&#x65;&#x73;&#116;&#x35;&#x40;&#x62;&#97;&#111;&#x6d;&#x69;&#100;&#111;&#x75;&#46;&#99;&#x6f;&#x6d;">&#116;&#x65;&#x73;&#116;&#x35;&#x40;&#x62;&#97;&#111;&#x6d;&#x69;&#100;&#111;&#x75;&#46;&#99;&#x6f;&#x6d;</a></td>
</tr>
</tbody></table>
<h3 id="1-2-2-åˆå§‹åŒ–å·¥ç¨‹"><a href="#1-2-2-åˆå§‹åŒ–å·¥ç¨‹" class="headerlink" title="1.2.2 åˆå§‹åŒ–å·¥ç¨‹"></a>1.2.2 åˆå§‹åŒ–å·¥ç¨‹</h3><p>â€‹		ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://start.spring.io/">Spring Initializer (opens new window) </a> åˆ›å»ºå·¥ç¨‹ï¼šMybatisPlus-Sample</p>
<h3 id="1-2-3-æ·»åŠ ä¾èµ–"><a href="#1-2-3-æ·»åŠ ä¾èµ–" class="headerlink" title="1.2.3 æ·»åŠ ä¾èµ–"></a>1.2.3 æ·»åŠ ä¾èµ–</h3><p>ç‰ˆæœ¬æŸ¥è¯¢ï¼š<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a></p>
<p>parent ä¾èµ–ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--MybatisPlusä¾èµ–--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.vintage<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-vintage-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="1-2-4-é…ç½®"><a href="#1-2-4-é…ç½®" class="headerlink" title="1.2.4 é…ç½®"></a>1.2.4 é…ç½®</h3><p>mysql8+ æ•°æ®åº“è¿æ¥é…ç½®ï¼šã€æ·»åŠ æ—¶åŒºï¼šGMT+8ã€‘</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#mysql8+æ•°æ®åº“è¿æ¥</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis_plus?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>mysql5 æ•°æ®åº“è¿æ¥é…ç½®ï¼š</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#mysql5æ•°æ®åº“è¿æ¥</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<p>MybatisPlusSampleApplication é…ç½®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.example.mybatisplus.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusSampleApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MybatisPlusSampleApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-5-ç¼–ç "><a href="#1-2-5-ç¼–ç " class="headerlink" title="1.2.5 ç¼–ç "></a>1.2.5 ç¼–ç </h3><p>åˆ›å»ºå®ä½“  <code>User</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mybatisplus.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-6-æµ‹è¯•"><a href="#1-2-6-æµ‹è¯•" class="headerlink" title="1.2.6 æµ‹è¯•"></a>1.2.6 æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mybatisplus;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.mybatisplus.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.example.mybatisplus.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickStartSampleTest</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨@AutowiredæŠ¥çº¢ï¼Œè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨@Resourceæ³¨è§£ï¼Œæˆ–è€…UserMapperæ·»åŠ @Repositoryã€@Mapperç­‰</span></span><br><span class="line">    <span class="comment">// @Autowired</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectListNull</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;User&gt; userList = userMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">        userList.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ§åˆ¶å°è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p>User(id&#x3D;1, name&#x3D;Jone, age&#x3D;18, email&#x3D;<a href="mailto:&#x74;&#101;&#115;&#x74;&#x31;&#64;&#98;&#x61;&#x6f;&#x6d;&#x69;&#x64;&#111;&#117;&#46;&#x63;&#x6f;&#109;">&#x74;&#101;&#115;&#x74;&#x31;&#64;&#98;&#x61;&#x6f;&#x6d;&#x69;&#x64;&#111;&#117;&#46;&#x63;&#x6f;&#109;</a>)<br>User(id&#x3D;2, name&#x3D;Jack, age&#x3D;20, email&#x3D;<a href="mailto:&#x74;&#x65;&#x73;&#116;&#x32;&#x40;&#x62;&#x61;&#111;&#x6d;&#x69;&#x64;&#111;&#117;&#x2e;&#99;&#111;&#x6d;">&#x74;&#x65;&#x73;&#116;&#x32;&#x40;&#x62;&#x61;&#111;&#x6d;&#x69;&#x64;&#111;&#117;&#x2e;&#99;&#111;&#x6d;</a>)<br>User(id&#x3D;3, name&#x3D;Tom, age&#x3D;28, email&#x3D;<a href="mailto:&#116;&#101;&#115;&#x74;&#51;&#x40;&#98;&#x61;&#111;&#109;&#x69;&#x64;&#x6f;&#x75;&#46;&#x63;&#111;&#x6d;">&#116;&#101;&#115;&#x74;&#51;&#x40;&#98;&#x61;&#111;&#109;&#x69;&#x64;&#x6f;&#x75;&#46;&#x63;&#111;&#x6d;</a>)<br>User(id&#x3D;4, name&#x3D;Sandy, age&#x3D;21, email&#x3D;<a href="mailto:&#x74;&#101;&#x73;&#116;&#x34;&#x40;&#98;&#97;&#x6f;&#109;&#x69;&#x64;&#111;&#117;&#x2e;&#99;&#111;&#109;">&#x74;&#101;&#x73;&#116;&#x34;&#x40;&#98;&#97;&#x6f;&#109;&#x69;&#x64;&#111;&#117;&#x2e;&#99;&#111;&#109;</a>)<br>User(id&#x3D;5, name&#x3D;Billie, age&#x3D;24, email&#x3D;<a href="mailto:&#116;&#101;&#x73;&#x74;&#x35;&#x40;&#x62;&#97;&#x6f;&#109;&#105;&#x64;&#x6f;&#x75;&#46;&#x63;&#111;&#x6d;">&#116;&#101;&#x73;&#x74;&#x35;&#x40;&#x62;&#97;&#x6f;&#109;&#105;&#x64;&#x6f;&#x75;&#46;&#x63;&#111;&#x6d;</a>)</p>
</blockquote>
<h2 id="1-3-é…ç½®"><a href="#1-3-é…ç½®" class="headerlink" title="1.3 é…ç½®"></a>1.3 é…ç½®</h2><h3 id="1-3-1-SpringBootå·¥ç¨‹"><a href="#1-3-1-SpringBootå·¥ç¨‹" class="headerlink" title="1.3.1 SpringBootå·¥ç¨‹"></a>1.3.1 SpringBootå·¥ç¨‹</h3><p>æ·»åŠ  @MapperScan æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.baomidou.mybatisplus.samples.quickstart.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-2-Spring-å·¥ç¨‹"><a href="#1-3-2-Spring-å·¥ç¨‹" class="headerlink" title="1.3.2 Spring å·¥ç¨‹"></a>1.3.2 Spring å·¥ç¨‹</h3><p><strong>é…ç½® MapperScan</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.baomidou.mybatisplus.samples.quickstart.mapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è°ƒæ•´ SqlSessionFactory ä¸º MyBatis-Plus çš„ SqlSessionFactory</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æ¥è¯´ï¼Œä¸€èˆ¬çš„ç®€å•å·¥ç¨‹ï¼Œé€šè¿‡ä»¥ä¸Šé…ç½®å³å¯æ­£å¸¸ä½¿ç”¨ MyBatis-Plusï¼Œå…·ä½“å¯å‚è€ƒä»¥ä¸‹é¡¹ç›®ï¼š<a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-quickstart">Spring Boot å¿«é€Ÿå¯åŠ¨ç¤ºä¾‹ (opens new window)</a>ã€<a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus-samples/tree/master/mybatis-plus-sample-quickstart-springmvc">Spring MVC å¿«é€Ÿå¯åŠ¨ç¤ºä¾‹ (opens new window)</a>ã€‚</p>
<h2 id="1-4-æ³¨è§£"><a href="#1-4-æ³¨è§£" class="headerlink" title="1.4 æ³¨è§£"></a>1.4 æ³¨è§£</h2><h3 id="1-4-1-TableName"><a href="#1-4-1-TableName" class="headerlink" title="1.4.1 @TableName"></a>1.4.1 <a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/TableName.java">@TableName</a></h3><ul>
<li>æè¿°ï¼šè¡¨åæ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨<strong>ã€åº”ç”¨äºæ•°æ®åº“è¡¨åå’Œå®ä½“åç§°ä¸ä¸€è‡´çš„æƒ…å†µã€‘</strong></li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;sys_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">ç±»å‹</th>
<th align="left">å¿…é¡»æŒ‡å®š</th>
<th align="left">é»˜è®¤å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">è¡¨å</td>
</tr>
<tr>
<td align="left">schema</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">schema</td>
</tr>
<tr>
<td align="left">keepGlobalPrefix</td>
<td align="left">boolean</td>
<td align="left">å¦</td>
<td align="left">false</td>
<td align="left">æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ tablePrefix çš„å€¼ï¼ˆå½“å…¨å±€ tablePrefix ç”Ÿæ•ˆæ—¶ï¼‰</td>
</tr>
<tr>
<td align="left">resultMap</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">xml ä¸­ resultMap çš„ idï¼ˆç”¨äºæ»¡è¶³ç‰¹å®šç±»å‹çš„å®ä½“ç±»å¯¹è±¡ç»‘å®šï¼‰</td>
</tr>
<tr>
<td align="left">autoResultMap</td>
<td align="left">boolean</td>
<td align="left">å¦</td>
<td align="left">false</td>
<td align="left">æ˜¯å¦è‡ªåŠ¨æ„å»º resultMap å¹¶ä½¿ç”¨ï¼ˆå¦‚æœè®¾ç½® resultMap åˆ™ä¸ä¼šè¿›è¡Œ resultMap çš„è‡ªåŠ¨æ„å»ºä¸æ³¨å…¥ï¼‰</td>
</tr>
<tr>
<td align="left">excludeProperty</td>
<td align="left">String[]</td>
<td align="left">å¦</td>
<td align="left">{}</td>
<td align="left">éœ€è¦æ’é™¤çš„å±æ€§å @since 3.3.1</td>
</tr>
</tbody></table>
<p><strong>å…³äº <code>autoResultMap</code> çš„è¯´æ˜ï¼š</strong></p>
<p>MP ä¼šè‡ªåŠ¨æ„å»ºä¸€ä¸ª <code>resultMap</code> å¹¶æ³¨å…¥åˆ° MyBatis é‡Œï¼ˆä¸€èˆ¬ç”¨ä¸ä¸Šï¼‰ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å†…å®¹ï¼š</p>
<p>å› ä¸º MP åº•å±‚æ˜¯ MyBatisï¼Œæ‰€ä»¥ MP åªæ˜¯å¸®æ‚¨æ³¨å…¥äº†å¸¸ç”¨ CRUD åˆ° MyBatis é‡Œï¼Œæ³¨å…¥ä¹‹å‰æ˜¯åŠ¨æ€çš„ï¼ˆæ ¹æ®æ‚¨çš„ Entity å­—æ®µä»¥åŠæ³¨è§£å˜åŒ–è€Œå˜åŒ–ï¼‰ï¼Œä½†æ˜¯æ³¨å…¥ä¹‹åæ˜¯é™æ€çš„ï¼ˆç­‰äº XML é…ç½®ä¸­çš„å†…å®¹ï¼‰ã€‚</p>
<p>è€Œå¯¹äº <code>typeHandler</code> å±æ€§ï¼ŒMyBatis åªæ”¯æŒå†™åœ¨ 2 ä¸ªåœ°æ–¹:</p>
<ol>
<li>å®šä¹‰åœ¨ resultMap é‡Œï¼Œä½œç”¨äºæŸ¥è¯¢ç»“æœçš„å°è£…</li>
<li>å®šä¹‰åœ¨ <code>insert</code> å’Œ <code>update</code> è¯­å¥çš„ <code>#&#123;property&#125;</code> ä¸­çš„ <code>property</code> åé¢ï¼ˆä¾‹ï¼š<code>#&#123;property,typehandler=xxx.xxx.xxx&#125;</code>ï¼‰ï¼Œå¹¶ä¸”åªä½œç”¨äºå½“å‰ <code>è®¾ç½®å€¼</code></li>
</ol>
<p>é™¤äº†ä»¥ä¸Šä¸¤ç§ç›´æ¥æŒ‡å®š <code>typeHandler</code> çš„å½¢å¼ï¼ŒMyBatis æœ‰ä¸€ä¸ªå…¨å±€æ‰«æè‡ªå®šä¹‰ <code>typeHandler</code> åŒ…çš„é…ç½®ï¼ŒåŸç†æ˜¯æ ¹æ®æ‚¨çš„ <code>property</code> ç±»å‹å»æ‰¾å…¶å¯¹åº”çš„ <code>typeHandler</code> å¹¶ä½¿ç”¨ã€‚</p>
<h3 id="1-4-2-TableId"><a href="#1-4-2-TableId" class="headerlink" title="1.4.2 @TableId"></a>1.4.2 <a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/TableId.java">@TableId</a></h3><ul>
<li>æè¿°ï¼šä¸»é”®æ³¨è§£ <strong>ã€åº”ç”¨äºè¡¨å­—æ®µå’Œå®ä½“ç±»å±æ€§ä¸ä¸€è‡´çš„æƒ…å†µã€‘</strong></li>
<li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»ä¸»é”®å­—æ®µ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;sys_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@TableId(&quot;id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">ç±»å‹</th>
<th align="left">å¿…é¡»æŒ‡å®š</th>
<th align="left">é»˜è®¤å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">ä¸»é”®å­—æ®µå</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">Enum</td>
<td align="left">å¦</td>
<td align="left">IdType.NONE</td>
<td align="left">æŒ‡å®šä¸»é”®ç±»å‹</td>
</tr>
</tbody></table>
<h4 id="IdType"><a href="#IdType" class="headerlink" title=" IdType"></a><a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/IdType.java"> IdType</a></h4><table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">AUTO</td>
<td align="left">æ•°æ®åº“ ID è‡ªå¢</td>
</tr>
<tr>
<td align="left">NONE</td>
<td align="left">æ— çŠ¶æ€ï¼Œè¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹ï¼ˆæ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€ï¼Œå…¨å±€é‡Œçº¦ç­‰äº INPUTï¼‰</td>
</tr>
<tr>
<td align="left">INPUT</td>
<td align="left">insert å‰è‡ªè¡Œ set ä¸»é”®å€¼</td>
</tr>
<tr>
<td align="left">ASSIGN_ID</td>
<td align="left">åˆ†é… ID(ä¸»é”®ç±»å‹ä¸º Number(Long å’Œ Integer)æˆ– String)(since 3.3.0)ï¼Œä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextId</code>(é»˜è®¤å®ç°ç±»ä¸º<code>DefaultIdentifierGenerator</code>é›ªèŠ±ç®—æ³•)</td>
</tr>
<tr>
<td align="left">ASSIGN_UUID</td>
<td align="left">åˆ†é… UUIDï¼Œä¸»é”®ç±»å‹ä¸º String(since 3.3.0)ï¼Œä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextUUID</code>(é»˜è®¤ default æ–¹æ³•)</td>
</tr>
<tr>
<td align="left"><del>ID_WORKER</del></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID é•¿æ•´å‹ç±»å‹(please use <code>ASSIGN_ID</code>)</td>
</tr>
<tr>
<td align="left"><del>UUID</del></td>
<td align="left">32 ä½ UUID å­—ç¬¦ä¸²(please use <code>ASSIGN_UUID</code>)</td>
</tr>
<tr>
<td align="left"><del>ID_WORKER_STR</del></td>
<td align="left">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ ID å­—ç¬¦ä¸²ç±»å‹(please use <code>ASSIGN_ID</code>)</td>
</tr>
</tbody></table>
<h4 id="é›ªèŠ±ç®—æ³•"><a href="#é›ªèŠ±ç®—æ³•" class="headerlink" title="é›ªèŠ±ç®—æ³•"></a>é›ªèŠ±ç®—æ³•</h4><h3 id="1-4-3-TableField"><a href="#1-4-3-TableField" class="headerlink" title="1.4.3  @TableField"></a>1.4.3 <a target="_blank" rel="noopener" href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/TableField.java"> @TableField</a></h3><ul>
<li>æè¿°ï¼šå­—æ®µæ³¨è§£ï¼ˆéä¸»é”®ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableName(&quot;sys_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="meta">@TableField(&quot;nickname&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">ç±»å‹</th>
<th align="left">å¿…é¡»æŒ‡å®š</th>
<th align="left">é»˜è®¤å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">æ•°æ®åº“å­—æ®µå</td>
</tr>
<tr>
<td align="left">exist</td>
<td align="left">boolean</td>
<td align="left">å¦</td>
<td align="left">true</td>
<td align="left">æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ</td>
</tr>
<tr>
<td align="left">condition</td>
<td align="left">String</td>
<td align="left">å¦</td>
<td align="left">â€œâ€</td>
<td align="left">å­—æ®µ <code>where</code> å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶ï¼Œæœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†ï¼Œæ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ &#96;%s&#x3D;#</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Fei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
